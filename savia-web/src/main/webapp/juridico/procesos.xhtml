<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../home.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="bodyJR">
        <h:outputStylesheet name="css/cntjuridica.css"/>
        <center>

            <h:form id="frmGestion">
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{procesoBean.modulo.descripcion}">#{procesoBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right"> 
                        <p:commandButton rendered="#{procesoBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{procesoBean.listar}" icon="pi pi-sync" class="boton-normal btn1" />
                        <p:commandButton rendered="#{procesoBean.accionCrear}" title="Crear" ajax="true" actionListener="#{procesoBean.crear()}" icon="pi pi-file-o" class="boton-normal btn1" />
                    </f:facet>
                </p:toolbar>

                <p:dataTable var="obj" class="listaDatos" value="#{procesoBean.lazyProceso}" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                             widgetVar="tablaWidget"
                             style="font-size:11px;"
                             scrollable="false"
                             scrollWidth="140%"
                             rowKey="#{obj.id}" reflow="true">

                    <p:column headerText="Opciones" style="text-align: center;">
                        <p:commandButton rendered="#{procesoBean.accionVer}" title="Ver" actionListener="#{procesoBean.ver(obj.id)}" icon="pi pi-search" class="btn-icono " />
                        <p:commandButton rendered="#{procesoBean.accionEditar}" title="Editar" actionListener="#{procesoBean.editar(obj.id)}" icon="pi pi-pencil" class="btn-icono "/>
                        <p:commandButton rendered="#{procesoBean.accionAdicional6}" title="Documentos" actionListener="#{procesoBean.listarDocumentos(obj.id)}" icon="pi pi-file-pdf" class="btn-icono " />                       
                        <p:commandButton rendered="#{procesoBean.accionAdicional1}" title="Estados" actionListener="#{procesoBean.listarEstados(obj.id)}" icon="pi pi-plus-circle" class="btn-icono " />                       
                        <p:commandButton rendered="#{procesoBean.accionAdicional3}" title="Campos plantillas" actionListener="#{procesoBean.listarCampos(obj.id)}" icon="pi pi-th-large" class="btn-icono " />
                    </p:column>

                    <p:column headerText="Nombre" filterBy="#{obj.nombre}" >
                        <f:facet name="filter">
                            <p:inputText label="Nombre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.nombre}" title="#{obj.nombre}"/>
                    </p:column>

                    <p:column headerText="Descripción" >
                        <h:outputText value="#{obj.descripcion}" title="#{obj.descripcion}"/>
                    </p:column>

                    <p:column headerText="Activo" >
                        <h:outputText value="#{obj.activoStr}" title="#{obj.activoStr}"/>
                    </p:column>

                </p:dataTable>
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>

            <!-- Dialogo para ver proceso -->
            <p:dialog header="Ver" widgetVar="dialogoVer" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria" >
                        <p:commandButton id="auditoria" action="#{procesoBean.getAuditoria(procesoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" class="btnAuditoria btn-icono" />
                    </h:form>

                    <h:form id="frmVer" class="formDialogo">
                        <div>
                            <p:panel id="pnlInfoVer" header="Información del proceso" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Id" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objeto.id}" />

                                    <h:outputText value="Nombre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objeto.nombre}" />                                

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objeto.activoStr}"  />

                                    <h:outputText value="Tipo Proceso" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoProceso(procesoBean.objeto.tipoProceso)}"  />

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <h:outputText value="#{procesoBean.objeto.descripcion}" />
                                    </p:column>

                                </p:panelGrid>
                            </p:panel>
                        </div>
                        
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>  

            <!-- Dialogo para crear nuevo proceso -->
            <p:dialog header="Crear" widgetVar="dialogoCrear" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmCrear" class="formDialogo"> 
                        <div>
                            <p:panel id="pnlInformacion" header="Información del proceso" style="margin-bottom:30px; margin-top: 0.6rem;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel for="ccodigo" value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="ccodigo" value="#{procesoBean.objeto.nombre}"  required="true" requiredMessage="Debe diligenciar el nombre del proceso." />

                                    <p:outputLabel for="blActivo" value="Activo " style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="blActivo" value="#{procesoBean.objeto.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" />

                                    <p:outputLabel for="ctipo" value="Tipo Proceso" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 2px;">
                                        <p:selectOneMenu id="ctipo" value="#{procesoBean.objeto.tipoProceso}" required="true" requiredMessage="Tipo Proceso: valor obligatorio" style="width: 32%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{procesoBean.listaTipoProceso}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                        </p:selectOneMenu> 
                                    </p:column>                                

                                </p:panelGrid>

                                <p:panelGrid columns="2"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 0px;">

                                    <h:outputText value="Descripción " style="font-weight:bold" class="header-back" />
                                    <p:inputTextarea id="cdescripcion" value="#{procesoBean.objeto.descripcion}" required="true" requiredMessage="Debe diligenciar la descripción."
                                                     rows="2" cols="140" maxlength="2048"  />

                                </p:panelGrid>
                            </p:panel>
                        </div>
                        
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.guardar()}" process="@all" update="frmCrear, pnlInformacion" />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo para editar proceso -->
            <p:dialog header="Editar" widgetVar="dialogoEditar" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >                
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria" >
                        <p:commandButton id="auditoria" action="#{procesoBean.getAuditoria(procesoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" class="btnAuditoria btn-icono" />
                    </h:form>
                    <h:form id="frmEditar" class="formDialogo">   
                        <div>
                            <p:panel id="pnlInformacion" header="Información del proceso" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="ccodigo" value="#{procesoBean.objeto.nombre}" required="true" requiredMessage="Debe diligenciar el nombre del proceso." />

                                    <h:outputText value="Activo " style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="blActivo" value="#{procesoBean.objeto.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" />

                                    <p:outputLabel for="ctipo" value="Tipo Proceso" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <p:selectOneMenu id="ctipo" value="#{procesoBean.objeto.tipoProceso}" required="true" requiredMessage="Tipo Proceso: valor obligatorio" style="width: 32%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{procesoBean.listaTipoProceso}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                        </p:selectOneMenu> 
                                    </p:column>


                                </p:panelGrid>
                                <p:panelGrid columns="2"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 2px;">

                                    <h:outputText value="Descripción " style="font-weight:bold" class="header-back" />
                                    <p:inputTextarea id="cdescripcion" value="#{procesoBean.objeto.descripcion}" required="true" requiredMessage="Debe diligenciar la descripción."
                                                     rows="5" cols="140" maxlength="2048"  />

                                </p:panelGrid>

                            </p:panel>
                        </div>

                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Modificar" class="boton btn-azul" actionListener="#{procesoBean.modificar()}" process="@all" update="frmEditar, pnlInformacion" />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoEditar').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo lista estados -->
            <p:dialog header="Estados" widgetVar="dialogoEstados" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmEstados" class="formDialogo">  
                        <div>
                            <p:panel  header="Lista de estados" style="margin-bottom:10px; margin-top: 0.6rem;" toggleable="true">                            
                                <div align="right"> 
                                    <p:commandButton rendered="#{procesoBean.accionAdicional1 and procesoBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{procesoBean.listarEstados()}" icon="pi pi-sync" class="btn-icono" />
                                    <p:commandButton title="Agregar estado" actionListener="#{procesoBean.crearEstado()}" immediate="true" style="margin-bottom: 0.4rem;" icon="pi pi-file-o" class="btn-icono"  />
                                </div>
                                <p:dataTable var="obj" class="listaDatos" value="#{procesoBean.lazyEstados}" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                             widgetVar="tablaWidget"
                                             style="font-size:11px;"
                                             scrollable="false"
                                             scrollWidth="140%"
                                             rowKey="#{obj.id}" reflow="true">

                                    <p:column headerText="Opciones" style="text-align: center;">
                                        <p:commandButton rendered="#{procesoBean.accionAdicional1 and procesoBean.accionVer}" title="Ver" actionListener="#{procesoBean.verEstado(obj.id)}" icon="pi pi-search" class="btn-icono"/>
                                        <p:commandButton rendered="#{procesoBean.accionAdicional1 and procesoBean.accionEditar}" title="Editar" actionListener="#{procesoBean.editarEstado(obj.id)}" icon="pi pi-pencil" class="btn-icono" />
                                        <p:commandButton rendered="#{procesoBean.accionAdicional5}" title="Grupos estado" actionListener="#{procesoBean.gruposEstados(obj.id)}" icon="pi pi-id-card" class="btn-icono"/>
                                    </p:column>

                                    <p:column headerText="Tipo"  >
                                        <h:outputText value="#{procesoBean.getTipoEstadoStr(obj.tipo)}" title="#{procesoBean.getTipoEstadoStr(obj.tipo)}"/>
                                    </p:column>

                                    <p:column headerText="Nombre" filterBy="#{obj.nombre}" >
                                        <f:facet name="filter">
                                            <p:inputText label="Nombre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{obj.nombre}" title="#{obj.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Estado Padre" filterBy="#{obj.cntjTransicionId.cntjEstadoId.nombre}" >
                                        <f:facet name="filter">
                                            <p:inputText label="Estado Padre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{obj.cntjTransicionId.cntjEstadoId.nombre}" title="#{obj.cntjTransicionId.cntjEstadoId.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Transición" filterBy="#{obj.cntjTransicionId.nombre}" >
                                        <f:facet name="filter">
                                            <p:inputText label="Estado Padre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{obj.cntjTransicionId.nombre}" title="#{obj.cntjTransicionId.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Activo" >
                                        <h:outputText value="#{obj.activoStr}" title="#{obj.activoStr}"/>
                                    </p:column>

                                </p:dataTable>

                            </p:panel>
                        </div>                      

                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoEstados').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo para ver estado -->
            <p:dialog header="Ver Estado" widgetVar="dialogoVerEstado" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoEstado.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmVerEstado" class="formDialogo">
                        <div>
                            <p:panel id="pnlInfoVer" header="Información del estado" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Tipo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoEstadoStr(procesoBean.objetoEstado.tipo)}" />

                                    <h:outputText value="Nombre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.nombre}" />
                                    
                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.activoStr}"  />
                                    
                                    <h:outputText value="Modifica Fecha" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.modificaFechaStr}" />
                                    
                                    <h:outputText value="Modifica Datos" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.modificaDatoStr}" />
                                    
                                    <h:outputText value="Valida Grupo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.validaGrupoStr}" />
                                    
                                </p:panelGrid>

                                <p:panelGrid id="panelVerDesc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 2px;">

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.descripcion}" />

                                </p:panelGrid>
                            </p:panel>

                            <p:panel id="pnlVerInfotrc" visible="#{procesoBean.objetoEstado.tipo > 0}" header="Padre" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrearTrc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Nombre Transición"  style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoTransicion.nombre}"  />

                                    <h:outputText value="Estado Padre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoTransicion.cntjEstadoId.nombre}"  />

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <h:outputText value="#{procesoBean.objetoTransicion.activoStr}"  />
                                    </p:column>
                                </p:panelGrid>
                            </p:panel>

                            <p:panel header="Documentos Estado" style="margin-bottom:10px;" toggleable="true">
                                <p:dataTable id="tblPlantillaEstadoVer" var="vplaes"  class="listaDatos" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             value="#{procesoBean.listaEstadoProcesoDocumento}" 
                                             widgetVar="tablaEstadoPlantilla" scrollable="false" 
                                             emptyMessage="No se encontraron registros" 
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100"
                                             >

                                    <p:column headerText="Documento">
                                        <h:outputText value="#{vplaes.procesodocumentoId.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Fecha Creacion">
                                        <h:outputText value="#{vplaes.fechaHoraCrea}">
                                            <f:convertDateTime pattern="yyyy-MM-dd" />
                                        </h:outputText>
                                    </p:column>

                                </p:dataTable>
                            </p:panel>
                        </div>
                        
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoVerEstado').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog> 

            <!-- Dialogo crear nuevo estado -->
            <p:dialog header="Crear Estado" widgetVar="dialogoCrearEstado" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmCrearEstado" class="formDialogo"> 
                        <div>
                            <p:panel id="pnlInfo" header="Información del estado" style="margin-bottom:10px; margin-top: 0.6rem;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Tipo" for="cetipo" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-grid-col-3">
                                        <p:selectOneMenu id="cetipo" value="#{procesoBean.objetoEstado.tipo}" required="true" requiredMessage="Debe seleccionar el tipo de estado." filter="true" filterMatchMode="contains" style="min-width: 100% !important;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                            <f:selectItems value="#{procesoBean.listaTipoEstado}" var="tes" itemLabel="#{tes.nombre}" itemValue="#{tes.id}" />
                                            <p:ajax event="change" listener="#{procesoBean.requiereInfotransicion()}" update="ctnombre, ctestado, :frmCrearEstado:pnlInfotrc" />
                                        </p:selectOneMenu>
                                    </p:column>

                                    <p:outputLabel value="Nombre" for="cenombre" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-grid-col-3">
                                        <p:inputText id="cenombre" value="#{procesoBean.objetoEstado.nombre}"  required="true" maxlength="63" requiredMessage="Debe diligenciar el nombre." style="min-width: 100% !important;" />
                                    </p:column>

                                    <p:outputLabel value="Activo" for="ceactivo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="ceactivo" value="#{procesoBean.objetoEstado.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                    <p:outputLabel value="Modifica Fecha" for="cemodfecha" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="cemodfecha" value="#{procesoBean.objetoEstado.modificaFecha}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                    <p:outputLabel value="Modifica Datos" for="cemoddatos" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="cemoddatos" value="#{procesoBean.objetoEstado.modificaDatos}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />
                                    
                                    <p:outputLabel value="Valida Grupo" for="cevalgrupo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="cevalgrupo" value="#{procesoBean.objetoEstado.validaGrupo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />
                                    
                                </p:panelGrid>

                                <p:panelGrid id="panelCrearDesc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Descripción" for="cedescripcion" style="font-weight:bold" class="header-back" />
                                    <p:column style="margin-right: 4px;">
                                        <div class="columna" style="width: 100%;">
                                            <p:inputTextarea id="cedescripcion" value="#{procesoBean.objetoEstado.descripcion}" autoResize="true" required="true" requiredMessage="Debe diligenciar la descripción."
                                                             cols="150" rows="4" maxlength="512" counter="display1Crear1" counterTemplate="{0} caracteres faltantes." style="min-width: 100% !important;"  />                                      
                                            <h:outputText id="display1Crear1" />
                                        </div>
                                    </p:column>

                                </p:panelGrid>
                            </p:panel>

                            <p:panel id="pnlInfotrc" visible="#{procesoBean.requiereInfoTransicion}" header="Padre" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrearTrc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Nombre Transición" for="ctnombre" style="font-weight:bold" class="header-back" />
                                    <p:inputText id="ctnombre" value="#{procesoBean.objetoTransicion.nombre}" maxlength="31" required="#{procesoBean.requiereInfoTransicion}" requiredMessage="Debe diligenciar el nombre de la transición." />

                                    <p:outputLabel value="Estado Padre" for="ctestado" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="ctestado" value="#{procesoBean.objetoTransicion.cntjEstadoId.id}" required="#{procesoBean.requiereInfoTransicion}" requiredMessage="Debe seleccionar el estado padre." filter="true" filterMatchMode="contains"  >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaEstados}" var="tes" itemLabel="#{tes.nombre}" itemValue="#{tes.id}" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="ctactivo" value="#{procesoBean.objetoTransicion.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                </p:panelGrid>
                            </p:panel>

                            <p:panel header="Documentos Estado" style="margin-bottom:10px;" toggleable="true">
                                  
                                <div align="left" style="padding: 0.4rem;"> 
                                    <div class="ui-fluid formgrid grid" style="margin: 0px;" >
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Documento"/>
                                            <p:selectOneMenu id="option" value="#{procesoBean.objEstadoProcesoDocumento.procesodocumentoId.id}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />  
                                                <f:selectItems value="#{procesoBean.listaDocumentosProceso}" var="doc" itemLabel="#{doc.nombre}" itemValue="#{doc.id}" />
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="field col-12 md:col-3 contbtnadd">                                                
                                            <p:commandButton title="Agregar documento" 
                                                             value="Agregar documento" 
                                                             class="btn-icono"
                                                             action="#{procesoBean.agregarDocumentoEstado()}"  
                                                             icon="pi pi-plus-circle" 
                                                             style="width: 1rem; min-width: 10rem;" 
                                                             update=":frmCrearEstado:tblPlantillaEstado, :frmCrearEstado:option" 
                                                             process="@this :frmCrearEstado:option" 
                                                             />
                                        </div>
                                    </div>
                                </div>
                                <p:dataTable id="tblPlantillaEstado" var="plaes"  class="listaDatos" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             value="#{procesoBean.listaEstadoProcesoDocumento}" 
                                             widgetVar="tablaEstadoPlantilla" scrollable="false" 
                                             emptyMessage="No se encontraron registros" 
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100"
                                             >

                                    <p:column headerText="Opciones">
                                        <p:commandButton title="Quitar plantilla" action="#{procesoBean.quitarDocumentoEstado(plaes.procesodocumentoId.id)}" 
                                                         icon="ui-icon-trash" 
                                                         immediate="true" 
                                                         update=":frmCrearEstado:tblPlantillaEstado" >
                                            <p:confirm header="Confirmación" message="Está seguro que desea quitar el registro?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                    </p:column>

                                    <p:column headerText="Documento" filterBy="#{plaes.procesodocumentoId.nombre}" filterMatchMode="contains" >
                                        <h:outputText value="#{plaes.procesodocumentoId.nombre}"/>
                                    </p:column>

                                </p:dataTable>
                                
                            </p:panel>                            
                        </div>

                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.guardarEstado()}" process="@all" update="frmCrearEstado, pnlInfo" />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoCrearEstado').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>  
            </p:dialog>

            <!-- Dialogo editar estado -->
            <p:dialog header="Editar Estado" widgetVar="dialogoEditarEstado" appendTo="@(body)" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoEstado.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>
                    <h:form id="frmEditarEstado" class="formDialogo">
                        <div>
                            <p:panel id="pnlInfo" header="Información del estado" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Tipo" for="cetipo" class="header-back" />
                                    <p:selectOneMenu id="cetipo" value="#{procesoBean.objetoEstado.tipo}" required="true" requiredMessage="Debe seleccionar el tipo de estado." filter="true" filterMatchMode="contains"  >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaTipoEstado}" var="tes" itemLabel="#{tes.nombre}" itemValue="#{tes.id}" />
                                        <p:ajax event="change" listener="#{procesoBean.requiereInfotransicion()}" update="ctnombre, ctestado, :frmEditarEstado:pnlEdiInfotrc" />
                                    </p:selectOneMenu>

                                    <p:outputLabel value="Nombre" for="cenombre" class="header-back" />
                                    <p:inputText id="cenombre" value="#{procesoBean.objetoEstado.nombre}"  required="true" requiredMessage="Debe diligenciar el nombre." />

                                    <h:outputText value="Activo" class="header-back" />
                                    <p:selectBooleanButton id="ceactivo" value="#{procesoBean.objetoEstado.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />
                                    
                                    <p:outputLabel value="Modifica Fecha" for="cemodfecha"  class="header-back" />
                                    <p:selectBooleanButton id="cemodfecha" value="#{procesoBean.objetoEstado.modificaFecha}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                    <p:outputLabel value="Modifica Datos" for="cemoddatos"  class="header-back" />
                                    <p:selectBooleanButton id="cemoddatos" value="#{procesoBean.objetoEstado.modificaDatos}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />
                                    
                                    <p:outputLabel value="Valida Grupo" for="cevalgrupo"  class="header-back" />
                                    <p:selectBooleanButton id="cevalgrupo" value="#{procesoBean.objetoEstado.validaGrupo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                </p:panelGrid>

                                <p:panelGrid id="panelEditarDesc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Descripción" for="cedescripcion" style="font-weight:bold" class="header-back" />
                                    <p:column style="margin-right: 2px;">
                                        <div class="columna" style="width: 100%;">
                                            <p:inputTextarea id="cedescripcion" value="#{procesoBean.objetoEstado.descripcion}" autoResize="true" required="true" requiredMessage="Debe diligenciar la descripción."
                                                             cols="150" rows="4" maxlength="512" counter="display1Crear1" counterTemplate="{0} caracteres faltantes." style="min-width: 100% !important;"  />                                      
                                            <h:outputText id="display1Crear1" />
                                        </div>
                                    </p:column>

                                </p:panelGrid>

                            </p:panel>
                            
                            <p:panel id="pnlEdiInfotrc" visible="#{procesoBean.requiereInfoTransicion}" header="Padre" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrearTrc" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Nombre Transición" for="ctnombre" style="font-weight:bold" class="header-back" />
                                    <p:inputText id="ctnombre" value="#{procesoBean.objetoTransicion.nombre}"  required="#{procesoBean.requiereInfoTransicion}" requiredMessage="Debe diligenciar el nombre de la transición." />

                                    <p:outputLabel value="Estado Padre" for="ctestado" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="ctestado" value="#{procesoBean.objetoTransicion.cntjEstadoId.id}" required="#{procesoBean.requiereInfoTransicion}" requiredMessage="Debe seleccionar el estado padre." filter="true" filterMatchMode="contains"  >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaEstados}" var="tes" itemLabel="#{tes.nombre}" itemValue="#{tes.id}" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="ctactivo" value="#{procesoBean.objetoTransicion.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:5rem;" />

                                </p:panelGrid>
                            </p:panel>
                            
                            <p:panel header="Documentos Estado" style="margin-bottom:10px;" toggleable="true">
                                <div align="left" style="padding: 0.4rem;"> 
                                    <div class="ui-fluid formgrid grid" style="margin: 0px;" >
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Documento"/>
                                            <p:selectOneMenu id="option" value="#{procesoBean.objEstadoProcesoDocumento.procesodocumentoId.id}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />  
                                                <f:selectItems value="#{procesoBean.listaDocumentosProceso}" var="pla" itemLabel="#{pla.nombre}" itemValue="#{pla.id}" />
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="field col-12 md:col-3 contbtnadd">                                                
                                            <p:commandButton title="Agregar documento" 
                                                             value="Agregar documento" 
                                                             action="#{procesoBean.agregarDocumentoEstado()}"  
                                                             class="btn-icono"
                                                             icon="pi pi-plus-circle" 
                                                             style="width: 1rem; min-width: 10rem;" 
                                                             update=":frmEditarEstado:tblPlantillaEstadoEdit, :frmEditarEstado:option" 
                                                             process="@this :frmEditarEstado:option" 
                                                             />
                                        </div>
                                    </div>
                                </div>
                                <p:dataTable id="tblPlantillaEstadoEdit" var="plaesed"  class="listaDatos" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             value="#{procesoBean.listaEstadoProcesoDocumento}" 
                                             widgetVar="tablaEstadoPlantilla" scrollable="false" 
                                             emptyMessage="No se encontraron registros" 
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100"
                                             >

                                    <p:column headerText="Opciones">
                                        <p:commandButton title="Quitar plantilla" action="#{procesoBean.quitarDocumentoEstadoId(plaesed.id)}" 
                                                         icon="pi pi-trash" 
                                                         class="btn-icono"
                                                         immediate="true" 
                                                         update=":frmEditarEstado:tblPlantillaEstadoEdit" >
                                            <p:confirm header="Confirmación" message="Está seguro que desea quitar el registro?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                    </p:column>

                                    <p:column headerText="Documento"  >
                                        <h:outputText value="#{plaesed.procesodocumentoId.nombre}"/>
                                    </p:column>

                                </p:dataTable>
                            </p:panel>
                        </div>
                        
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.modificarEstado()}" process="@all" update="frmEditarEstado, pnlInfo" />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoEditarEstado').hide()" immediate="true" style="margin-left: 5px;"/> 
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                        
                    </h:form>
                </div>  
            </p:dialog>

            <!-- Dialogo grupos del estado -->
            <p:dialog header="Grupos Estados" widgetVar="dialogoGrupoEstado" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true"  >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria" >
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoEstado.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmVerGrupoEstado" class="formDialogo">
                        <div>           
                            <p:panel id="pnlInfoVer" header="Información del estado" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Tipo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoEstadoStr(procesoBean.objetoEstado.tipo)}" />

                                    <h:outputText value="Nombre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.nombre}" />

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.descripcion}" />

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoEstado.activoStr}"  />

                                </p:panelGrid>     
                            </p:panel>
                            <p:panel header="Grupos asociados" style="margin-bottom:10px;" toggleable="true">
                                <div align="left" style="padding: 0.4rem;"> 
                                    <div class="ui-fluid formgrid grid" style="margin: 0px;" >
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Grupo"/>
                                            <p:selectOneMenu id="option" value="#{procesoBean.objetoEstadoGrupo.grupoId.id}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />  
                                                <f:selectItems value="#{procesoBean.listaGrupos}" var="gru" itemLabel="#{gru.nombre}" itemValue="#{gru.id}" />
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Ejecucion"/>                                                
                                            <p:selectOneMenu id="geejecucion" value="#{procesoBean.objetoEstadoGrupo.ejecucion}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel="Si" itemValue="true" />  
                                                <f:selectItem itemLabel="No" itemValue="false" />  
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="field col-12 md:col-3 contbtnadd">                                                
                                            <p:commandButton title="Agregar grupo" 
                                                             value="Agregar grupo" 
                                                             action="#{procesoBean.agregarGrupoEstado()}"  
                                                             class="btn-icono"
                                                             icon="pi pi-plus-circle" 
                                                             style="width: 1rem; min-width: 10rem;" 
                                                             update=":frmVerGrupoEstado:tblGrupoEstado, :frmVerGrupoEstado:option, :frmVerGrupoEstado:geejecucion" 
                                                             process="@this :frmVerGrupoEstado:option :frmVerGrupoEstado:geejecucion" 
                                                             />
                                        </div>
                                    </div>
                                </div>
                                <p:dataTable id="tblGrupoEstado" var="gru" value="#{procesoBean.objetoEstado.listaEstadoGrupo}"   class="listaDatos"  paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros" lazy="false"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100"                                                  
                                             widgetVar="tablaPlanCampo" scrollable="false" >

                                    <p:column headerText="Grupo" filterBy="#{gru.grupoId.nombre}" filterMatchMode="contains" >
                                        <f:facet name="filter">
                                            <p:inputText label="Cuenta" class="txtFiltro" maxlength="128" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }" style="width: 95%;" onchange="PF('tablaPlanCampo').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{gru.grupoId.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Grupo Activo">
                                        <h:outputText value="#{gru.grupoId.activoStr}"/>
                                    </p:column>

                                    <p:column headerText="Ejecución">
                                        <h:outputText value="#{gru.ejecucionStr}"/>
                                    </p:column>

                                    <p:column headerText="Opciones">
                                        <p:commandButton rendered="#{!contacto.nuevo}" title="Quitar grupo" action="#{procesoBean.quitarEstadoGrupo(gru.id)}" class="btn-icono" icon="pi pi-trash" immediate="true" update=":frmVerGrupoEstado:tblGrupoEstado" >
                                            <p:confirm header="Confirmación" message="Está seguro que desea quitar el registro?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(gru.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </div>
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoGrupoEstado').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>  
            </p:dialog> 
           

            <!-- Dialogo para ver campos plantillas -->
            <p:dialog header="Campos" widgetVar="dialogoVerCaplantilla" appendTo="@(body)" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmVerCp" class="formDialogo">
                        <div>
                            <p:panel header="Lista de campos" toggleable="true" style="height:auto; margin-bottom:0.4rem; margin-top: 0.4rem;">
                                <div align="right"> 
                                    <p:commandButton rendered="#{procesoBean.accionAdicional3 and procesoBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{procesoBean.listarCampos}" icon="pi pi-sync" class="btn-icono" />
                                    <p:commandButton rendered="#{procesoBean.accionAdicional3 and procesoBean.accionCrear}" title="Crear" ajax="true" actionListener="#{procesoBean.crearCampo()}" icon="pi pi-file-o" class="btn-icono"/>
                                </div>
                                <p:dataTable var="obj" class="listaDatos" value="#{procesoBean.lazyCampos}"  paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                             widgetVar="tablaWidget"
                                             style="font-size:11px;"
                                             scrollable="false"
                                             scrollWidth="140%"
                                             rowKey="#{obj.id}" reflow="true">

                                    <p:column headerText="Opciones" style="text-align: center;">
                                        <p:commandButton rendered="#{procesoBean.accionAdicional3 and procesoBean.accionVer}" title="Ver" actionListener="#{procesoBean.verCampo(obj.id)}" icon="pi pi-search" class="btn-icono" />
                                        <p:commandButton rendered="#{procesoBean.accionAdicional3 and procesoBean.accionEditar}" title="Editar" actionListener="#{procesoBean.editarCampo(obj.id)}" icon="pi pi-pencil" class="btn-icono" />
                                        <p:commandButton rendered="#{procesoBean.accionAdicional4}" title="Plantillas asociadas" actionListener="#{procesoBean.listarPlantillasCampo(obj.id)}" icon="pi pi-th-large" class="btn-icono" />
                                    </p:column>

                                    <p:column headerText="Nombre" filterBy="#{obj.nombre}" >
                                        <f:facet name="filter">
                                            <p:inputText label="Nombre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{obj.nombre}" title="#{obj.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Etiqueta" >
                                        <h:outputText value="#{obj.etiqueta}" title="#{obj.etiqueta}"/>
                                    </p:column>

                                    <p:column headerText="Tipo de dato" >
                                        <h:outputText value="#{procesoBean.getTipoCampo(obj.tipoDato)}" title="#{procesoBean.getTipoCampo(obj.tipoDato)}"/>
                                    </p:column>

                                    <p:column headerText="Tabla" filterBy="#{obj.tabla}" >
                                        <f:facet name="filter">
                                            <p:inputText label="Tabla" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{obj.tabla}" title="#{obj.tabla}"/>
                                    </p:column>

                                    <p:column headerText="Campo Tabla" >
                                        <h:outputText value="#{obj.campo}" title="#{obj.campo}"/>
                                    </p:column>

                                </p:dataTable>                            
                            </p:panel>  
                        </div>
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoVerCaplantilla').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>

                    </h:form>
                </div>
            </p:dialog>  

            <!-- Dialogo ver campo -->
            <p:dialog header="Ver Campo" widgetVar="dialogoVerCampo" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true"  >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoCampo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmVerCampo" class="formDialogo">
                        <p:scrollPanel mode="native">
                            <p:panel id="pnlInfoVer" header="Información del campo" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Id" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.id}" />

                                    <h:outputText value="Nombre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.nombre}" />

                                    <h:outputText value="Etiqueta" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.etiqueta}" />

                                    <h:outputText value="Tabla" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.tabla}" />

                                    <h:outputText value="Campo Tabla" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.campo}" />

                                    <h:outputText value="Tipo de dato" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoCampo(procesoBean.objetoCampo.tipoDato)}" />

                                    <h:outputText rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" value="Campo Referencia" style="font-weight:bold" class="header-back"  />
                                    <h:outputText rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" value="#{procesoBean.objetoCampo.campoReferencia}"  />

                                    <h:outputText rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" value="Valor Referencia" style="font-weight:bold" class="header-back"  />
                                    <h:outputText rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" value="#{procesoBean.objetoCampo.valorReferencia}" />

                                    <h:outputText value="Aplica Maestro" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.booleanStr(procesoBean.objetoCampo.aplicaMaestro)}" />

                                    <h:outputText rendered="#{procesoBean.objetoCampo.aplicaMaestro eq true}" value="Maestro" style="font-weight:bold" class="header-back" />
                                    <h:outputText rendered="#{procesoBean.objetoCampo.aplicaMaestro eq true}" value="#{procesoBean.getMaestroTipoTipo(procesoBean.objetoCampo.maestroTipo)}" />

                                    <h:outputText rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.objetoCampo.aplicaMaestro eq false}" value="Lista de Valores" style="font-weight:bold" class="header-back" />
                                    <p:orderList  rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.objetoCampo.aplicaMaestro eq false}"
                                                  id="ltado" 
                                                  value="#{procesoBean.listaValorLista}" 
                                                  var="vl" 
                                                  controlsLocation="none"  
                                                  itemLabel="#{vl}" 
                                                  itemValue="#{vl}"
                                                  />



                                </p:panelGrid>     

                                <p:panelGrid columns="2"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 2px;">

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.descripcion}" />
                                </p:panelGrid>

                            </p:panel>
                        </p:scrollPanel>
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">        
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoVerCampo').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>  

            <!-- Dialogo para crear campo -->
            <p:dialog header="Crear Campo" widgetVar="dialogoCrearCampo" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true"  >
                <div class="bodyDialog" >                    
                    <h:form id="frmCrearCampo" class="formDialogo" >  
                        <p:scrollPanel mode="native">
                            <p:panel id="pnlInformacionCampo" header="Información del campo" style="margin-bottom:10px; margin-top: 0.6rem;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel for="ccnombre" value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="ccnombre" value="#{procesoBean.objetoCampo.nombre}"  required="true" requiredMessage="Debe diligenciar el nombre del campo." />

                                    <p:outputLabel for="cetiqueta" value="Etiqueta " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cetiqueta" value="#{procesoBean.objetoCampo.etiqueta}" maxlength="12"  required="true" requiredMessage="Debe diligenciar la etiqueta del campo." onkeypress="if (event.keyCode === 32) {
                                                return false;
                                            }" />

                                    <p:outputLabel for="ctabla" value="Tabla" class="header-back" />
                                    <p:selectOneMenu id="ctabla" value="#{procesoBean.objetoCampo.tabla}" required="false" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaTablas}" var="tbl" itemLabel="#{tbl}" itemValue="#{tbl}" />
                                        <p:ajax event="change" update="ccampo" listener="#{procesoBean.consultarCamposTabla(procesoBean.objetoCampo.tabla)}" process="@this" />
                                    </p:selectOneMenu>                              

                                    <p:outputLabel for="ccampo" value="Campo Tabla" class="header-back" />
                                    <p:selectOneMenu id="ccampo" value="#{procesoBean.objetoCampo.campo}" required="false" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaCampos}" var="tbl" itemLabel="#{tbl}" itemValue="#{tbl}" />
                                    </p:selectOneMenu>                              

                                </p:panelGrid>

                                <p:panelGrid id="pgTipos" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             >

                                    <p:outputLabel for="ctipocampo" value="Tipo de campo" class="header-back" />
                                    <p:selectOneMenu id="ctipocampo" value="#{procesoBean.objetoCampo.tipoDato}" required="true" requiredMessage="Debe seleccionar el tipo de dato" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaTipoDato}" var="tda" itemLabel="#{tda.nombre}" itemValue="#{tda.id}" />
                                        <p:ajax event="change" update="pgTipos" listener="#{procesoBean.validarAplicaMaestro()}" process="@this"  partialSubmit="true" />
                                    </p:selectOneMenu>  

                                    <p:outputLabel rendered="#{procesoBean.tipoLista}" id="lbaplicamaestro"  for="blaplicamaestro" value="Aplica Maestro" class="header-back" />
                                    <p:selectBooleanButton style="width:60px;" rendered="#{procesoBean.tipoLista}" id="blaplicamaestro" value="#{procesoBean.objetoCampo.aplicaMaestro}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" >
                                        <p:ajax event="change" listener="#{procesoBean.consultarListaMaestros()}" update="pgTipos" />
                                    </p:selectBooleanButton>

                                    <p:outputLabel rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.aplicaMaestro eq false}" id="lbltado"  for="ltado" value="Lista de Valores" class="header-back" />
                                    <p:column rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.aplicaMaestro eq false}" >
                                        <p:orderList 
                                            id="ltado" 
                                            value="#{procesoBean.listaValorLista}" 
                                            var="vl" 
                                            controlsLocation="none"  
                                            itemLabel="#{vl}" 
                                            itemValue="#{vl}"
                                            />
                                        <p:commandButton process="@this" actionListener="#{procesoBean.verDialogoListaValores()}"  icon="pi pi-plus" class="btn-icono"
                                                         title="Agregar valor" style="width: 2.3rem; height: 1.6rem;" update="ltado" />
                                    </p:column>


                                    <p:outputLabel for="cmaestro" id="lbcmaestro" value="Maestro" rendered="#{procesoBean.aplicaMaestro}" class="header-back" />
                                    <p:selectOneMenu id="cmaestro" rendered="#{procesoBean.aplicaMaestro}" value="#{procesoBean.objetoCampo.maestroTipo}" required="#{procesoBean.aplicaMaestro}" requiredMessage="Maestro: Valor requerido." filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaMaestroTipo}" var="ma" itemLabel="#{ma.nombre}" itemValue="#{ma.tipo }" /> 
                                    </p:selectOneMenu>   

                                    <p:outputLabel for="creferencia" id="lbcreferencia" value="Campo Referencia" rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" class="header-back" />
                                    <p:selectOneMenu id="creferencia" 
                                                     rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" 
                                                     value="#{procesoBean.objetoCampo.campoReferencia}" 
                                                     required="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato)}" 
                                                     requiredMessage="Campo referencia: Valor requerido." 
                                                     filter="true" 
                                                     filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaCamposReferenciados}" var="campo" itemLabel="#{campo.nombre}" itemValue="#{campo.nombre}" /> 
                                        <p:ajax event="change" update="cvreferencia" listener="#{procesoBean.validarCamposReferencias()}" process="@this"  partialSubmit="true" />
                                    </p:selectOneMenu> 

                                    <p:outputLabel for="cvreferencia" id="lbvreferencia" value="Valor Referencia" rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" class="header-back" />
                                    <p:selectOneMenu id="cvreferencia" 
                                                     rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" 
                                                     value="#{procesoBean.objetoCampo.valorReferencia}" 
                                                     required="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato)}" 
                                                     requiredMessage="Valor referencia: Valor requerido." 
                                                     filter="true" 
                                                     filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaValoresReferencias}" var="ma" itemLabel="#{ma.nombre}" itemValue="#{ma.nombre}" /> 
                                    </p:selectOneMenu> 

                                </p:panelGrid>

                                <p:panelGrid columns="2"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 2px;">

                                    <h:outputText value="Descripción " style="font-weight:bold" class="header-back" />
                                    <p:inputTextarea id="ccdescripcion" value="#{procesoBean.objetoCampo.descripcion}" required="false" 
                                                     rows="3" cols="140" maxlength="2048"  />
                                </p:panelGrid>
                            </p:panel>
                        </p:scrollPanel>
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.guardarCampo()}" validateClient="true" process="@form" update="@form"/>   
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoCrearCampo').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo para editar campos -->
            <p:dialog header="Editar Campo" widgetVar="dialogoEditarCampo" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoCampo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmEditarCampo" class="formDialogo">  
                        <p:scrollPanel mode="native">
                            <p:panel id="pnlEcInformacion" header="Información del campo" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cnombre" value="#{procesoBean.objetoCampo.nombre}"  required="true" requiredMessage="Debe diligenciar el nombre del campo." />

                                    <h:outputText value="Etiqueta " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cetiqueta" value="#{procesoBean.objetoCampo.etiqueta}" maxlength="12"  required="true" requiredMessage="Debe diligenciar la etiqueta del campo." onkeypress="if (event.keyCode === 32) {
                                                return false;
                                            }" />

                                    <p:outputLabel for="ctabla" value="Tabla" class="header-back" />
                                    <p:selectOneMenu id="ctabla" value="#{procesoBean.objetoCampo.tabla}" required="false" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaTablas}" var="tbl" itemLabel="#{tbl}" itemValue="#{tbl}" />
                                        <p:ajax event="change" update="ccampo" listener="#{procesoBean.consultarCamposTabla(procesoBean.objetoCampo.tabla)}" process="@this" />
                                    </p:selectOneMenu>                              

                                    <p:outputLabel for="ccampo" value="Campo Tabla" class="header-back" />
                                    <p:selectOneMenu id="ccampo" value="#{procesoBean.objetoCampo.campo}" required="false" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaCampos}" var="tbl" itemLabel="#{tbl}" itemValue="#{tbl}" />
                                    </p:selectOneMenu>  

                                </p:panelGrid>

                                <p:panelGrid id="pgTipos" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             >

                                    <p:outputLabel for="ctipocampo" value="Tipo de campo" class="header-back" />
                                    <p:selectOneMenu id="ctipocampo" value="#{procesoBean.objetoCampo.tipoDato}" required="true" requiredMessage="Debe seleccionar el tipo de dato" filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaTipoDato}" var="tda" itemLabel="#{tda.nombre}" itemValue="#{tda.id}" />
                                        <p:ajax event="change" update="pgTipos" listener="#{procesoBean.validarAplicaMaestro()}" process="@this"  partialSubmit="true" />
                                    </p:selectOneMenu>  

                                    <p:outputLabel rendered="#{procesoBean.tipoLista}" id="lbaplicamaestro"  for="blaplicamaestro" value="Aplica Maestro" class="header-back" />
                                    <p:selectBooleanButton style="width:60px;" rendered="#{procesoBean.tipoLista}" id="blaplicamaestro" value="#{procesoBean.objetoCampo.aplicaMaestro}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" >
                                        <p:ajax event="change" listener="#{procesoBean.consultarListaMaestros()}" update="pgTipos" />
                                    </p:selectBooleanButton>

                                    <p:outputLabel rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.aplicaMaestro eq false}" id="lbltado"  for="ltado" value="Lista de Valores" class="header-back" />
                                    <p:column rendered="#{procesoBean.objetoCampo.tipoDato eq 4 and procesoBean.aplicaMaestro eq false}" >
                                        <p:orderList 
                                            id="ltado" 
                                            value="#{procesoBean.listaValorLista}" 
                                            var="vl" 
                                            controlsLocation="none"  
                                            itemLabel="#{vl}" 
                                            itemValue="#{vl}"
                                            />
                                        <p:commandButton process="@this" actionListener="#{procesoBean.verDialogoListaValores()}"  icon="pi pi-plus" class="btn-icono"
                                                         title="Agregar valor" style="width: 2.3rem; height: 1.6rem;" update="ltado" />
                                    </p:column>


                                    <p:outputLabel for="cmaestro" id="lbcmaestro" value="Maestro" rendered="#{procesoBean.aplicaMaestro}" class="header-back" />
                                    <p:selectOneMenu id="cmaestro" rendered="#{procesoBean.aplicaMaestro}" value="#{procesoBean.objetoCampo.maestroTipo}" required="#{procesoBean.aplicaMaestro}" requiredMessage="Maestro: Valor requerido." filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaMaestroTipo}" var="ma" itemLabel="#{ma.nombre}" itemValue="#{ma.tipo }" /> 
                                    </p:selectOneMenu>   

                                    <p:outputLabel for="creferencia" id="lbcreferencia" value="Campo Referencia" rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" class="header-back" />
                                    <p:selectOneMenu id="creferencia" 
                                                     rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" 
                                                     value="#{procesoBean.objetoCampo.campoReferencia}" 
                                                     required="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato)}" 
                                                     requiredMessage="Campo referencia: Valor requerido." 
                                                     filter="true" 
                                                     filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaCamposReferenciados}" var="campo" itemLabel="#{campo.nombre}" itemValue="#{campo.nombre}" /> 
                                        <p:ajax event="change" update="cvreferencia" listener="#{procesoBean.validarCamposReferencias()}" process="@this"  partialSubmit="true" />
                                    </p:selectOneMenu> 

                                    <p:outputLabel for="cvreferencia" id="lbvreferencia" value="Valor Referencia" rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" class="header-back" />
                                    <p:selectOneMenu id="cvreferencia" 
                                                     rendered="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato) eq true}" 
                                                     value="#{procesoBean.objetoCampo.valorReferencia}" 
                                                     required="#{procesoBean.isCampoTercero(procesoBean.objetoCampo.tipoDato)}" 
                                                     requiredMessage="Valor referencia: Valor requerido." 
                                                     filter="true" 
                                                     filterMatchMode="contains" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />                                    
                                        <f:selectItems value="#{procesoBean.listaValoresReferencias}" var="ma" itemLabel="#{ma.nombre}" itemValue="#{ma.nombre}" /> 
                                    </p:selectOneMenu> 

                                </p:panelGrid>

                                <p:panelGrid columns="2"
                                             columnClasses="ui-grid-col-3,ui-grid-col-9"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="margin-right: 2px;">

                                    <h:outputText value="Descripción " style="font-weight:bold" class="header-back" />
                                    <p:inputTextarea id="ccdescripcion" value="#{procesoBean.objetoCampo.descripcion}" required="false" 
                                                     rows="3" cols="140" maxlength="2048"  />
                                </p:panelGrid>

                            </p:panel>
                        </p:scrollPanel> 
                        
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.modificarCampo()}" process="@all" update="frmEditarCampo, pnlEcInformacion"  />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoEditarCampo').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo ver plantillas campo -->
            <p:dialog header="Plantillas Campo" widgetVar="dialogoVerPlantillaCampo" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoCampo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmVerPlantillaCampo">
                        <p:scrollPanel mode="native">
                            <p:panel id="pnlInfoVer" header="Información del campo" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Id" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.id}" />

                                    <h:outputText value="Nombre" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.nombre}" />

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoCampo.etiqueta}" />

                                    <h:outputText value="Tipo de dato" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoCampo(procesoBean.objetoCampo.tipoDato)}" />
                                </p:panelGrid>     
                            </p:panel>
                            <p:panel header="Plantillas asociadas al campo" style="margin-bottom:10px;" toggleable="true">
                                <div align="left" style="padding: 0.4rem;"> 
                                    <div class="ui-fluid formgrid grid" style="margin: 0px;" >
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Proceso"/>
                                            <p:selectOneMenu id="proceso" value="#{procesoBean.objetoCampo.cntjProcesoId.id}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />  
                                                <f:selectItems value="#{procesoBean.listaProceso}" var="pro" itemValue="#{pro.id}" itemLabel="#{pro.nombre}"  />
                                                <p:ajax event="change" listener="#{procesoBean.validarPlantillasProceso()}" update="option"  />
                                            </p:selectOneMenu>
                                        </div>
                                        
                                        <div class="field col-12 md:col-4">
                                            <p:outputLabel for="@next" value="Plantilla"/>
                                            <p:selectOneMenu id="option" value="#{procesoBean.objetoCampo.cntjPlantillaId}" filter="true" filterMatchMode="contains">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />  
                                                <f:selectItems value="#{procesoBean.listaPlantilla}" var="pla" itemLabel="#{pla.nombre} (#{pla.version})" itemValue="#{pla.id}" />
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="field col-12 md:col-3 contbtnadd">                                                
                                            <p:commandButton title="Agregar plantilla" 
                                                             value="Agregar plantilla" 
                                                             action="#{procesoBean.agregarPlantillaCampo()}"  
                                                             class="btn-icono"
                                                             icon="pi pi-plus-circle" 
                                                             style="width: 1rem; min-width: 10rem;" 
                                                             update=":frmVerPlantillaCampo:tblPlantillaCampo, :frmVerPlantillaCampo:option" 
                                                             process="@this :frmVerPlantillaCampo:option" 
                                                             />
                                        </div>
                                    </div>
                                </div>
                                <p:dataTable id="tblPlantillaCampo" var="plan"  class="listaDatos" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             value="#{procesoBean.objetoCampo.plantillasCampo}" 
                                             widgetVar="tablaPlanCampo" scrollable="false" 
                                             emptyMessage="No se encontraron registros" 
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100"
                                             >

                                    <p:column headerText="Nombre de la plantilla" filterBy="#{plan.cntjPlantillaId.nombre}" filterMatchMode="contains" >
                                        <f:facet name="filter">
                                            <p:inputText label="Cuenta" class="txtFiltro" maxlength="128" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }" style="width: 95%;" onchange="PF('tablaPlanCampo').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{plan.cntjPlantillaId.nombre} (#{plan.cntjPlantillaId.version})"/>
                                    </p:column>
                                    
                                    <p:column headerText="Proceso">
                                        <h:outputText value="#{plan.cntjPlantillaId.procesodocumentoId.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Opciones">
                                        <p:commandButton rendered="#{!contacto.nuevo}" title="Quitar plantilla" action="#{procesoBean.borrarPlantillaCampo(plan.id)}" icon="pi pi-trash" class="btn-icono" immediate="true" update=":frmVerPlantillaCampo:tblPlantillaCampo" >
                                            <p:confirm header="Confirmación" message="Está seguro que desea quitar el registro?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(plan.auditoriaStrHTML)}" icon="pi pi-comment" title="Auditoría" />
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:scrollPanel>
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoVerPlantillaCampo').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>

                    </h:form>
                </div>  
            </p:dialog>  

            <!-- Dialogo lista documentos del procesos -->
            <p:dialog header="Documentos" widgetVar="dialogoDocumento" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmDocumento" class="formDialogo">  
                        <p:scrollPanel mode="native">
                            <p:panel  header="Lista de estados" style="margin-bottom:10px; margin-top: 0.6rem;" toggleable="true">                            
                                <div align="right"> 
                                    <p:commandButton title="Refrescar" ajax="true" actionListener="#{procesoBean.refrescarDocumentos()}" icon="pi pi-sync" class="btn-icono" />
                                    <p:commandButton rendered="#{procesoBean.accionAdicional6}" title="Agregar documento" actionListener="#{procesoBean.crearDocumento()}" immediate="true" icon="pi pi-file-o" class="btn-icono"  />
                                </div>
                                <p:dataTable var="objDoc" class="listaDatos" value="#{procesoBean.lazyDocumentos}" paginator="true" rows="#{procesoBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                             widgetVar="tablaWidgetdoc"
                                             style="font-size:11px;"
                                             scrollable="false"
                                             scrollWidth="140%"
                                             rowKey="#{obj.id}" reflow="true">

                                    <p:column headerText="Opciones" style="text-align: center;">
                                        <p:commandButton rendered="#{procesoBean.accionAdicional6 and procesoBean.accionVer}" title="Ver" actionListener="#{procesoBean.verDocumento(objDoc.id)}" icon="pi pi-search" class="btn-icono" />
                                        <p:commandButton rendered="#{procesoBean.accionAdicional6 and procesoBean.accionEditar}" title="Editar" actionListener="#{procesoBean.editarDocumento(objDoc.id)}" icon="pi pi-pencil" class="btn-icono" />
                                    </p:column>

                                    <p:column headerText="Nombre" filterBy="#{objDoc.nombre}"  >
                                        <f:facet name="filter">
                                            <p:inputText label="Nombre" class="txtFiltro" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetdoc').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objDoc.nombre}" title="#{objDoc.nombre}"/>
                                    </p:column>

                                    <p:column headerText="Etapa Contratación" filterBy="#{objDoc.etapaContratacion}" >
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetdoc').filter()" class="selectFiltro" >
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{procesoBean.listaEtapaDesignacion}" var="etapa" itemValue="#{etapa.id}" itemLabel="#{etapa.nombre}" itemDescription="#{etapa.descripcion}" />
                                            </p:selectOneMenu>
                                        </f:facet>
                                        <h:outputText value="#{procesoBean.getEtapataDesignacionStr(objDoc.etapaContratacion)}" title="#{procesoBean.getEtapataDesignacionStr(objDoc.etapaContratacion)}"/>
                                    </p:column>

                                    <p:column headerText="Tipo" filterBy="#{objDoc.tipoDocumento}" >
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetdoc').filter()" class="selectFiltro" >
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{procesoBean.listaTipoDocumentos}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}" />
                                            </p:selectOneMenu>
                                        </f:facet>
                                        <h:outputText value="#{procesoBean.getTipoDocumento(objDoc.tipoDocumento)}" title="#{procesoBean.getTipoDocumento(objDoc.tipoDocumento)}"/>
                                    </p:column>

                                    <p:column headerText="Fecha Creación" >
                                        <h:outputText value="#{objDoc.fechaHoraCrea}" title="#{objDoc.fechaHoraCrea}">
                                            <f:convertDateTime pattern="yyyy-MM-dd" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Activo" >
                                        <h:outputText value="#{objDoc.activoStr}" title="#{objDoc.activoStr}"/>
                                    </p:column>

                                </p:dataTable>

                            </p:panel>
                        </p:scrollPanel>                        

                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Salir" class="boton btn-oscuro" type="button" onclick="PF('dialogoDocumento').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo para crear documento proceso -->
            <p:dialog header="Crear Documento" widgetVar="dialogoCrearDocumento" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true" >
                <div class="bodyDialog" >
                    <h:form id="frmCreardoc" class="formDialogo"> 
                        <p:scrollPanel mode="native">
                            <p:panel  style="margin-bottom:30px; margin-top: 0.6rem;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel for="cdnombre" value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cdnombre" value="#{procesoBean.objetoDocumento.nombre}" maxlength="64"  required="true" requiredMessage="Nombre: valor obligatorio." />

                                    <p:outputLabel for="cdetapa" value="Etapa Contractual" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="cdetapa" value="#{procesoBean.objetoDocumento.etapaContratacion}" required="true" requiredMessage="Etapa Contractual: valor obligatorio.">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaEtapaDesignacion}" var="var" itemLabel="#{var.nombre}" itemValue="#{var.id}" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="cdtipo" value="Tipo Documento" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="cdtipo" value="#{procesoBean.objetoDocumento.tipoDocumento}" required="true" requiredMessage="Tipo Documento: valor obligatorio." >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaTipoDocumentos}" var="var" itemLabel="#{var.nombre}" itemValue="#{var.id}" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="cdactivo" value="Activo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="cdactivo" value="#{procesoBean.objetoDocumento.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" />

                                    <p:outputLabel for="cddescripcion" value="Descripción" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <p:inputTextarea id="cddescripcion" value="#{procesoBean.objetoDocumento.descripcion}" required="false" requiredMessage="Descripción: valor obligatorio."
                                                         rows="2" cols="140" maxlength="2048"  /> 
                                    </p:column>                                

                                </p:panelGrid>   
                            </p:panel>

                        </p:scrollPanel>  
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Guardar" class="boton btn-azul" actionListener="#{procesoBean.guardarDocumento()}" validateClient="true" process="@form" update="@form"  />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoCrearDocumento').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo ver docuemnto proceso -->
            <p:dialog header="Ver Documento" widgetVar="dialogoVerDocumento"  appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true">
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoDocumento.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmVerdoc" class="formDialogo"> 
                        <p:scrollPanel mode="native">
                            <p:panel  style="margin-bottom:30px;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Nombre " style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoDocumento.nombre}"  />

                                    <h:outputText value="Etapa Contractual" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getEtapataDesignacionStr(procesoBean.objetoDocumento.etapaContratacion)}"  />

                                    <h:outputText value="Tipo Documento" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.getTipoDocumento(procesoBean.objetoDocumento.tipoDocumento)}"  />

                                    <h:outputText value="Activo" style="font-weight:bold" class="header-back" />
                                    <h:outputText value="#{procesoBean.objetoDocumento.activoStr}"  />

                                    <h:outputText value="Descripción" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <h:outputText value="#{procesoBean.objetoDocumento.descripcion}"  />
                                    </p:column>                                

                                </p:panelGrid>                               

                            </p:panel>
                        </p:scrollPanel>   
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoVerDocumento').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo para editar documento proceso -->
            <p:dialog header="Editar Documento" widgetVar="dialogoEditarDocumento" appendTo="@(body)" position="center" resizable="false" modal="true" styleClass="medioscreen-dialog" dynamic="true">
                <div class="bodyDialog" >
                    <h:form class="frmAuditoria">
                        <p:commandButton id="auditoria" class="btnAuditoria btn-icono" action="#{procesoBean.getAuditoria(procesoBean.objetoDocumento.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                    </h:form>

                    <h:form id="frmEditardoc" class="formDialogo"> 
                        <p:scrollPanel mode="native">
                            <p:panel  style="margin-bottom:30px;" toggleable="true">
                                <p:panelGrid id="panelCrear" columns="4"
                                             columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel for="cdnombre" value="Nombre " style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cdnombre" value="#{procesoBean.objetoDocumento.nombre}"  required="true" requiredMessage="Nombre: valor obligatorio." />

                                    <p:outputLabel for="cdetapa" value="Etapa Contractual" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="cdetapa" value="#{procesoBean.objetoDocumento.etapaContratacion}" required="true" requiredMessage="Etapa Contractual: valor obligatorio.">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaEtapaDesignacion}" var="var" itemLabel="#{var.nombre}" itemValue="#{var.id}" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="cdtipo"  value="Tipo Documento" style="font-weight:bold" class="header-back" />
                                    <p:selectOneMenu id="cdtipo" value="#{procesoBean.objetoDocumento.tipoDocumento}" required="true" requiredMessage="Tipo Documento: valor obligatorio." >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />     
                                        <f:selectItems value="#{procesoBean.listaTipoDocumentos}" var="var" itemLabel="#{var.nombre}" itemValue="#{var.id}" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="cdactivo"  value="Activo" style="font-weight:bold" class="header-back" />
                                    <p:selectBooleanButton id="cdactivo" value="#{procesoBean.objetoDocumento.activo}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" />

                                    <p:outputLabel for="cddescripcion" value="Descripción" style="font-weight:bold" class="header-back" />
                                    <p:column class="ui-g-9" style="margin-right: 4px;">
                                        <p:inputTextarea id="cddescripcion" value="#{procesoBean.objetoDocumento.descripcion}" required="false" requiredMessage="Descripción: valor obligatorio."
                                                         rows="2" cols="140" maxlength="2048"  /> 
                                    </p:column>                                

                                </p:panelGrid>        
                            </p:panel>

                        </p:scrollPanel>  
                        <p:panelGrid class="footerdialog">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">  
                                        <p:commandButton value="Modificar" class="boton btn-azul" actionListener="#{procesoBean.modificarDocumento()}" validateClient="true" process="@form" update="@form" />   
                                        <p:commandButton value="Cancelar" class="boton btn-oscuro" type="button" onclick="PF('dialogoEditarDocumento').hide()" immediate="true" style="margin-left: 5px;"/>                                        
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </div>
            </p:dialog>

            <!-- Dialogo agragar valor lista -->
            <p:dialog header="Crear valores lista" widgetVar="dialogoListaValor" appendTo="@(body)" modal="true" width="60%" resizable="false" dynamic="true">                
                <div class="bodyDialog200" >
                    <h:form id="frmListValor" class="formDialogo">
                        <p:scrollPanel mode="native">
                            <p:panel id="pnlInfoVer"  style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid id="panelVer" columns="2"
                                             columnClasses="ui-grid-col-6,ui-grid-col-6"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <h:outputText value="Valor" style="font-weight:bold" class="header-back" />
                                    <p:inputNumber id="cvvalor" value="#{procesoBean.maeValorLista.id}"  decimalPlaces="0" maxValue="99" thousandSeparator="" emptyValue="empty" required="true" requiredMessage="Valor: Este campo es obligatorio" />

                                    <h:outputText value="Opción" style="font-weight:bold" class="header-back" />
                                    <p:inputText id="cvopcion" value="#{procesoBean.maeValorLista.nombre}" maxlength="60"  required="true" requiredMessage="Opción: Este campo es obligatorio" />


                                </p:panelGrid>    

                                <f:facet name="footer">
                                    <p:remoteCommand name="crearListaValorRemote" action="#{procesoBean.agregarListaValor()}" validateClient="true" process="@form" update="@form" />
                                </f:facet>

                            </p:panel>
                        </p:scrollPanel>

                    </h:form>
                </div> 
                <div class="nuevoFooter">
                    <p:button value="Modificar" class="boton btn-azul" onclick="crearListaValorRemote(); return false;"  />                    
                    <p:button value="Salir" class="boton btn-oscuro" onclick="PF('dialogoListaValor').hide(); return false;"  />                    
                </div>
            </p:dialog>  

        </center>

    </ui:define>

</ui:composition>
