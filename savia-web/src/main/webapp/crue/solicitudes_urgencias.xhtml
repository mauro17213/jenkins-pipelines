<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR">
        <style type="text/css">

            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }
            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }
            circulo {
                width: 10px;
                height: 10px;
                -moz-border-radius: 50%;
                -webkit-border-radius: 50%;
                border-radius: 50%;
                background: #5cb85c;
            }
        </style>
        <center>
            <h:form id="frmReferencia">
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{solicitudesUrgenciasBean.cerrarDialogoDiagnostico()}"/>
                <p:remoteCommand name="cerrarDialogoEspecialidad" action="#{solicitudesUrgenciasBean.cerrarDialogoEspecialidad()}"/>
                <p:remoteCommand name="cerrarDialogoSedeTransporte" action="#{solicitudesUrgenciasBean.cerrarDialogoSedeTransporte()}"/>

                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{solicitudesUrgenciasBean.modulo.descripcion}">#{solicitudesUrgenciasBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{solicitudesUrgenciasBean.listar}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionCrear}" title="Crear" ajax="true" actionListener="#{solicitudesUrgenciasBean.crear}" icon="ui-icon-document"/>
                    </f:facet>
                </p:toolbar>

                <p:dataTable var="obj" value="#{solicitudesUrgenciasBean.lazyRegistros}" paginator="true" rows="#{solicitudesUrgenciasBean.tamanoPagina}" 
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                             widgetVar="tablaWidget"
                             style="font-size:11px;"
                             rowKey="#{obj.id}" reflow="true">

                    <p:column headerText="Acciones" style="text-align: center;">
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionVer}" title="Ver" actionListener="#{solicitudesUrgenciasBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionAdicional2 and obj.estado != 2 and obj.estado != 3 and obj.estado != 4 and obj.estado != 5}" title="Gestionar" actionListener="#{solicitudesUrgenciasBean.gestionar(obj.id)}" icon="ui-icon-script"/>
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionAdicional3 and obj.estado != 4}" title="Imprimir" icon="ui-icon-document"  actionListener="#{solicitudesUrgenciasBean.imprimir(obj.id, obj.estado, obj.version)}" />
                        <p:commandButton rendered="#{solicitudesUrgenciasBean.accionVer and obj.listaAuAnexo2Rescate.size() >0 }" actionListener="#{solicitudesUrgenciasBean.verRescates(obj.id)}" icon="ui-icon-contact" title="Ver Rescates"/>                        

                    </p:column>

                    <p:column headerText="Número Solicitud" sortBy="#{obj.id}" filterBy="#{obj.id}" style="text-align: center;">
                        <f:facet name="filter">                            
                            <p:inputText label="Nro. Solicitud" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        onchange();
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <div style="#{solicitudesUrgenciasBean.semaforo(obj.tiempoCrea)}" ></div>
                        <p:outputLabel value="#{obj.id}"/>
                    </p:column>

                    <p:column headerText="Fuente Origen" filterBy="#{obj.fuenteOrigen}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 80%;">
                                <f:selectItem itemLabel=" - - " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel="Manual" itemValue="1"  />
                                <f:selectItem itemLabel="IVR" itemValue="3"  />
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.fuenteOrigenStr}"/>
                    </p:column>

                    <p:column headerText="Estado" sortBy="#{obj.estado}" filterBy="#{obj.estado}" style="text-align: center;">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" - - " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel="Pendiente Auditoría" itemValue="1"  />
                                <f:selectItem itemLabel="Rechazada Auditoría" itemValue="2"  />
                                <f:selectItem itemLabel="Autorizada" itemValue="3"  />
                                <f:selectItem itemLabel="Anulada" itemValue="4"  />
                                <f:selectItem itemLabel="Autorizada Automática" itemValue="5"  />
                            </p:selectOneMenu>
                        </f:facet>
                        <p:outputLabel value="#{obj.estadoStr}"/>
                    </p:column>

                    <p:column headerText="Fecha Solicitud" sortBy="#{obj.fechaHoraAtencion}">     
                        <h:outputText value="#{obj.fechaHoraAtencion}">
                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                        </h:outputText>
                    </p:column>

                    <p:column headerText="Triage" sortBy="#{obj.triage}" filterBy="#{obj.triage}" style="text-align: center;">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel=" Triage Nivel 0" itemValue="0"  />
                                <f:selectItem itemLabel=" Triage Nivel 1" itemValue="1"  />
                                <f:selectItem itemLabel=" Triage Nivel 2" itemValue="2"  />
                                <f:selectItem itemLabel=" Triage Nivel 3" itemValue="3"  />
                                <f:selectItem itemLabel=" Triage Nivel 4" itemValue="4"  />
                                <f:selectItem itemLabel=" Triage Nivel 5" itemValue="5"  />
                            </p:selectOneMenu>
                        </f:facet>
                        <img src="#{solicitudesUrgenciasBean.obtenerTriage(obj.triage)}" width="20" title="#{obj.triageStr}"/>
                    </p:column>


                    <p:column headerText="Tipo Doc. Afiliado" sortBy="#{obj.asegAfiliado.maeTipoDocumento}" filterBy="#{obj.asegAfiliado.maeTipoDocumento}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{solicitudesUrgenciasBean.listaTiposDocumentoPersona}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.asegAfiliado.maeTipoDocumentoValor}" title="#{obj.asegAfiliado.maeTipoDocumentoValor}"/>
                    </p:column>

                    <p:column headerText="Nro. Doc. Afiliado" sortBy="#{obj.asegAfiliado.numeroDocumento}" filterBy="#{obj.asegAfiliado.numeroDocumento}">
                        <f:facet name="filter">
                            <p:inputText label="Documento" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        onchange();
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.asegAfiliado.numeroDocumento}"/>
                    </p:column>

                    <p:column headerText="Nombre Completo Afiliado" sortBy="#{obj.asegAfiliado.nombreCompleto}" filterBy="#{obj.asegAfiliado.nombreCompleto}">
                        <f:facet name="filter">
                            <p:inputText label="Nombres" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        onchange();
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.asegAfiliado.nombreCompleto}"/>
                    </p:column>

                    <p:column headerText="Nombre IPS" sortBy="#{obj.cntPrestadorSede.nombreSede}" filterBy="#{obj.cntPrestadorSede.nombreSede}">
                        <f:facet name="filter">
                            <p:inputText label="Nombres" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        onchange();
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.cntPrestadorSede.nombreSede}"/>
                    </p:column>

                    <p:column headerText="Destino Paciente" sortBy="#{obj.maeDestinoPacienteValor}" filterBy="#{obj.maeDestinoPacienteId}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{solicitudesUrgenciasBean.listaDestinoTotal}" var="dest" itemValue="#{dest.id}" itemLabel="#{dest.nombre}" itemDescription="#{dest.descripcion}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <p:outputLabel value="#{obj.maeDestinoPacienteValor}"/>
                    </p:column>

                    <p:column headerText="Diagnostico" sortBy="#{solicitudesUrgenciasBean.obtenerDiagnosticoPrincipal(obj.listaAuAnexo2Diagnostico)}" filterBy="#{obj.listaAuAnexo2Diagnostico}">
                        <f:facet name="filter">
                            <p:inputText label="Diagnostico" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        onchange();
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDiagnosticoPrincipal(obj.listaAuAnexo2Diagnostico)}"/>
                    </p:column>


                </p:dataTable>

                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>
            <!-- ver -->
            <p:dialog widgetVar="dialogoVer" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true" class="modal-no-scroll">
                <header style="font-size: 30px;">
                    <b>Ver</b>
                </header>
                <h:form id="frmAuditoriaVer" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{solicitudesUrgenciasBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmVer">
                        <p:panel header="Información" style="margin-bottom:10px;" toggleable="true" rendered="#{solicitudesUrgenciasBean.validarEstadoAnulado(solicitudesUrgenciasBean.objeto.estado)}">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Estado" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.estadoStr}" style="color: red"/>

                                <p:outputLabel value="Motivo" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.motivo}" style="color: red"/>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:outputPanel id="panelBotonesVer" style="margin-top: -5px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{solicitudesUrgenciasBean.getAuditoria(solicitudesUrgenciasBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid columns="4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.tipoStr}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.estadoStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Consecutivo" style="font-weight:bold;" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.consecutivo}"/>
                                     </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <!-- VER_Afiliado -->
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerEdad(solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento)}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{solicitudesUrgenciasBean.colorEstadoAfiliado}" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Dirección IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.direccion}"/>

                                <p:outputLabel value="Teléfono IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.email}"/>
                                
                                
                                <p:row>
                                    <p:column class="ui-g-12" style="display: grid">
                                        <b>IPS Atención Primaria</b>
                                        <hr color="#0F6ED3" style="width: 100%" />
                                    </p:column>
                                </p:row>
                                 <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede IPS Primaria"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- se culta panel mientras habilitan la resolucion 2335-->
                        <!-- Direccion alternativa -->
                        <p:panel style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid style="width:100%;margin:10px 0px" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Dirección alternativa" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.direccionAlternativa}"/>

                            </p:panelGrid>
                        </p:panel>

                        <!--p:panel header="IPS Atención Primaria" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center">
                               
                            </p:panelGrid>
                        </p:panel-->

                        <!-- IPS -->
                        <p:panel id="pnlIPS" header="Información IPS" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                     

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Prestador" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.codigoMinSalud}"/>                     

                                <p:outputLabel value="Sede" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.nombreSede}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.codigoHabilitacionSede}"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"  />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlPersona" header="Profesional que realiza la atención" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlOrigen" header="Origen de la atención" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelOrigen">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelOrigenAtencion}" style="font-weight:bold" />
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeOrigenAtencionValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="width:100%;margin:10px 0px" toggleable="true">
                            <br/>
                            <p:dataTable var="adj" value="#{solicitudesUrgenciasBean.objeto.listaAuSolicitudAdjunto}" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                                <p:column headerText="Fecha">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones"  style="text-align: center">
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     ajax="false" 
                                                     action="#{solicitudesUrgenciasBean.descargarAdjunto(adj)}"
                                                     process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <!-- Información de la Atención -->
                        <p:panel id="pnlTriage" header="Información de la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriage1" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paciente remitido" for="somRemiteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneRadio id="somRemiteA" disabled="true" value="#{solicitudesUrgenciasBean.objeto.remitido}"  layout="grid" columns="2">
                                            <f:selectItem itemLabel="Si" itemValue="true" />
                                            <f:selectItem itemLabel="No" itemValue="false" />
                                        </p:selectOneRadio>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="NIT" for="somNitAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somNitAtencion"
                                               value="#{solicitudesUrgenciasBean.objeto.remiteNit}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre de prestador Remitente" for="somNombreIPSAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somNombreIPSAtencion"
                                               value="#{solicitudesUrgenciasBean.objeto.remiteNombre}" style="width: 94%;"/> 
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número atención IPS" for="somcodigoAtencionIps" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somcodigoAtencionIps" value="#{solicitudesUrgenciasBean.objeto.codigoAtencionIps}" style="width: 94%;"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de atención" for="somfechaHoraAtencionA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraAtencionA" 
                                               value="#{solicitudesUrgenciasBean.objeto.fechaHoraAtencion}" >
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de reporte" for="somfechaHoraReporteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraReporteA" 
                                                        value="#{solicitudesUrgenciasBean.objeto.fechaHoraReporte}" >
                                             <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                         </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Banderas de colores(Triage)" for="somTriage" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somTriage" value="Nivel #{ solicitudesUrgenciasBean.objeto.triage} " />
                                        <img src="#{solicitudesUrgenciasBean.obtenerTriage(solicitudesUrgenciasBean.objeto.triage)}" width="20" title="#{solicitudesUrgenciasBean.objeto.triageStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Crea" for="somUsuarioCrea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somUsuarioCrea" value="#{solicitudesUrgenciasBean.objeto.usuarioCrea}" >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Hora Crea" for="somfechaHoraCrea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraCrea" value="#{solicitudesUrgenciasBean.objeto.fechaHoraCrea}" >
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlMotivo" header="Motivo de la consulta" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivo" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.motivo}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:dataTable id="tablaDiagnosticos" style="margin: 10px;" value="#{solicitudesUrgenciasBean.objeto.listaAuAnexo2Diagnostico}" var="diag" widgetVar="tablaDiagnosticos">
                                <p:column headerText="Código" filterBy="#{diag.maDiagnosticosCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código CIE 10" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{diag.maDiagnosticosValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Tipo Diagnostico" filterBy="#{diag.maeTipoDiagnosticoValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Tipo Diagnostico" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maeTipoDiagnosticoValor}"/>
                                </p:column>
                                <p:column headerText="Principal" filterBy="#{diag.principal ? 'SI' : ''}">
                                    <f:facet name="filter">
                                        <p:inputText label="Principal" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.principal ? 'SI' : ''}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <!-- Destino -->
                        <p:panel id="pnlDestino" header="Destino del Paciente" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelDestino" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelDestino}" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeDestinoPacienteValor}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Via de ingreso de la persona al servicio de salud" style="font-weight:bold" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeViaIngresoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>

                        <!-- Informante -->
                        <p:panel id="pnlInformante" header="Informante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaNombre}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaCargo}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaTelefono}" style="width: 40%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>

                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--Crear-->
            <p:dialog header="Crear" widgetVar="dialogoCrear" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true" class="modal-no-scroll">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmCrearSolicitudUrgencia">
                        <p:focus for="somTipoA" />
                        <p:panel id="pnlTipo" header="Solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelTipo" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:outputLabel value="Tipo de solicitud" for="somTipoA" style="font-weight:bold"/>
                                <p:selectOneRadio id="somTipoA" required="true" value="#{solicitudesUrgenciasBean.objeto.tipo}"  layout="grid" columns="2">
                                    <f:selectItem itemLabel="Urgencia Medica" itemValue="0" />
                                    <f:selectItem itemLabel="Urgencia Odontologica" itemValue="1" />
                                </p:selectOneRadio>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Afiliado -->
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{solicitudesUrgenciasBean.consultarAfiliado()}" icon="ui-icon-person" title="Afiliado"/>
                            </div>
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerEdad(solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento)}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerSiNo(solicitudesUrgenciasBean.objeto.asegAfiliado.discapacidad)}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{solicitudesUrgenciasBean.colorEstadoAfiliado}" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerSiNo(solicitudesUrgenciasBean.objeto.asegAfiliado.registroBdua)}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Dirección IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.direccion}"/>

                                <p:outputLabel value="Teléfono IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.email}"/>
                                
                                <p:row>
                                    <p:column class="ui-g-12" style="display: grid">
                                        <b>IPS Atención Primaria</b>
                                        <hr color="#0F6ED3" style="width: 100%" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede IPS Primaria"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Dirección Alternativa" for="dirAlterna" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                        <p:inputText id="dirAlterna" label="Dirección Alternativa" value="#{solicitudesUrgenciasBean.objeto.direccionAlternativa}" maxlength="62" disabled="#{solicitudesUrgenciasBean.objeto.habilitarCampoDireccionAlternativa}"/>
                                    </p:column>                                    
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <!-- IPS -->
                        <p:panel id="pnlIPS" header="Información IPS" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{solicitudesUrgenciasBean.consultarIPS()}" icon="ui-icon-home" title="IPS"/>
                            </div>
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-12" style="display: grid; justify-content: center;">
                                        <p:outputLabel value="Prestador" style="font-weight:bold"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.codigoMinSalud}"/> 
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-12" style="display: grid; justify-content: center;">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                </p:row>
                                <p:row> 
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.nombreSede}"/>     
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.codigoHabilitacionSede}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Departamento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.direccion}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <!-- Profesional -->
                        <p:panel id="pnlPersona" header="Profesional que realiza la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" for="somTipoDocumentoPersona" style="font-weight:bold"/>
                                <p:selectOneMenu id="somTipoDocumentoPersona" style="width: 90%;" 
                                                 value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.maeTipoCodumentoId}"
                                                 required="true" requiredMessage="El tipo de documento profesional: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{solicitudesUrgenciasBean.listaTiposDocumentoProfesional}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}"/>
                                    <p:ajax event="change" listener="#{solicitudesUrgenciasBean.consultarProfesional()}" />
                                </p:selectOneMenu>   

                                <p:outputLabel value="Número documento" for="txtDocumentoPro" style="font-weight:bold"/>
                                <p:inputText id="txtDocumentoPro" value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.documento}" 
                                             style="width: 40%;" maxlength="16" required="true" requiredMessage="Número Documento Profesional: Este campo es obligatorio">
                                    <p:ajax event="change" listener="#{solicitudesUrgenciasBean.consultarProfesional()}" />
                                </p:inputText>

                                <p:outputLabel value="Primer nombre" for="txtPrimerNombrePro" style="font-weight:bold"/>
                                <p:inputText id="txtPrimerNombrePro" value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerNombre}" style="width: 94%;" maxlength="64" required="true" requiredMessage="El primer nombre profesional: Este campo es obligatorio."/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:inputText value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoNombre}" style="width: 94%;" maxlength="64"/>

                                <p:outputLabel value="Primer apellido" for="txtPrimerApellidoPro" style="font-weight:bold"/>
                                <p:inputText id="txtPrimerApellidoPro" value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerApellido}" style="width: 94%;" maxlength="64" required="true" requiredMessage="El primer apellido profesional: Este campo es obligatorio."/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:inputText value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoApellido}" style="width: 94%;" maxlength="16"/>

                                <p:outputLabel value="Registro Médico" for="txtRegMed" style="font-weight:bold"/>
                                <p:inputText id="txtRegMed" value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;" maxlength="16" required="true" requiredMessage="El registro Médico profesional: Este campo es obligatorio."/>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:outputLabel id="labelEspecialidad" value="#{solicitudesUrgenciasBean.objetoProfesionalPrestador.maEspecialidadValor}"/>
                                        <p:commandButton immediate="true" style="width: 34px" action="#{solicitudesUrgenciasBean.consultarEspecialidad()}" icon="ui-icon-person" title="Especialidades" disabled="#{solicitudesUrgenciasBean.objeto.newProfesional}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlOrigenA" header="Origen de la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelOrigenA" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelOrigenAtencion}" for="somOrigenA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:selectOneMenu id="somOrigenA" required="true" value="#{solicitudesUrgenciasBean.objeto.maeOrigenAtencionId}" style="width: 20%;" requiredMessage="#{solicitudesUrgenciasBean.objeto.labelOrigenAtencion}: Este campo es obligatorio.">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaOrigen}" var="org" itemValue="#{org.id}" itemLabel="#{org.nombre}" itemDescription="#{org.descripcion}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{solicitudesUrgenciasBean.abrirAdjuntos()}" icon="ui-icon-plusthick" title="Crear Adjuntos"/>
                            </div>
                            <p:dataTable id="tablaAdjuntosVer" style="margin: 10px;" value="#{solicitudesUrgenciasBean.objeto.listaAuSolicitudAdjunto}" var="adj" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                                <p:column headerText="Acciones"  style="text-align: center">
                                    <p:commandButton icon="ui-icon-close" immediate="true" action="#{solicitudesUrgenciasBean.BorrarAdjunto(adj)}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlTriage" header="Información de la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriageAtencion" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paciente remitido" for="somRemiteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneRadio id="somRemiteA" required="true" value="#{solicitudesUrgenciasBean.objeto.remitido}"  layout="grid" columns="2">
                                            <f:selectItem itemLabel="Si" itemValue="true" />
                                            <f:selectItem itemLabel="No" itemValue="false" />
                                            <p:ajax event="valueChange" process="somRemiteA" update="panelTriageAtencion" listener="#{solicitudesUrgenciasBean.actualizarPacienteRemitido()}"/>  
                                        </p:selectOneRadio>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="NIT" for="somNitAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="somNitAtencion" readonly="true" required="#{solicitudesUrgenciasBean.objeto.remitido}" 
                                             value="#{solicitudesUrgenciasBean.objeto.remiteNit}" style="width: 94%;"/>  
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre de prestador Remitente" for="somNombreIPSAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="somNombreIPSAtencion" readonly="true"  required="#{solicitudesUrgenciasBean.objeto.remitido}" 
                                             value="#{solicitudesUrgenciasBean.objeto.remiteNombre}" style="width: 94%;"/> 
                                        <p:commandButton id="btnIPSAtencion"
                                            style="visibility: #{solicitudesUrgenciasBean.objeto.remitido ? 'visibility' : 'hidden'}; width: 34px"
                                            immediate="true" action="#{solicitudesUrgenciasBean.consultarIPSRemite()}" update="somNitAtencion somNombreIPSAtencion" icon="ui-icon-home" title="IPS"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número atención IPS" for="somcodigoAtencionIps" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="somcodigoAtencionIps" required="true" value="#{solicitudesUrgenciasBean.objeto.codigoAtencionIps}" maxlength="16" style="width: 94%;"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de atención" for="somfechaHoraAtencionA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:calendar id="somfechaHoraAtencionA" label="Fecha y Hora de atención" navigator="true" pattern="yyyy-MM-dd HH:mm" mindate="#{solicitudesUrgenciasBean.fechaMinima}" maxdate="#{solicitudesUrgenciasBean.fechaActual}"
                                            value="#{solicitudesUrgenciasBean.objeto.fechaHoraAtencion}" timeZone="America/Bogota" readonlyInput="true"
                                            yearRange="c-100:c" style="" maxlength="10" required="true" requiredMessage="Fecha y Hora de atención: Este campo es obligatorio."  >
                                         </p:calendar>
                                    </p:column> 
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de reporte" for="somfechaHoraReporteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                         <p:calendar id="somfechaHoraReporteA" label="Fecha y Hora de atención" navigator="true" pattern="yyyy-MM-dd HH:mm" mindate="#{solicitudesUrgenciasBean.fechaMinima}" maxdate="#{solicitudesUrgenciasBean.fechaActual}"
                                                    value="#{solicitudesUrgenciasBean.objeto.fechaHoraReporte}" timeZone="America/Bogota" readonlyInput="true"
                                                    yearRange="c-100:c" size="30" maxlength="10" required="true" requiredMessage="Fecha y Hora de reporte Este campo es obligatorio." >
                                        </p:calendar>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Banderas de colores(Triage)" for="somTriage" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="somTriage" required="true" value="#{solicitudesUrgenciasBean.objeto.triage}" style="width: 90%;">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Nivel 1" itemValue="1" />
                                            <f:selectItem itemLabel="Nivel 2" itemValue="2" />
                                            <f:selectItem itemLabel="Nivel 3" itemValue="3" />
                                            <f:selectItem itemLabel="Nivel 4" itemValue="4" />
                                            <f:selectItem itemLabel="Nivel 5" itemValue="5" /> 
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlMotivos" header="Motivos de la consulta" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivos" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaDescripRem" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="txtaDescripRem" style="width: 98%;" autoResize="false" rows="4" required="true" value="#{solicitudesUrgenciasBean.objeto.motivo}" 
                                                 maxlength="2048" 
                                                 counter="display2" counterTemplate="{0} caracteres faltantes."
                                                 validatorMessage="Motivos de la consulta: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="^[a-zA-Z0-9\s~ñÑ.;:_'°º/¿?!¡@#$%^*()-=+|{}áéíóúüÁÉÍÓÚàèìòùÀÈÌÒÙ`´‘’“”>\[\]\x22\\²³]*$" />
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display2" style="margin-top: -10px" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{solicitudesUrgenciasBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Agregar Diagnostico"/>
                            </div>                            
                            <p:dataTable id="tablaDiagnosticos" var="diagnosticoCrear" value="#{solicitudesUrgenciasBean.objeto.listaAuAnexo2Diagnostico}" widgetVar="tablaDiagnosticos" resizableColumns="true" emptyMessage="No se encontraron registros" style="text-align: center" >
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagnosticoCrear.maDiagnosticosCodigo}" />
                                </p:column>
                                <p:column headerText="Descripción">
                                    <h:outputText value="#{diagnosticoCrear.maDiagnosticosValor}" />
                                </p:column>
                                <p:column headerText="Tipo diagnostico">
                                    <p:selectOneMenu id="tipDiagEditarDiangostico" label="Tipo diagnostico" value="#{diagnosticoCrear.maeTipoDiagnosticoId}" style="width:80%;" required="true" requiredMessage="El tipo de diangostico: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{solicitudesUrgenciasBean.listaTipoDiagnostico}" var="tipDi" itemValue="#{tipDi.id}" itemLabel="#{tipDi.nombre}" itemDescription="#{tipDi.descripcion}"/>
                                        <p:ajax event="change" listener="#{solicitudesUrgenciasBean.cambiarTipoDiagnostico(diagnosticoCrear.maDiagnosticosId)}" update="tablaDiagnosticos" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Es Principal">
                                    <p:selectBooleanCheckbox id="principalDiangosticoCrear" label="Es Principal" value="#{diagnosticoCrear.principal}">
                                        <p:ajax event="change" listener="#{solicitudesUrgenciasBean.diagnosticoPrincipal(diagnosticoCrear.maDiagnosticosId)}" update="tablaDiagnosticos"/>
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{solicitudesUrgenciasBean.borrarDiagnostico(diagnosticoCrear)}" icon="ui-icon-closethick"/>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>


                        <p:panel id="pnlDestinoA" header="Destino de la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelDestinoA" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelDestino}" for="somDestinoA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="somDestinoA" required="true" value="#{solicitudesUrgenciasBean.objeto.maeDestinoPacienteId}" style="width:90%;" requiredMessage="#{solicitudesUrgenciasBean.objeto.labelDestino}: Este campo es obligatorio." >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" /> 
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaDestino}" var="des" itemValue="#{des.id}" itemLabel="#{des.nombre}" itemDescription="#{des.descripcion}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Via de ingreso de la persona al servicio de salud" for="viaIngreso" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="viaIngreso" label="Via de ingreso de la persona al servicio de salud" value="#{solicitudesUrgenciasBean.objeto.maeViaIngresoId}" required="true" requiredMessage="Via de ingreso de la persona al servicio de salud: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{solicitudesUrgenciasBean.objeto.habilitarCampoViaIngresoPersonaServicioSalud}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaViaIngreso}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                               
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlInformante" header="Informante" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputText id="txtNombreInf" value="#{solicitudesUrgenciasBean.objeto.informaNombre}" style="width: 94%;" maxlength="256"/>
                                    </p:column>
                                </p:row>
                                
                                

                                
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="txtCargoInf" value="#{solicitudesUrgenciasBean.objeto.informaCargo}" style="width: 94%;" maxlength="64"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" for="txtTelefonoInf" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputMask id="txtTelefonoInf" maxlength="16" value="#{solicitudesUrgenciasBean.objeto.informaTelefono}" mask="(999) 999-9999" style="width: 40%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" onclick="guardarSolicitudRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarSolicitudRemote" action ="#{solicitudesUrgenciasBean.guardar()}" update="frmCrearSolicitudUrgencia"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>


            <!-- OPCIÓN LISTA USADA -->
            <p:dialog header="Consultar Afiliados" widgetVar="dialogoAfiliadoLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmAfiliadoLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{solicitudesUrgenciasBean.refrescarAfiliado()}" oncomplete="PF('tablaWidgetA').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelAfiliadoLista" columns="1">
                            <p:dataTable id="tablaRegistrosAfiliados" widgetVar="tablaWidgetA" var="obj" value="#{solicitudesUrgenciasBean.lazyAfiliados}" rowKey="#{obj.id}"
                                         rows="#{solicitudesUrgenciasBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{solicitudesUrgenciasBean.onRowSelectAfiliado}" />
                                <p:column headerText="Tipo Documento" sortBy="#{obj.maeTipoDocumento}" filterBy="#{obj.maeTipoDocumento}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetA').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaTiposDocumentoPersona}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" sortBy="#{obj.numeroDocumento}" filterBy="#{obj.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Codigo Unico" sortBy="#{obj.idAfiliado}" filterBy="#{obj.idAfiliado}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.idAfiliado}"/>
                                </p:column>
                                <p:column headerText="Primer Nombre" sortBy="#{obj.primerNombre}" filterBy="#{obj.primerNombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Primer nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.primerNombre}"/>
                                </p:column>
                                <p:column headerText="Segundo Nombre" sortBy="#{obj.segundoNombre}" filterBy="#{obj.segundoNombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Segundo nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.segundoNombre}"/>
                                </p:column>
                                <p:column headerText="Primer Apellido" sortBy="#{obj.primerApellido}" filterBy="#{obj.primerApellido}">
                                    <f:facet name="filter">
                                        <p:inputText label="Primer Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.primerApellido}"/>
                                </p:column>
                                <p:column headerText="Segundo Apellido" sortBy="#{obj.segundoApellido}" filterBy="#{obj.segundoApellido}">
                                    <f:facet name="filter">
                                        <p:inputText label="Segundo Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.segundoApellido}"/>
                                </p:column>
                                <p:column headerText="Estado Afiliación" sortBy="#{obj.maeEstadoAfiliacion}" filterBy="#{obj.maeEstadoAfiliacion}" >
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetA').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaEstadosAfiliado}" var="tipoAfi" itemValue="#{tipoAfi.id}" itemLabel="#{tipoAfi.nombre}" itemDescription="#{tipoAfi.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeEstadoAfiliacionValor}"/>
                                </p:column>
                                <p:column headerText="Regimen" sortBy="#{obj.maeRegimenValor}" filterBy="#{obj.maeRegimenId}">
                                    <f:facet name="filter">
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetA').filter()" style="width: 88%;" >
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{solicitudesUrgenciasBean.listaRegimen}" var="regimen" itemValue="#{regimen.id}" itemLabel="#{regimen.nombre}" itemDescription="#{regimen.descripcion}"/>
                                            </p:selectOneMenu>
                                        </f:facet>
                                    </f:facet>
                                    <p:outputLabel value="#{obj.regimen == '1' ? 'Subsidiado' : obj.regimen == '2' ? 'Contributivo' : ''}"/>
                                </p:column>
                                <p:column headerText="Municipio" sortBy="#{obj.residenciaUbicacion.nombre}" filterBy="#{obj.residenciaUbicacion.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Segundo Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <p:outputLabel value="#{obj.residenciaUbicacion.nombre}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Consultar Ips" widgetVar="dialogoIpsLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmIpsLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{solicitudesUrgenciasBean.refrescarIps()}" oncomplete="PF('tablaWidget').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelIpsLista" columns="1">
                            <p:dataTable id="tablaRegistrosIps" widgetVar="tablaWidget" var="objIPS" value="#{solicitudesUrgenciasBean.lazyIPS}" rowKey="#{objIPS.id}"
                                         rows="#{solicitudesUrgenciasBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{solicitudesUrgenciasBean.onRowSelectIps}" />
                                <p:column headerText="Código Habilitacion" filterBy="#{objIPS.codigoHabilitacionSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Tipo Documento" filterBy="#{objIPS.cntPrestador.maeTipoDocumentoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidget').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaTiposDocumento}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" filterBy="#{objIPS.cntPrestador.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Razón Social" filterBy="#{objIPS.cntPrestador.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Sede" filterBy="#{objIPS.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Departamento">
                                    <h:outputText value="#{solicitudesUrgenciasBean.obtenerDepartamento(objIPS.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Municipio" filterBy="#{objIPS.ubicacionId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidget').filter()" filter="true" filterMatchMode="startsWith">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaUbicacion}" var="tipoUbiC1" itemValue="#{tipoUbiC1.id}" itemLabel="#{tipoUbiC1.descripcion}" itemDescription="#{tipoUbiC1.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{solicitudesUrgenciasBean.obtenerMunicipio(objIPS.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Dirección">
                                    <f:facet name="filter">
                                        <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.direccion}"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoIpsLista').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Consultar Ips." widgetVar="dialogoIpsListaAt" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 550px;">
                    <h:form id="frmIpsListaAt">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{solicitudesUrgenciasBean.refrescarIps()}" oncomplete="PF('tablaWidget').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelIpsListaAt" columns="1">
                            <p:dataTable id="tablaRegistrosIpsAt" widgetVar="tablaWidget" var="objIPS" value="#{solicitudesUrgenciasBean.lazyIPSAtencion}" rowKey="#{objIPS.id}"
                                         rows="#{solicitudesUrgenciasBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{solicitudesUrgenciasBean.onRowSelectIpsAt}" />
                                <p:column headerText="Código Habilitacion" filterBy="#{objIPS.codigoHabilitacionSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Tipo Documento" filterBy="#{objIPS.cntPrestador.maeTipoDocumentoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidget').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaTiposDocumento}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" filterBy="#{objIPS.cntPrestador.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Razón Social" filterBy="#{objIPS.cntPrestador.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Sede" filterBy="#{objIPS.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Departamento">
                                    <h:outputText value="#{solicitudesUrgenciasBean.obtenerDepartamento(obj.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Municipio" filterBy="#{obj.ubicacionId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidget').filter()" filter="true" filterMatchMode="startsWith">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{solicitudesUrgenciasBean.listaUbicacion}" var="tipoUbiC1" itemValue="#{tipoUbiC1.id}" itemLabel="#{tipoUbiC1.descripcion}" itemDescription="#{tipoUbiC1.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{solicitudesUrgenciasBean.obtenerMunicipio(obj.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Dirección">
                                    <f:facet name="filter">
                                        <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.direccion}"/>
                                </p:column>
                            </p:dataTable>
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoIpsListaAt').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>


            <p:dialog header="Crear Adjunto" widgetVar="dialogoAdjuntos" appendTo="@(body)" modal="true" width="550">
                <h:form id="frmAdjunto">
                    <p:panelGrid id="panelAdjuntos" columns="2" layout="grid" styleClass="showcase-text-align-center">

                        
                        
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Tipo Adjunto" for="somTipo" style="font-weight:bold"/> 
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:selectOneMenu id="somTipo" required="true" value="#{solicitudesUrgenciasBean.objetoAdjunto.maeTipoArchivoId}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{solicitudesUrgenciasBean.listaTipoAdjunto}" var="adju" itemValue="#{adju.id}" itemLabel="#{adju.nombre}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Archivo" for="adjuntoArchivo" style="font-weight:bold"/> 
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:fileUpload id="adjuntoArchivo" label="Adjunto" mode="advanced"
                                          skinSimple="true"
                                          value="#{solicitudesUrgenciasBean.archivoAdjunto}"
                                          listener="#{solicitudesUrgenciasBean.cargarArchivoDocumento}"
                                          multiple="true"
                                          auto="true"
                                          invalidFileMessage="Tipo inválido de archivo"
                                          fileLimitMessage="Máximo número de archivos excedido."
                                          update="nombreDocumento cmdnombreDocumento"
                                          uploadLabel="Subir"  cancelLabel="Cancelar"
                                          sizeLimit="7000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|PDF|jpe?g|doc|DOC|docx)$/"
                                          widgetVar="subirManual"/>
                                <p:outputLabel styleClass="texto-adjuntos" id="nombreDocumento" value="#{solicitudesUrgenciasBean.nombreDocumento}"/>
                                <p:commandButton id="cmdnombreDocumento" icon="ui-icon-close" action="#{solicitudesUrgenciasBean.borrarArchivo()}"
                                                 style="#{solicitudesUrgenciasBean.mostrarBorrarDocumento ?  'display: initial;' : 'display: none;'} width: 30px"
                                                 update="nombreDocumento cmdnombreDocumento adjuntoArchivo"  immediate="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6" style="text-align: center">
                                    <p:commandButton value="Agregar" action="#{solicitudesUrgenciasBean.agregarArchivo()}" />
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoAdjuntos').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>


            <!-- PANEL USADO EN OPCIÓN IMPRIMIR -->
            <p:dialog header="Imprimir Reporte" widgetVar="dialogoImprimir" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmImprimir">
                        <p:panel header="" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo Reporte" for="somTipoImp" style="font-weight:bold" /> 
                                <p:selectOneMenu id="somTipoImp" required="true" value="#{solicitudesUrgenciasBean.tipoImpresion}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Anexo 2" itemValue="2" />
                                </p:selectOneMenu>

                            </p:panelGrid>
                            <p:panelGrid style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="6" style="text-align: center">
                                            <p:commandButton value="Imprimir" title="Imprimir" icon="ui-icon-document" ajax="true" onclick="PrimeFaces.monitorDownload(start, stop);" >
                                                <p:fileDownload value="#{solicitudesUrgenciasBean.generarReportesAnexo()}" />
                                            </p:commandButton>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoImprimir').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- nuev desarrollo -->

            <!-- Opción Adicional 1 - Gestionar -->
            <p:dialog widgetVar="dialogoGestionar" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true" class="modal-no-scroll">
                <header style="font-size: 30px;">
                    <b>Gestionar</b>
                </header>
                <h:form id="frmAuditoriaGestionar" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{solicitudesUrgenciasBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmGestionar1">
                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Número solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.id}"/>

                                <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.tipoStr}"/>

                                <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.estadoStr}"/>
                                
                                <p:outputLabel value="Consecutivo" style="font-weight:bold;"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.consecutivo}"/>
                            </p:panelGrid>
                        </p:panel>
                        <!-- VER_Afiliado -->
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerEdad(solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento)}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : solicitudesUrgenciasBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{solicitudesUrgenciasBean.colorEstadoAfiliado}" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Dirección IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.direccion}"/>

                                <p:outputLabel value="Teléfono IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.email}"/>
                                <p:row>
                                    <p:column class="ui-g-12" style="display: grid">
                                        <b>IPS Atención Primaria</b>
                                        <hr color="#0F6ED3" style="width: 100%" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede IPS Primaria"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            <!--p:panel header="IPS Atención Primaria" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid columns="2">
                                   
                                </p:panelGrid>
                            </p:panel-->

                        </p:panel>
                        <!-- se culta campo mientras habilitan la resolucion 2335-->
                        <!-- Direccion alternativa -->
                        <p:panel style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid style="width:100%;margin:10px 0px" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Dirección alternativa" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.direccionAlternativa}"/>

                            </p:panelGrid>
                        </p:panel>
                        <!-- IPS -->
                        <p:panel id="pnlIPS" header="Información IPS" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                     

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Prestador" style="font-weight:bold"/>
                                <p:outputLabel/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.cntPrestador.codigoMinSalud}"/>                     

                                <p:outputLabel value="Sede" style="font-weight:bold"/>
                                <p:outputLabel />

                                <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.nombreSede}"/>                                        

                                <p:outputLabel value="Habilitación" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.codigoHabilitacionSede}"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlPersona" header="Profesional que realiza la atención" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlOrigen" header="Origen de la atención" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelOrigen">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelOrigenAtencion}" style="font-weight:bold" />
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeOrigenAtencionValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                    <h:form id="frmGestionar2">
                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="width:100%;margin:10px 0px" toggleable="true">
                            <br/>
                            <p:dataTable var="adj" value="#{solicitudesUrgenciasBean.objeto.listaAuSolicitudAdjunto}" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                                <p:column headerText="Fecha">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones"  style="text-align: center">
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     ajax="false" 
                                                     action="#{solicitudesUrgenciasBean.descargarAdjunto(adj)}"
                                                     process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <!-- Información de la Atención -->
                        <p:panel id="pnlTriage" header="Información de la atención" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriage3" columns="6"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-6"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paciente remitido" for="somRemiteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneRadio id="somRemiteA" disabled="true" value="#{solicitudesUrgenciasBean.objeto.remitido}"  layout="grid" columns="2">
                                            <f:selectItem itemLabel="Si" itemValue="true" />
                                            <f:selectItem itemLabel="No" itemValue="false" />
                                        </p:selectOneRadio>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="NIT" for="somNitAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somNitAtencion"
                                               value="#{solicitudesUrgenciasBean.objeto.remiteNit}" style="width: 94%;"/>  
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre de prestador Remitente" for="somNombreIPSAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somNombreIPSAtencion"
                                               value="#{solicitudesUrgenciasBean.objeto.remiteNombre}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número atención IPS" for="somcodigoAtencionIps" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somcodigoAtencionIps" value="#{solicitudesUrgenciasBean.objeto.codigoAtencionIps}" style="width: 94%;"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de atención" for="somfechaHoraAtencionA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraAtencionA" 
                                               value="#{solicitudesUrgenciasBean.objeto.fechaHoraAtencion}" >
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha y Hora de reporte" for="somfechaHoraReporteA" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraReporteA" 
                                               value="#{solicitudesUrgenciasBean.objeto.fechaHoraReporte}" >
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Banderas de colores(Triage)" style="font-weight:bold" for="somTriage" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somTriage" value="Nivel #{ solicitudesUrgenciasBean.objeto.triage} "/>
                                        <img src="#{solicitudesUrgenciasBean.obtenerTriage(solicitudesUrgenciasBean.objeto.triage)}" width="20" title="#{solicitudesUrgenciasBean.objeto.triageStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Crea" for="somUsuarioCrea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somUsuarioCrea" value="#{solicitudesUrgenciasBean.objeto.usuarioCrea}" >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Hora Crea" style="font-weight:bold" for="somfechaHoraCrea" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="somfechaHoraCrea" value="#{solicitudesUrgenciasBean.objeto.fechaHoraCrea}" >
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlMotivo" header="Motivo de la consulta" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivo" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.motivo}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:dataTable id="tablaDiagnosticos" style="margin: 10px;" value="#{solicitudesUrgenciasBean.objeto.listaAuAnexo2Diagnostico}" var="diag" widgetVar="tablaDiagnosticos">
                                <p:column headerText="Código" filterBy="#{diag.maDiagnosticosCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código CIE 10" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{diag.maDiagnosticosValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Tipo Diagnostico" filterBy="#{diag.maeTipoDiagnosticoValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Tipo Diagnostico" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maeTipoDiagnosticoValor}"/>
                                </p:column>
                                <p:column headerText="Principal" filterBy="#{diag.principal ? 'SI' : ''}">
                                    <f:facet name="filter">
                                        <p:inputText label="Principal" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.principal ? 'SI' : ''}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <!-- Destino -->
                        <p:panel id="pnlDestino" header="Destino de la atención" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelDestino" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.labelDestino}" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeDestinoPacienteValor}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Via de ingreso de la persona al servicio de salud" style="font-weight:bold" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.maeViaIngresoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>

                        <!-- Informante -->
                        <p:panel id="pnlInformante" header="Informante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaNombre}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaCargo}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.informaTelefono}" style="width: 40%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>
                    </h:form>
                    <h:form id="frmGestionar3">
                        <p:panel id="pnlGestionEstado" header="Gestionar" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center"> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:selectOneMenu id="somDestinoA" required="true" value="#{solicitudesUrgenciasBean.objeto.estado}" style="width: 25%;">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Autorizada" itemValue="3"  />
                                            <f:selectItem itemLabel="Rechazada Auditoría" itemValue="2"  />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Comentario" for="txtaDescripEstado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="txtaDescripEstado" style="width: 98%;" autoResize="false" rows="4" required="true"  
                                                 maxlength="1024"
                                                 value="#{solicitudesUrgenciasBean.objeto.comentarioEstado}" 
                                                 counter="display3" counterTemplate="{0} caracteres faltantes."/>
                                        <br/>
                                        <h:outputText id="display3" style="margin-top: -10px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid> 
                        </p:panel>    

                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Gestionar" action="#{solicitudesUrgenciasBean.gestionarEstado()}" partialSubmit="true" process=":frmGestionar3,@form"/>
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoGestionar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                        <h:form id="exit">
                            <p:remoteCommand  id="limpiarRender" name="limpiarRender" action="#{solicitudesUrgenciasBean.salir()}"/>
                        </h:form>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- descripciones afiliado genericas -->
            <p:dialog header="Afiliado" widgetVar="dlgInfoAfiliado" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAfiliadoGeneral">
                        <p:panelGrid id="panelAfiliadoGeneral" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid">

                            <p:outputLabel value="Estado" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}" />

                            <p:outputLabel value="Nombres" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.nombres}" />

                            <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.apellidos}" />

                            <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeTipoDocumentoCodigo}" />

                            <p:outputLabel value="Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.numeroDocumento}" />

                            <p:outputLabel value="Correo" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.email}" />

                            <p:outputLabel value="Dirección" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.direccionResidencia}" />

                            <p:outputLabel value="Ubicación" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerUbicacion(solicitudesUrgenciasBean.objeto.asegAfiliado.residenciaUbicacion.id)}" />

                            <p:outputLabel value="Regimen" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.maeRegimenValor}" />

                            <p:outputLabel value="Contrato" style="font-weight:bold"/>
                            <p:outputLabel value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.idAfiliado}" />

                        </p:panelGrid>
                        <p:panel header="Contactos Aseguramiento" toggleable="true" style="height:auto;">
                            <p:scrollPanel mode="native">
                                <p:dataTable id="tablaContactosGeneralAseg" var="contacto" value="#{solicitudesUrgenciasBean.objeto.asegAfiliado.listaAsegAfiliadoContacto}" widgetVar="tablaContactosGestionarAseg" scrollable="true" emptyMessage="No se encontraron registros">
                                    <p:column headerText="Número Contacto">
                                        <h:outputText value="#{contacto.numeroContacto}"/>
                                    </p:column>
                                    <p:column headerText="Tipo">
                                        <h:outputText value="#{contacto.maeTipoContactoValor}"/>
                                    </p:column>
                                    <p:column headerText="Observación">
                                        <h:outputText value="#{contacto.observacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgInfoAfiliado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!--ver rescatesss-->
            <p:dialog header="Rescates" widgetVar="dlgRescates" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmRescates">
                        <p:panel id="pTablaRescates" header="Lista Rescates" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaRescates" var="rescate" value="#{solicitudesUrgenciasBean.objeto.listaAuAnexo2Rescate}"
                                         widgetVar="tablaRescate" resizableColumns="true" emptyMessage="No se encontraron registros" >
                                <p:column headerText="Id">
                                    <h:outputText value="#{rescate.id}" />
                                </p:column>
                                <p:column headerText="Estado">
                                    <h:outputText value="#{rescate.estadoStr}" />
                                </p:column> 
                                <p:column headerText="Programa">
                                    <h:outputText value="#{rescate.pePrograma.descripcionPrograma}" />
                                </p:column> 
                                <p:column headerText="Sede Destino">
                                    <h:outputText value="#{rescate.cntPrestadorSedeDestino.nombreSede}" />
                                </p:column> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton  actionListener="#{solicitudesUrgenciasBean.verRescate(rescate.id)}"  title="Ver" icon="ui-icon-search"/>
                                </p:column>

                            </p:dataTable> 
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Salir" type="button" onclick="PF('dlgRescates').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--ver rescate-->
            <p:dialog header="Rescate" widgetVar="dialogoVerRescate" appendTo="@(body)" modal="true" width="90%" dynamic="true" class="modal-no-scroll">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{solicitudesUrgenciasBean.getAuditoria(solicitudesUrgenciasBean.objetoRescate.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmVerRescate">
                        <p:panel header="Rescate" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid  columns="4"
                                          columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                          layout="grid"
                                          styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Número rescate" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.id}"/>

                                <p:outputLabel value="Estado rescate" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.estadoStr}"/>

                                <p:outputLabel value="Fecha ingreso" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.fechaHoraCrea}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>                                        
                                </p:outputLabel>                                                                         

                                <p:outputLabel value="Fecha Rescate" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.fechaHoraRescate}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>                                        
                                </p:outputLabel>                                                                         

                                <p:outputLabel value="Programa" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.pePrograma.descripcionPrograma}"/>

                                <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.descripcionCorto}"/>
                                <p:commandButton rendered="#{solicitudesUrgenciasBean.objetoRescate.descripcionCorto.length() > 0 }" actionListener="#{solicitudesUrgenciasBean.showObservacionGenerica(solicitudesUrgenciasBean.objetoRescate.descripcion)}" icon="ui-icon-comment"/>

                                <p:outputLabel value="Fuente Origen" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.fuenteOrigenStr}"/>

                                <p:outputLabel value="Número" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.codigoSolicitud()}"/>
                            </p:panelGrid>
                        </p:panel>
                        <!-- VER_Afiliado -->
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeRegimenValor}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Dirección IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.direccion}"/>

                                <p:outputLabel value="Teléfono IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.email}"/>
                                 <p:row>
                                    <p:column class="ui-g-12" style="display: grid">
                                        <b>IPS Atención Primaria</b>
                                        <hr color="#0F6ED3" style="width: 100%" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede IPS Primaria"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.asegAfiliado.primariaPrestadorSede.nombreSede}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            <!--p:panel header="IPS Atención Primaria" style="margin-bottom:10px;" toggleable="true">
                                <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center">
                                    
                                </p:panelGrid>
                            </p:panel-->
                        </p:panel>
                        <!-- IPS origen-->
                        <p:panel id="pnlIPSOrigen" header="Información IPS Origen" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPSOrigen" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorOrigen.maeTipoDocumentoValor}"/>                     

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorOrigen.numeroDocumento}"/>

                                <p:outputLabel value="Prestador" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorOrigen.razonSocial}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorOrigen.codigoMinSalud}"/>                     

                                <p:outputLabel value="Sede" style="font-weight:bold"/>
                                <p:outputLabel value="" />

                                <p:outputLabel value="Nombre" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeOrigen.nombreSede}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeOrigen.codigoHabilitacionSede}"/>

                                <p:outputLabel value="Ciudad/Municipio"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeOrigen.ubicacionId)}"/>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeOrigen.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeOrigen.direccion}"/>

                            </p:panelGrid>
                        </p:panel>
                        <!-- IPS destino-->
                        <p:panel id="pnlIPSDestino" header="Información IPS Destino" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPSDestino" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorDestino.maeTipoDocumentoValor}"/>                     

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorDestino.numeroDocumento}"/>

                                <p:outputLabel value="Prestador" style="font-weight:bold"/>
                                <p:outputLabel value="" />

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorDestino.razonSocial}"/>                                        

                                <p:outputLabel value="Habilitación" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorDestino.codigoMinSalud}"/>                     

                                <p:outputLabel value="Sede" />
                                <p:outputLabel value="" />

                                <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeDestino.nombreSede}"/>                                        

                                <p:outputLabel value="Habilitación" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeDestino.codigoHabilitacionSede}"/>

                                <p:outputLabel value="Ciudad/Municipio"  style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerMunicipio(solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeDestino.ubicacionId)}"/>

                                <p:outputLabel value="Departamento" style="font-weight:bold" />
                                <p:outputLabel value="#{solicitudesUrgenciasBean.obtenerDepartamento(solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeDestino.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.cntPrestadorSedeDestino.direccion}"/>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlMotivo" header="Motivo de la consulta" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivo" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{solicitudesUrgenciasBean.objetoRescate.motivoConsulta}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlGestion" header="Gestionar" style="margin-bottom:10px;" toggleable="true">                            
                            <p:dataTable id="tablaGestion" style="margin: 10px;" var="gest" widgetVar="tablaGestion"
                                         value="#{solicitudesUrgenciasBean.objetoRescate.auAnexo2RescateGestionList}"
                                         paginator="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" rows="5"
                                         emptyMessage="No se encontraron registros"
                                         sortBy="#{gest.fechaHoraCrea}"> 

                                <p:column headerText="Tipo" filterBy="#{gest.tipo}" style="width: 10%;text-align: center">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaGestion').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true"/>
                                            <f:selectItem itemLabel="Cambio Estado" itemValue="0" />
                                            <f:selectItem itemLabel="Gestión" itemValue="1"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{gest.tipoStr}"/>
                                </p:column>

                                <p:column headerText="Observación" filterBy="#{gest.observacion}" style="text-align: center">
                                    <f:facet name="filter">
                                        <p:inputText label="Observación" maxlength="128" style="width: 95%;" onchange="PF('tablaGestion').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{gest.observacionCorto}"/>
                                    <p:commandButton rendered="#{gest.observacionCorto.length() > 0 }" actionListener="#{solicitudesUrgenciasBean.showObservacionGenerica(gest.observacion)}" icon="ui-icon-comment"/>
                                </p:column>

                                <p:column headerText="Usuario Crea" style="width: 10%;text-align: center">
                                    <h:outputText value="#{gest.usuarioCrea}">
                                    </h:outputText>
                                </p:column>

                                <p:column headerText="Fecha Hora Crea" style="width: 10%;text-align: center">
                                    <h:outputText value="#{gest.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>                               

                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerRescate').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- descripciones genericas -->
            <p:dialog header="Observación" widgetVar="dlgMsg" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmObservacion">
                        <p:panelGrid id="panelObservacion" style="width:100%;margin:10px 0px" columns="1">
                            <p:inputTextarea  value="#{solicitudesUrgenciasBean.observacionGenerica}" readonly="true" style="width: 100%"/>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <ui:include src="../contratacion/seleccion/sel_prestador_sedes.xhtml" />
            <ui:include src="../maestro/seleccion/sel_diagnosticos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_especialidades.xhtml" /> 
        </center>
    </ui:define>
</ui:composition>