<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="bodyJR">
        <center>
            <h:form id="frmIndicador">     
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{indicadoresBean.modulo.descripcion}">#{indicadoresBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{indicadoresBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{indicadoresBean.refrescar}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{indicadoresBean.accionCrear}" title="Crear" actionListener="#{indicadoresBean.crear}" icon="ui-icon-document"/>

                    </f:facet>
                </p:toolbar>               

                <p:dataTable var="obj" value="#{indicadoresBean.lazyIndicadores}" paginator="true" rows="#{indicadoresBean.tamanoPagina}"
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" lazy="true"
                             widgetVar="tablaWidget"
                             scrollable="true"
                             scrollWidth="100%"
                             rowKey="#{obj.id}" reflow="true">

                    <p:column headerText="Acciones" style="text-align: center; font-size:11px !important;">
                        <p:commandButton rendered="#{indicadoresBean.accionVer}" title="Ver Indicador" actionListener="#{indicadoresBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{indicadoresBean.accionEditar}" title="Editar" actionListener="#{indicadoresBean.editar(obj.id)}" icon="ui-icon-pencil"/>
                        <p:commandButton rendered="#{indicadoresBean.accionBorrar}" title="Borrar" actionListener="#{indicadoresBean.borrarIndicador(obj)}" icon="ui-icon-trash"/>
                    </p:column>

                    <p:column headerText="Id" filterBy="#{obj.id}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Id" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.id}" title="#{obj.id}"/>
                    </p:column>

                    <p:column headerText="Codigo" filterBy="#{obj.codigo}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Codigo" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.codigo}" title="#{obj.codigo}"/>
                    </p:column>

                    <p:column headerText="Nombre" filterBy="#{obj.nombre}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Nombre" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <p:outputPanel style="word-wrap: break-word; white-space: pre-wrap; overflow-wrap: break-word; width: 100%;">
                            <h:outputText value="#{obj.nombreCorto}" title="#{obj.nombre}" escape="false" />
                            <p:commandButton rendered="#{obj.nombreCorto.length() > 25 }" actionListener="#{indicadoresBean.mostrarMensaje(obj.nombre)}" icon="ui-icon-comment"/>
                        </p:outputPanel>
                    </p:column>

                    <p:column headerText="Area" filterBy="#{obj.maeAreaValor}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Area" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.maeAreaValor}" title="#{obj.maeAreaValor}"/>
                    </p:column>

                    <p:column headerText="Clase" filterBy="#{obj.maeClaseValor}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Clase" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.maeClaseValor}" title="#{obj.maeClaseValor}"/>
                    </p:column>

                    <p:column headerText="Macroproceso" filterBy="#{obj.maeMacroprocesoValor}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Macroproceso" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.maeMacroprocesoValor}" title="#{obj.maeMacroprocesoValor}"/>
                    </p:column>

                    <p:column headerText="Proceso" filterBy="#{obj.maeProcesoValor}" style="text-align: center; font-size:11px !important;">
                        <f:facet name="filter">
                            <p:inputText label="Proceso" maxlength="64" style="width: 95%;"
                                         onkeydown="if (event.key === 'Tab') {
                                                     PF('tablaWidget').filter();
                                                 }"/>
                        </f:facet>
                        <h:outputText value="#{obj.maeProcesoValor}" title="#{obj.maeProcesoValor}"/>
                    </p:column>

                </p:dataTable>


                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>

            </h:form>

            <!-- Ver -->
            <p:dialog header="Ver" widgetVar="dialogoVer" appendTo="@(body)" modal="true" width="80%" style="max-width: 90%; max-height: 90%" >
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{indicadoresBean.getAuditoria(indicadoresBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmVer">
                        <p:panelGrid id="panelVer">

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Clase" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.maeClaseValor}"/>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Area" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.maeAreaValor}"/>
                                </p:column>

                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Macro Proceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.maeMacroprocesoValor}"/>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Proceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.maeProcesoValor}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Tipo" style="font-weight:bold"  />
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.tipo}"/>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Codigo" style="font-weight:bold"  />
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.codigo}"/>
                                </p:column>

                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Nombre" for="nombre" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="nombre" value="#{indicadoresBean.objeto.nombre}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="descripcion" value="#{indicadoresBean.objeto.descripcion}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Activo" style="font-weight:bold" />
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{indicadoresBean.objeto.activo ? 'Sí' : 'No'}" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Normativa" style="font-weight:bold"  />
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:outputPanel style="word-wrap: break-word; white-space: pre-wrap; overflow-wrap: break-word; width: 100%;">
                                        <h:outputText value="#{indicadoresBean.objeto.normativa}" escape="false" />
                                    </p:outputPanel>                             
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Objetivo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:outputPanel style="word-wrap: break-word; white-space: pre-wrap; overflow-wrap: break-word; width: 100%;">
                                        <h:outputText value="#{indicadoresBean.objeto.objetivo}" escape="false" />
                                    </p:outputPanel>                                
                                </p:column>
                            </p:row>


                        </p:panelGrid>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>                        
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Crear -->
            <p:dialog header="Crear Indicador" widgetVar="dialogoCrear" appendTo="@(body)" modal="true" width="80%" style="max-width: 90%; max-height: 90%" >
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmCrear">
                        <p:panelGrid id="panelCrear">
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Clase" for="indicadorClase" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="indicadorClase" value="#{indicadoresBean.objeto.maeClaseId}" filter="true" required="true" requiredMessage="Indicador Clase: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorClase}" var="clase" itemValue="#{clase.id}" itemLabel="#{clase.nombre}" itemDescription="#{clase.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Area" for="area" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="area" value="#{indicadoresBean.objeto.maeAreaId}" filter="true" required="true" requiredMessage="El Area: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaAreas}" var="area" itemValue="#{area.id}" itemLabel="#{area.nombre}" itemDescription="#{area.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Macro Proceso" for="macroProceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="macroProceso" value="#{indicadoresBean.objeto.maeMacroprocesoId}" filter="true" required="true" requiredMessage="El Macroproceso: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorMacroproceso}" var="macro" itemValue="#{macro.id}" itemLabel="#{macro.nombre}" itemDescription="#{macro.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Proceso" for="proceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="proceso" value="#{indicadoresBean.objeto.maeProcesoId}" filter="true" required="true" requiredMessage="El Proceso: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorProceso}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>

                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Tipo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="tipo" value="#{indicadoresBean.objeto.tipo}" required="true" requiredMessage="El tipo : Este campo es obligatorio" var="tur">
                                        <f:selectItem itemLabel="---" itemValue="0"/>
                                        <f:selectItem itemLabel="Eficacia" itemValue="1"/>
                                        <f:selectItem itemLabel="Efectividad" itemValue= "2"/>
                                        <f:selectItem itemLabel="Resultado" itemValue= "3"/>
                                        <f:selectItem itemLabel="Gestion" itemValue= "4"/>
                                        <f:selectItem itemLabel="Calidad" itemValue= "5"/>
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Codigo" for="codigo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputText id="codigo" label="Codigo" value="#{indicadoresBean.objeto.codigo}" maxlength="32" required="true" requiredMessage="Codigo: Este campo es obligatorio" style="width: 90%">
                                    </p:inputText>
                                </p:column>

                            </p:row>                                                       
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Nombre" for="nombre" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="nombre" value="#{indicadoresBean.objeto.nombre}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="descripcion" value="#{indicadoresBean.objeto.descripcion}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />
                                </p:column>

                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Activo" for="activo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectBooleanButton id="activo" 
                                                           onLabel="Si" 
                                                           offLabel="No" 
                                                           onIcon="pi pi-check" 
                                                           offIcon="pi pi-times" 
                                                           value="#{indicadoresBean.objeto.activo == null ? indicadoresBean.objeto.activo : true}" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Normativa" for="normativa" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10" style="display: grid">

                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="normativa" value="#{indicadoresBean.objeto.normativa}" autoResize="false" rows="10" cols="20" style="width: 100%; height: 80%" maxlength="2048" required="true" counter="display2" counterTemplate="{0} caracteres faltantes."/>
                                        <h:outputText id="display2" />
                                    </p:column>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Objetivo" for="objetivo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10" style="display: grid">
                                    <p:inputTextarea id="objetivo" value="#{indicadoresBean.objeto.objetivo}" autoResize="false" rows="10" cols="20" style="width: 100%; height: 80%" maxlength="1024" required="true" counter="display3" counterTemplate="{0} caracteres faltantes."/>
                                    <h:outputText id="display3" />
                                </p:column>
                            </p:row>


                        </p:panelGrid>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" onclick="guardarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarRemote" action ="#{indicadoresBean.guardar}" update="panelCrear"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Editar -->
            <p:dialog header="Editar" widgetVar="dialogoEditar" appendTo="@(body)" modal="true" width="80%" style="max-width: 90%; max-height: 90%">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{indicadoresBean.getAuditoria(indicadoresBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">

                    <h:form id="frmEditar">
                        <p:panelGrid id="panelEditar">
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Clase" for="indicadorClase" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="indicadorClase" value="#{indicadoresBean.objeto.maeClaseId}" filter="true" required="true" requiredMessage="Indicador Clase: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorClase}" var="clase" itemValue="#{clase.id}" itemLabel="#{clase.nombre}" itemDescription="#{clase.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Area" for="area" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="area" value="#{indicadoresBean.objeto.maeAreaId}" filter="true" required="true" requiredMessage="El Area: Este campo es obligatorio" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaAreas}" var="area" itemValue="#{area.id}" itemLabel="#{area.nombre}" itemDescription="#{area.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Macro Proceso" for="macroProceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="macroProceso" value="#{indicadoresBean.objeto.maeMacroprocesoId}" filter="true" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorMacroproceso}" var="macro" itemValue="#{macro.id}" itemLabel="#{macro.nombre}" itemDescription="#{macro.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Proceso" for="proceso" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="proceso" value="#{indicadoresBean.objeto.maeProcesoId}" filter="true" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{indicadoresBean.listaIndicadorProceso}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Tipo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectOneMenu id="tipo" value="#{indicadoresBean.objeto.tipo}" required="true" requiredMessage="El tipo : Este campo es obligatorio" var="tur">
                                        <f:selectItem itemLabel="---" itemValue="0"/>
                                        <f:selectItem itemLabel="Eficacia" itemValue="1"/>
                                        <f:selectItem itemLabel="Efectividad" itemValue= "2"/>
                                        <f:selectItem itemLabel="Resultado" itemValue= "3"/>
                                        <f:selectItem itemLabel="Gestion" itemValue= "4"/>
                                        <f:selectItem itemLabel="Calidad" itemValue= "5"/>
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Codigo" for="codigo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputText id="codigo" label="Codigo" value="#{indicadoresBean.objeto.codigo}" maxlength="32" required="true" requiredMessage="Indicador: Este campo es obligatorio" >
                                    </p:inputText>
                                </p:column>

                            </p:row>
                            <p:row>

                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Nombre" for="nombre" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="nombre" value="#{indicadoresBean.objeto.nombre}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:inputTextarea id="descripcion" value="#{indicadoresBean.objeto.descripcion}" autoResize="true"
                                                     rows="1" maxlength="512" style="width: 100%; resize: vertical;" required="true"
                                                     />

                                </p:column>

                            </p:row>


                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Activo" for="activo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:selectBooleanButton id="activo" offLabel="No" onLabel="Si" onIcon="pi pi-check" offIcon="pi pi-times" value="#{indicadoresBean.objeto.activo}">

                                    </p:selectBooleanButton> 
                                </p:column>

                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Normativa" for="normativa" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10" style="display: grid">

                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="normativa" value="#{indicadoresBean.objeto.normativa}" autoResize="false" rows="10" cols="20" style="width: 100%; height: 80%" maxlength="2048" required="true" counter="display2" counterTemplate="{0} caracteres faltantes."/>
                                        <h:outputText id="display2" />
                                    </p:column>
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Objetivo" for="objetivo" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10" style="display: grid">
                                    <p:inputTextarea id="objetivo" value="#{indicadoresBean.objeto.objetivo}" autoResize="false" rows="10" cols="20" style="width: 100%; height: 80%" maxlength="1024" required="true" counter="display3" counterTemplate="{0} caracteres faltantes."/>
                                    <h:outputText id="display3" />
                                </p:column>
                            </p:row>

                        </p:panelGrid>
                        

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Modificar" type="button" onclick="modificarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="modificarRemote" action="#{indicadoresBean.modificar}" update="panelEditar" />
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>


            <!--Borrar-->

            <p:dialog header="Borrar Indicador" widgetVar="dialogoBorrarIndicador" appendTo="@(body)" position="center" width="45%" modal="true" style="max-height:70%;">
                <h:form id="frmBorrarIndicador">
                    <p:panelGrid id="panelBorrarIndicador" columns="2" layout="grid" styleClass="showcase-text-align-center">

                        <p:row>
                            <p:column>
                                <h:outputText value="Observación" class="header-back" />
                            </p:column>
                            <p:column style="display: grid">
                                <p:inputTextarea id="comentarioBorrar" style="max-width: 90%;" rows="5" cols="100" value="#{indicadoresBean.objeto.borradoObservacion}" counter="display1Anular" maxlength="260" counterTemplate="{0} caracteres faltantes." autoResize=   "true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                                <h:outputText id="display1Anular" />
                            </p:column>
                        </p:row>
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Borrar" actionListener="#{indicadoresBean.borrar()}">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>                                       
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoBorrarIndicador').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>

            <!-- descripciones Nombre -->
            <p:dialog header="Nombre" widgetVar="dlgMsg" appendTo="@(body)" modal="true"  width="70%" dynamic="true" style="max-height:70%;">
                <h:form id="frmDescripcionNombre">
                    <p:panelGrid id="panelDescripcionNombre" columns="1" layout="grid" styleClass="showcase-text-align-center" >
                        <p:row>
                            <p:column>
                                <p:inputTextarea  value="#{indicadoresBean.objeto.nombre}" rows="5" cols="130" readonly="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column style="text-align: center">

                                    <h:panelGroup style="display:block; text-align:center;">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                    </h:panelGroup>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form> 
            </p:dialog>

            <!-- descripciones Nombre -->
            <p:dialog header="Descripcion" widgetVar="dlgMsg2" appendTo="@(body)" modal="true"  width="70%" dynamic="true" style="max-height:70%;">
                <h:form id="frmDescripcion">
                    <p:panelGrid id="panelDescripcion" columns="1" layout="grid" styleClass="showcase-text-align-center" >
                        <p:row>
                            <p:column>
                                <p:inputTextarea  value="#{indicadoresBean.objeto.descripcion}" rows="5" cols="130" readonly="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column style="text-align: center">

                                    <h:panelGroup style="display:block; text-align:center;">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                    </h:panelGroup>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form> 
            </p:dialog>


        </center>
    </ui:define>
</ui:composition>
