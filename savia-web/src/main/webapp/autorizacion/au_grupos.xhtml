<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR">
        <h:outputScript name="js/calendar-localization.js"/>
        <h:outputStylesheet name="css/solicitudes.css"/>
        <h:outputStylesheet name="css/gp.css"/>
        <center>
            <style>
                .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                    border: 1px solid #e5e2e2;
                }

                .ui-panelgrid .ui-panelgrid-footer {
                    text-align: center;
                    padding: 2px 5px;
                }
                td {
                    border: 1px solid #dddddd!important;
                }
            </style>
            <h:form id="frmGrupos">
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{grupoBean.cerrarDialogoDiagnostico()}"/>
                <p:remoteCommand name="cerrarDialogoMedicamento" action="#{grupoBean.cerrarDialogoMedicamento()}"/>
                <p:remoteCommand name="cerrarDialogoPaquete" action="#{grupoBean.cerrarDialogoPaquete()}"/>
                <p:remoteCommand name="cerrarDialogoTecnologia" action="#{grupoBean.cerrarDialogoTecnologia()}"/>
                <p:remoteCommand name="cerrarDialogoInsumo" action="#{grupoBean.cerrarDialogoInsumo()}"/>
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{grupoBean.modulo.descripcion}">#{grupoBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{grupoBean.accionListar}" title="Refrescar" ajax="false" actionListener="#{grupoBean.refrescar()}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{grupoBean.accionCrear}" title="Crear" actionListener="#{grupoBean.crear()}" icon="ui-icon-document"/>
                    </f:facet>
                </p:toolbar>
                <p:dataTable var="obj" value="#{grupoBean.lazyGrupos}" paginator="true" rows="#{grupoBean.tamanoPagina}" 
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                             widgetVar="tablaWidget"
                             rowKey="#{obj.id}" reflow="true" draggableRows="true">

                    <p:ajax event="rowReorder" listener="#{grupoBean.onRowReorder}" />

                    <p:column style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="Acciones"/>
                        </f:facet>    
                        <p:commandButton rendered="#{grupoBean.accionVer}" title="Ver" actionListener="#{grupoBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{grupoBean.accionEditar}" title="Editar" actionListener="#{grupoBean.editar(obj.id)}" icon="ui-icon-pencil"/>
                        <p:commandButton rendered="#{grupoBean.accionAdicional1}" title="Reasignar" actionListener="#{grupoBean.verReasginar(obj.id)}" icon="ui-icon-transferthick-e-w"/>
                        <p:commandButton rendered="#{grupoBean.accionBorrar}" title="Borrar" action="#{grupoBean.borrar(obj.id)}" icon="ui-icon-trash">
                            <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                        </p:commandButton>
                    </p:column>

                    <p:column headerText="Nombre" filterBy="#{obj.nombre}">
                        <f:facet name="filter">
                            <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.nombre}"/>
                    </p:column>

                    <p:column headerText="Descripción" filterBy="#{obj.descripcion}">
                        <f:facet name="filter">
                            <p:inputText label="Descripción" maxlength="64" style="width: 80%;" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.descripcion}"/>
                    </p:column>

                    <p:column headerText="Aplica seguimiento">
                        <h:outputText value="#{obj.obtenerBoolean(obj.aplicaSeguimiento)}"/>
                    </p:column>

                    <p:column headerText="Activo">
                        <h:outputText value="#{obj.obtenerBoolean(obj.activo)}"/>
                    </p:column>

                    <p:column headerText="Orden">
                        <h:outputText value="#{obj.orden}"/>
                    </p:column>

                </p:dataTable>
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>
            <!-- Ver -->
            <p:dialog header="Ver" widgetVar="dialogoVerGrupo" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{grupoBean.getAuditoria(grupoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmVerGrupo">
                        <!-- Informacion Grupo -->
                        <p:panel id="pGrupoVer" header="Datos Grupo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelGrupoVer" style="width:100%; margin:10px 0px"  
                                         columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold" />  
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{grupoBean.objeto.nombre}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea label="Descripción" value="#{grupoBean.objeto.descripcion}" cols="150" rows="4" maxlength="512" readonly="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Orden" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.orden}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Activo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerActivo()}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Ámbito" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.maeAmbitoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tutela" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerNombreTutela()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerNombrePbs()}"/>
                                    </p:column>
                                    
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tecnología" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsTecnologia()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Medicamento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsMedicamento()}"/>
                                    </p:column>
                                    
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Insumo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsInsumo()}"/>
                                    </p:column>
                                     <p:column class="ui-g-2">
                                        <p:outputLabel value="Paquete" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsPaquete()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                   <p:column class="ui-g-2">
                                       <p:outputLabel value="Solo Grupo" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerSoloGrupo()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Genérico" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerGenerico()}"/>
                                    </p:column>
                                    
                                </p:row>
                                <p:row>
                                    
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Seguimiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerAplicaSeguimiento()}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Auditores -->
                        <p:panel id="pAuditorVer" header="Auditores" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaAuditoresVer" widgetVar="tablaAuditoresVer" var="auditorVer" value="#{grupoBean.lazyGrupoUsuario}" rowKey="#{auditorVer.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron auditores" >
                                <p:column headerText="Nombre"  filterBy="#{auditorVer.usuario.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaAuditoresVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{auditorVer.usuario.nombre}" />
                                </p:column>
                                <p:column headerText="Activo">
                                    <h:outputText value="#{auditorVer.getActivoStr()}"/>
                                </p:column>
                                <p:column headerText="Tipo">
                                    <h:outputText value="#{auditorVer.maeTipoAuditorValor}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Regiones -->
                        <p:panel id="pRegionVer" header="Regiones" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaRegionVer" var="regionVer" value="#{grupoBean.objeto.auGrupoRegionList}" widgetVar="tablaRegionVer" resizableColumns="true" emptyMessage="No se encontraron registros" style="text-align: center" >
                                <p:column headerText="Región">
                                    <h:outputText value="#{regionVer.maeRegionValor}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Sedes -->
                        <p:panel id="pSedeVer" header="Sedes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaSedesVer" widgetVar="tablaSedesVer" var="sedeVer" value="#{grupoBean.lazyGrupoSede}" rowKey="#{sedeVer.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron sedes">
                                <p:column headerText="Prestador" filterBy="#{sedeVer.cntPrestadoresId.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Prestador" maxlength="64" style="width: 80%;" onchange="PF('tablaSedesVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{sedeVer.cntPrestadoresId.razonSocial}" />
                                </p:column>
                                <p:column headerText="Sede" filterBy="#{sedeVer.cntPrestadorSede.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Sede" maxlength="64" style="width: 80%;" onchange="PF('tablaSedesVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{sedeVer.cntPrestadorSede.nombreSede}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Diagnosticos -->
                        <p:panel id="pDiagnosticoVer" header="Diagnósticos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaDiagnosticoVer" widgetVar="tablaDiagnosticoVer" var="diagnosticoVer" value="#{grupoBean.lazyGrupoDiagnosticos}" rowKey="#{diagnosticoVer.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron diagnóstico">
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagnosticoVer.maDiagnosticoCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagnosticoVer.maDiagnosticoValor}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Tecnologia -->
                        <p:panel id="pTecnologiaVer" header="Tecnologías" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaTecnologiaVer" widgetVar="tablaTecnologiaVer" var="tecnologiaVer" value="#{grupoBean.lazyGrupoTecnologia}" rowKey="#{tecnologiaVer.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron tecnologías">
                                <p:column headerText="Tipo" filterBy="#{tecnologiaVer.tipoTecnologia}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTecnologiaVer').filter()" style="width: 88%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaTipoTecnologia}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaVer.obtenerTipoTecnologia()}" />
                                </p:column>
                                <p:column headerText="Código" filterBy="#{tecnologiaVer.maTecnologiaCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="64" style="width: 80%;" onchange="PF('tablaTecnologiaVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaVer.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre" filterBy="#{tecnologiaVer.maTecnologiasValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaTecnologiaVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaVer.maTecnologiasValor}" />
                                </p:column>
                                <p:column headerText="Tipo Auditor">
                                    <h:outputText value="#{tecnologiaVer.maeTipoAuditorValor}" />
                                </p:column>
                                <p:column headerText="Aplica Seguimiento">
                                    <h:outputText value="#{tecnologiaVer.obtenerAplicaSeguimiento()}" />
                                </p:column>
                                <p:column headerText="Tipo Seguimiento">
                                    <h:outputText value="#{tecnologiaVer.maeSeguimientoServicioValor}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Programas -->
                        <p:panel id="pProgramaVer" header="Programas" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaProgramaVer" widgetVar="tablaProgramaVer" var="programaVer" value="#{grupoBean.lazyGrupoProgramas}" rowKey="#{programaVer.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron programas">
                                <p:column headerText="Código" filterBy="#{programaVer.peProgramaId.codigoPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="64" style="width: 80%;" onchange="PF('tablaProgramaVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{programaVer.peProgramaId.codigoPrograma}" />
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{programaVer.peProgramaId.descripcionPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="64" style="width: 80%;" onchange="PF('tablaProgramaVer').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{programaVer.peProgramaId.descripcionPrograma}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!--Acciones-->
                        <p:panelGrid id="panelVer" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerGrupo').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Crear -->
            <p:dialog header="Crear" widgetVar="dialogoCrearGrupo" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearGrupo">
                        <!-- Informacion Grupo -->
                        <p:panel id="pGrupoCrear" header="Datos Grupo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelGrupoCrear" style="width:100%;margin:10px 0px"
                                         columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" for="nombreGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputText id="nombreGrupoCrear" label="Nombre" value="#{grupoBean.objeto.nombre}" maxlength="64" required="true" requiredMessage="Nombre : Este campo es obligatorio" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="descripcionGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="descripcionGrupoCrear" label="Descripción" value="#{grupoBean.objeto.descripcion}" cols="150" rows="4" maxlength="512" required="true" requiredMessage="Descripción : Este campo es obligatorio" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Orden" for="ordenGrupoCrear"  style="font-weight:bold"/>  
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="ordenGrupoCrear" label="Orden" value="#{grupoBean.objeto.orden}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Activo" for="activoGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="activoGrupoCrear" label="Activo" value="#{grupoBean.objeto.activo}" offLabel="No" onLabel="Sí" style="width: 59px" onIcon="ui-icon-check" offIcon="ui-icon-closethick" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Ámbito" for="ambitoGrupoCrear" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="ambitoGrupoCrear" label="Ámbito" value="#{grupoBean.objeto.maeAmbitoId}" required="true" requiredMessage="Ámbito: Este campo es obligatorio." style="width:125px;">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{grupoBean.listaAmbitos}" var="tipAmb" itemValue="#{tipAmb.id}" itemLabel="#{tipAmb.nombre}" itemDescription="#{tipAmb.descripcion}"/>
                                            <p:ajax event="change" listener="#{grupoBean.llenarAmbitoGrupo()}" update="ambitoGrupoCrear" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tutela" for="tutelaGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="tutelaGrupoCrear" label="Tutela" value="#{grupoBean.objeto.pbs}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoTutela()}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" for="pbsGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="pbsGrupoCrear" label="PBS" value="#{grupoBean.objeto.pbs}" offLabel="No" style="width: 59px" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoPbs()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tecnología" for="tecnologiaGrupoCrear" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="tecnologiaGrupoCrear" label="Tecnologia" style="width: 59px" value="#{grupoBean.objeto.esTecnologia}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax  update="pTecnologiaCrear" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Medicamento" for="medicamentoGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="medicamentoGrupoCrear" label="Medicamento" style="width: 59px" value="#{grupoBean.objeto.esMedicamento}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaCrear" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Insumo" for="insumoGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="insumoGrupoCrear" label="Insumo" style="width: 59px" value="#{grupoBean.objeto.esInsumo}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaCrear" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paquete" for="paqueteGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="paqueteGrupoCrear" label="Paquete" value="#{grupoBean.objeto.esPaquete}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaCrear" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solo Grupo" for="soloGrupoCrear" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="soloGrupoCrear" label="Solo Grupo" style="width: 59px" value="#{grupoBean.objeto.soloGrupo}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Genérico" for="genericoGrupoCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="genericoGrupoCrear" label="Genérico" style="width: 59px" value="#{grupoBean.objeto.generico}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoGenerico()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Seguimiento" for="aplicaSegCrear" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="aplicaSegCrear" label="Aplica Seguimiento" style="width: 59px" value="#{grupoBean.objeto.aplicaSeguimiento}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Auditores -->
                        <p:panel id="pAuditorCrear" header="Auditores" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarAuditores()}" icon="ui-icon-person" title="Agregar Auditor"/>
                            </div>
                            <p:dataTable id="tablaAuditoresCrear" widgetVar="tablaAuditoresCrear" var="auditorCrear" value="#{grupoBean.lazyGrupoUsuario}" rowKey="#{auditorCrear.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron auditores">
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{auditorCrear.usuario.nombre}" />
                                </p:column>
                                <p:column headerText="Activo">
                                    <p:selectBooleanCheckbox id="activoAuditorCrear" label="Activo" value="#{auditorCrear.activo}"/>
                                </p:column>
                                <p:column headerText="Tipo Auditor">
                                    <p:selectOneMenu id="tipoAuditorCrear" label="Tipo" value="#{auditorCrear.maeTipoAuditorId}" style="width:80%;" required="true" requiredMessage="El tipo: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaTipoAuditor}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>
                                        <p:ajax event="itemSelect" update="tablaAuditoresCrear" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarAuditor(auditorCrear)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Regiones -->
                        <p:panel id="pRegionCrear" header="Regiones" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelRegionCrear" style="width:100%;margin:10px 0px"
                                         columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Región" for="regionGrupoCrear"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:selectOneMenu id="regionGrupoCrear" label="Región" value="#{grupoBean.objeto.idRegion}" style="width:300px;">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaRegiones}" var="region" itemValue="#{region.id}" itemLabel="#{region.nombre}" itemDescription="#{region.descripcion}"/>
                                        </p:selectOneMenu>
                                        <p:commandButton title="Agregar Región" style="width: 34px" actionListener="#{grupoBean.agregarRegion()}" icon="ui-icon-plusthick"/>
                                    </p:column>
                                </p:row>
   
                            </p:panelGrid>
                            <p:dataTable id="tablaRegionCrear" var="regionCrear" value="#{grupoBean.objeto.auGrupoRegionList}" widgetVar="tablaRegionCrear" resizableColumns="true" emptyMessage="No se encontraron regiones" style="text-align: center" >
                                <p:column headerText="Región">
                                    <h:outputText value="#{regionCrear.maeRegionValor}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarRegion(regionCrear.maeRegionId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Sedes -->
                        <p:panel id="pSedeCrear" header="Sedes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarSedes()}" icon="ui-icon-home" title="Agregar IPS"/>
                            </div>
                            <p:dataTable id="tablaSedesCrear" widgetVar="tablaSedesCrear" var="sedeCrear" value="#{grupoBean.lazyGrupoSede}" rowKey="#{sedeCrear.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron sedes">
                                <p:column headerText="Prestador">
                                    <h:outputText value="#{sedeCrear.cntPrestadoresId.razonSocial}" />
                                </p:column>
                                <p:column headerText="Sede" >
                                    <h:outputText value="#{sedeCrear.cntPrestadorSede.nombreSede}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarSede(sedeCrear.cntPrestadorSede.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Diagnósticos -->
                        <p:panel id="pDiagnosticoCrear" header="Diagnósticos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Agregar Diagnóstico"/>
                            </div>
                            <p:dataTable id="tablaDiagnosticoCrear" widgetVar="tablaDiagnosticoCrear" var="diagnosticoCrear" value="#{grupoBean.lazyGrupoDiagnosticos}" rowKey="#{diagnosticoCrear.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron diagnósticos">
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagnosticoCrear.maDiagnosticoCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagnosticoCrear.maDiagnosticoValor}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarDiagnostico(diagnosticoCrear.maDiagnosticoId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Tecnología -->
                        <p:panel id="pTecnologiaCrear" header="Tecnologías" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div id="botonesTecnologiasCrear" align="right"> 
                                <p:commandButton rendered="#{grupoBean.objeto.esTecnologia}" immediate="true" action="#{grupoBean.consultarProcedimiento()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esMedicamento}" immediate="true" action="#{grupoBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esInsumo}" immediate="true" action="#{grupoBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esPaquete}" immediate="true" action="#{grupoBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                            </div>
                            <p:dataTable id="tablaTecnologiaCrear" widgetVar="tablaTecnologiaCrear" var="tecnologiaCrear" value="#{grupoBean.lazyGrupoTecnologia}" rowKey="#{tecnologiaCrear.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron tecnologías">
                                <p:column headerText="Tipo">
                                    <h:outputText value="#{tecnologiaCrear.obtenerTipoTecnologia()}" />
                                </p:column>
                                <p:column headerText="Código">
                                    <h:outputText value="#{tecnologiaCrear.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{tecnologiaCrear.maTecnologiasValor}" />
                                </p:column>
                                <p:column headerText="Tipo Auditor">
                                    <p:selectOneMenu id="tecnologiaTipoCrear" label="Tipo" value="#{tecnologiaCrear.maeTipoAuditorId}" style="width:80%;" required="true" requiredMessage="El tipo auditor: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaTipoAuditor}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>                                      
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Seguimiento">
                                    <p:selectBooleanCheckbox id="aplicaSeguimientoCrear" label="Aplica" value="#{tecnologiaCrear.aplicaSeguimiento}"/>
                                </p:column>
                                <p:column headerText="Tipo Seguimiento">
                                    <p:selectOneMenu id="tecnologiaTipSegCrear" label="Tipo" value="#{tecnologiaCrear.maeSeguimientoServicioId}" style="width:80%;" required="#{tecnologiaCrear.aplicaSeguimiento}" requiredMessage="El tipo seguimiento: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaSeguimientoServicio}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>                                      
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarTecnologia(tecnologiaCrear.maTecnologiaId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Programa -->
                        <p:panel id="pProgramasCrear" header="Programas" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div id="botonesProgramasCrear" align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarProgramas()}" icon="ui-icon-clipboard" title="Agregar Programa"/>
                            </div>
                            <p:dataTable id="tablaProgramasCrear" widgetVar="tablaProgramasCrear" var="programaCrear" value="#{grupoBean.lazyGrupoProgramas}" rowKey="#{programaCrear.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron programas">
                                <p:column headerText="Código">
                                    <h:outputText value="#{programaCrear.peProgramaId.codigoPrograma}" />
                                </p:column>
                                <p:column headerText="Descripción">
                                    <h:outputText value="#{programaCrear.peProgramaId.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarPrograma(programaCrear.peProgramaId.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!--Acciones-->
                        <p:panelGrid id="panelAccionesCrear" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Guardar" type="button" onclick="guardarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarRemote" action ="#{grupoBean.guardar}" update="frmCrearGrupo"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearGrupo').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                        </p:confirmDialog>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Editar -->
            <p:dialog header="Editar" widgetVar="dialogoEditarGrupo" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{grupoBean.getAuditoria(grupoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarGrupo">
                        <!-- Informacion Grupo -->
                        <p:panel id="pGrupoEditar" header="Datos Grupo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelGrupoEditar" style="width:100%;margin:10px 0px"
                                         columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" for="nombreGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputText id="nombreGrupoEditar" label="Nombre" value="#{grupoBean.objeto.nombre}" maxlength="64" required="true" requiredMessage="Nombre : Este campo es obligatorio" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="descripcionGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="descripcionGrupoEditar" label="Descripción" value="#{grupoBean.objeto.descripcion}" cols="150" rows="4" maxlength="512" required="true" requiredMessage="Descripción : Este campo es obligatorio" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Orden" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.orden}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Activo" for="activoGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="activoGrupoEditar" label="Activo" value="#{grupoBean.objeto.activo}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Ámbito" for="ambitoGrupoEditar" style="font-weight:bold"/>                                    
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="ambitoGrupoEditar" label="Ámbito" value="#{grupoBean.objeto.maeAmbitoId}" required="true" requiredMessage="Ámbito: Este campo es obligatorio." style="width:125px;">                                    
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                        <f:selectItems value="#{grupoBean.listaAmbitos}" var="tipAmb" itemValue="#{tipAmb.id}" itemLabel="#{tipAmb.nombre}" itemDescription="#{tipAmb.descripcion}"/>
                                        <p:ajax event="change" listener="#{grupoBean.llenarAmbitoGrupo()}" update="ambitoGrupoEditar" />
                                    </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tutela" for="tutelaGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="tutelaGrupoEditar" label="Tutela" value="#{grupoBean.objeto.tutela}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoTutela()}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" for="pbsGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="pbsGrupoEditar" label="PBS" value="#{grupoBean.objeto.pbs}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoPbs()}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tecnologia" for="tecnologiaGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="tecnologiaGrupoEditar" label="Tecnología" value="#{grupoBean.objeto.esTecnologia}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaEditar" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Medicamento" for="medicamentoGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="medicamentoGrupoEditar" label="Medicamento" value="#{grupoBean.objeto.esMedicamento}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaEditar" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Insumo" for="insumoGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="insumoGrupoEditar" label="Insumo" value="#{grupoBean.objeto.esInsumo}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaEditar" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paquete" for="paqueteGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="paqueteGrupoEditar" label="Paquete" value="#{grupoBean.objeto.esPaquete}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" >
                                            <p:ajax update="pTecnologiaEditar" />
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solo Grupo" for="soloGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="soloGrupoEditar" label="Solo Grupo" value="#{grupoBean.objeto.soloGrupo}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Generico" for="genericoGrupoEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="genericoGrupoEditar" label="Generico" value="#{grupoBean.objeto.generico}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" disabled="#{grupoBean.validarGrupoGenerico()}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Seguimiento" for="aplicaSegEditar" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="aplicaSegEditar" label="Aplica Seguimiento" value="#{grupoBean.objeto.aplicaSeguimiento}" style="width: 59px" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Auditores -->
                        <p:panel id="pAuditorEditar" header="Auditores" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarAuditores()}" icon="ui-icon-person" title="Agregar Auditor"/>
                            </div>
                            <p:dataTable id="tablaAuditoresEditar" widgetVar="tablaAuditoresEditar" var="auditorEditar" value="#{grupoBean.lazyGrupoUsuario}" rowKey="#{auditorEditar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron auditores">
                                <p:column headerText="Nombre" filterBy="#{auditorEditar.usuario.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaAuditoresEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{auditorEditar.usuario.nombre}" />
                                </p:column>
                                <p:column headerText="Activo">
                                    <p:selectBooleanCheckbox id="activoAuditorEditar" label="Activo" value="#{auditorEditar.activo}" >
                                        <p:ajax event="change" listener="#{grupoBean.actualizarAuditor(auditorEditar)}" />
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Tipo">
                                    <p:selectOneMenu id="tipoAuditorEditar" label="Tipo" value="#{auditorEditar.maeTipoAuditorId}" style="width:80%;" required="true" requiredMessage="El tipo: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaTipoAuditor}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>  
                                        <p:ajax event="itemSelect" update="@this" listener="#{grupoBean.actualizarAuditor(auditorEditar)}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarAuditor(auditorEditar)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <!-- Regiones -->
                        <p:panel id="pRegionEditar" header="Regiones" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelRegionEditar" style="width:100%;margin:10px 0px"
                                         columns="4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Región" for="regionGrupoEditar"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                            <p:selectOneMenu id="regionGrupoEditar" label="Región" value="#{grupoBean.objeto.idRegion}" style="width:22%;">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaRegiones}" var="region" itemValue="#{region.id}" itemLabel="#{region.nombre}" itemDescription="#{region.descripcion}"/>
                                        </p:selectOneMenu>
                                        <p:commandButton title="Agregar Región" actionListener="#{grupoBean.agregarRegion()}" icon="ui-icon-plusthick" style="width: 32px"/>
                                    </p:column>
                                </p:row>
                                
                               
                            </p:panelGrid>
                            <p:dataTable id="tablaRegionEditar" var="regionEditar" value="#{grupoBean.objeto.auGrupoRegionList}" widgetVar="tablaRegionEditar" resizableColumns="true" emptyMessage="No se encontraron registros" style="text-align: center" >
                                <p:column headerText="Región">
                                    <h:outputText value="#{regionEditar.maeRegionValor}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarRegion(regionEditar.maeRegionId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Sedes -->
                        <p:panel id="pSedeEditar" header="Sedes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarSedes()}" icon="ui-icon-home" title="Agregar IPS"/>
                            </div>
                            <p:dataTable id="tablaSedesEditar" widgetVar="tablaSedesEditar" var="sedeEditar" value="#{grupoBean.lazyGrupoSede}" rowKey="#{sedeEditar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron sedes">
                                <p:column headerText="Prestador" filterBy="#{sedeEditar.cntPrestadoresId.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Prestador" maxlength="64" style="width: 80%;" onchange="PF('tablaSedesEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{sedeEditar.cntPrestadoresId.razonSocial}" />
                                </p:column>
                                <p:column headerText="Sede" filterBy="#{sedeEditar.cntPrestadorSede.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Sede" maxlength="64" style="width: 80%;" onchange="PF('tablaSedesEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{sedeEditar.cntPrestadorSede.nombreSede}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarSede(sedeEditar.cntPrestadorSede.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Diagnósticos -->
                        <p:panel id="pDiagnosticoEditar" header="Diagnósticos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Agregar Diagnóstico"/>
                            </div>
                            <p:dataTable id="tablaDiagnosticoEditar" widgetVar="tablaDiagnosticoEditar" var="diagnosticoEditar" value="#{grupoBean.lazyGrupoDiagnosticos}" rowKey="#{diagnosticoEditar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron diagnóstico">
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagnosticoEditar.maDiagnosticoCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagnosticoEditar.maDiagnosticoValor}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarDiagnostico(diagnosticoEditar.maDiagnosticoId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Tecnología -->
                        <p:panel id="pTecnologiaEditar" header="Tecnologías" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton rendered="#{grupoBean.objeto.esTecnologia}" immediate="true" action="#{grupoBean.consultarProcedimiento()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esMedicamento}" immediate="true" action="#{grupoBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esInsumo}" immediate="true" action="#{grupoBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                <p:commandButton rendered="#{grupoBean.objeto.esPaquete}" immediate="true" action="#{grupoBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                            </div>
                            <p:dataTable id="tablaTecnologiaEditar" widgetVar="tablaTecnologiaEditar" var="tecnologiaEditar" value="#{grupoBean.lazyGrupoTecnologia}" rowKey="#{tecnologiaEditar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron tecnologías">
                                <p:column headerText="Tipo" filterBy="#{tecnologiaEditar.tipoTecnologia}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTecnologiaEditar').filter()" style="width: 88%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaTipoTecnologia}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaEditar.obtenerTipoTecnologia()}" />
                                </p:column>
                                <p:column headerText="Código" filterBy="#{tecnologiaEditar.maTecnologiaCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="64" style="width: 80%;" onchange="PF('tablaTecnologiaEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaEditar.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre" filterBy="#{tecnologiaEditar.maTecnologiasValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaTecnologiaEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{tecnologiaEditar.maTecnologiasValor}" />
                                </p:column>
                                <p:column headerText="Tipo Auditor">
                                    <p:selectOneMenu id="tecnologiaTipoEditar" label="Tipo" value="#{tecnologiaEditar.maeTipoAuditorId}" style="width:80%;" required="true" requiredMessage="El tipo auditor: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaTipoAuditor}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>  
                                        <p:ajax event="itemSelect" listener="#{grupoBean.actualizarTecnologia(tecnologiaEditar)}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Seguimiento">
                                    <p:selectBooleanCheckbox id="aplicaSeguimientoEditar" label="Aplica" value="#{tecnologiaEditar.aplicaSeguimiento}">
                                        <p:ajax event="change" update="@this" listener="#{grupoBean.actualizarTecnologia(tecnologiaEditar)}" />
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Tipo Seguimiento">
                                    <p:selectOneMenu id="tecnologiaTipSegEditar" label="Tipo" value="#{tecnologiaEditar.maeSeguimientoServicioId}" style="width:80%;" required="#{tecnologiaEditar.aplicaSeguimiento}" requiredMessage="El tipo seguimiento: este campo es obligatorio">
                                        <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{grupoBean.listaSeguimientoServicio}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.nombre}"/>                                      
                                        <p:ajax event="itemSelect" update="@this" listener="#{grupoBean.actualizarTecnologia(tecnologiaEditar)}" />
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarTecnologia(tecnologiaEditar.maTecnologiaId)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!-- Programa -->
                        <p:panel id="pProgramasEditar" header="Programas" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div id="botonesProgramasEditar" align="right"> 
                                <p:commandButton immediate="true" action="#{grupoBean.consultarProgramas()}" icon="ui-icon-clipboard" title="Agregar Programa"/>
                            </div>
                            <p:dataTable id="tablaProgramasEditar" widgetVar="tablaProgramasEditar" var="programaEditar" value="#{grupoBean.lazyGrupoProgramas}" rowKey="#{programaEditar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron programas">
                                <p:column headerText="Código" filterBy="#{programaEditar.peProgramaId.codigoPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="64" style="width: 80%;" onchange="PF('tablaProgramasEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{programaEditar.peProgramaId.codigoPrograma}" />
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{programaEditar.peProgramaId.descripcionPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="64" style="width: 80%;" onchange="PF('tablaProgramasEditar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{programaEditar.peProgramaId.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton title="Borrar" immediate="true" action="#{grupoBean.borrarPrograma(programaEditar.peProgramaId.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <!--Acciones-->
                        <p:panelGrid id="panelEditar" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Modificar" type="button" onclick="modificarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="modificarRemote" action ="#{grupoBean.modificar}" update="frmEditarGrupo"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarGrupo').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                        </p:confirmDialog>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Lista Auditores -->
            <p:dialog header="Consultar Auditores" widgetVar="dialogoAuditoresLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="PF('tablaWidgetAuditoria').filter()">
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmAuditorLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{grupoBean.refrescarAuditores()}" oncomplete="PF('tablaWidgetAuditoria').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelAuditorLista" columns="1" style="height: auto">
                            <p:dataTable id="tablaRegistrosAuditor" widgetVar="tablaWidgetAuditoria" var="usuario" value="#{grupoBean.lazyUsuarios}" rowKey="#{usuario.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{grupoBean.onRowSelectAuditor}" />
                                <p:column headerText="Nombre" sortBy="#{usuario.nombre}" filterBy="#{usuario.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAuditoria').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{usuario.nombre}"/>
                                </p:column>
                                <p:column headerText="Usuario" sortBy="#{usuario.usuario}" filterBy="#{usuario.usuario}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAuditoria').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{usuario.usuario}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panelGrid>                       
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Lista Sedes -->
            <p:dialog header="Consultar Ips" widgetVar="dialogoIpsLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="PF('tablaWidgetIps').filter()">
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmIpsLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{grupoBean.refrescarSedes()}" oncomplete="PF('tablaWidgetIps').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelIpsLista" style="height:auto;" columns="6"
                                     columnClasses="ui-grid-col-12"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid">
                            <p:dataTable id="tablaRegistrosIps" widgetVar="tablaWidgetIps" var="objPrestador" value="#{grupoBean.lazySedes}" rowKey="#{objPrestador.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{grupoBean.onRowSelectSede}"/>
                                <p:column headerText="Código Habilitación" filterBy="#{objPrestador.codigoHabilitacionSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Habilitacion" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Tipo Documento" filterBy="#{objPrestador.cntPrestador.maeTipoDocumentoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetIps').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaTipoDocumento}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{grupoBean.obtenerTipoDocumentoIps(objPrestador.cntPrestador.maeTipoDocumentoId)}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" filterBy="#{objPrestador.cntPrestador.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Razón Social" filterBy="#{objPrestador.cntPrestador.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.cntPrestador.razonSocial}"/>
                                </p:column>                                    
                                <p:column headerText="Nombre Sede" filterBy="#{objPrestador.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Departamento">
                                    <h:outputText value="#{grupoBean.obtenerDepartamento(objPrestador.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Municipio" filterBy="#{objPrestador.ubicacion.id}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetIps').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{grupoBean.listaCiudades}" var="tipoUbi" itemValue="#{tipoUbi.id}" itemLabel="#{tipoUbi.descripcion}" itemDescription="#{tipoUbi.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{grupoBean.obtenerMunicipio(objPrestador.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Dirección">
                                    <f:facet name="filter">
                                        <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.direccion}"/>
                                </p:column>
                            </p:dataTable>

                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Lista Programas -->
            <p:dialog header="Consultar Programas" widgetVar="dialogoProgramasLista" appendTo="@(body)" modal="true" style="max-width: 90%;height: auto;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmProgramasLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{grupoBean.refrescarProgramas()}" oncomplete="PF('tablaWidgetProgramas').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelProgramasLista" style="height:auto;" columns="4"
                                     columnClasses="ui-grid-col-12"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid">
                            <p:dataTable id="tablaRegistrosProgramas" widgetVar="tablaWidgetProgramas" var="objPrograma" value="#{grupoBean.lazyProgramas}" rowKey="#{objPrograma.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{grupoBean.onRowSelectPrograma}"/>
                                <p:column headerText="Código" filterBy="#{objPrograma.codigoPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetProgramas').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrograma.codigoPrograma}"/>
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{objPrograma.descripcionPrograma}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetProgramas').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrograma.descripcionPrograma}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- Reasignar -->
            <p:dialog header="Reasignar" widgetVar="dialogoReasignarGrupo" appendTo="@(body)" modal="true"  width="90%" dynamic="true" class="modal-no-scroll">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{grupoBean.getAuditoria(grupoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmReasignarGrupo">
                        <!-- Informacion Grupo -->
                        <p:panel id="pGrupoReasignar" header="Datos Grupo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelGrupoReasignar" style="width:100%;margin:10px 0px"
                                         columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" />
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputText label="Nombre" value="#{grupoBean.objeto.nombre}" readonly="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea label="Descripción" value="#{grupoBean.objeto.descripcion}" cols="150" rows="4" maxlength="512" readonly="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Orden"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.orden}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Activo" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerActivo()}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Ámbito"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{grupoBean.objeto.maeAmbitoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tutela"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerNombreTutela()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerNombrePbs()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Tecnología"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsTecnologia()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Medicamento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsMedicamento()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Insumo"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsInsumo()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Paquete"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerEsPaquete()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Solo Grupo"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{grupoBean.objeto.obtenerSoloGrupo()}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Auditores -->
                        <p:panel id="pAuditorReasignar" header="Auditores" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaAuditoresGestionar" widgetVar="tablaAuditoresGestionar" var="auditorGestionar" value="#{grupoBean.lazyGrupoUsuario}" rowKey="#{auditorGestionar.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron auditores" selection="#{grupoBean.objeto.auditor}" >
                                <p:column selectionMode="single" style="width:16px;text-align:center"/>
                                <p:column headerText="Nombre" filterBy="#{auditorGestionar.usuario.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="64" style="width: 80%;" onchange="PF('tablaAuditoresGestionar').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{auditorGestionar.usuario.nombre}" />
                                </p:column>
                                <p:column headerText="Activo">
                                    <h:outputText value="#{auditorGestionar.getActivoStr()}"/>
                                </p:column>
                                <p:column headerText="Tipo">
                                    <h:outputText value="#{auditorGestionar.getTipoStr()}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <!-- Casos -->
                        <p:panel id="pItemsReginar" header="Solicitudes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaRegistrosCasos" widgetVar="tablaWidgetCasos" var="objCaso" value="#{grupoBean.lazyCasos}" rowKey="#{objCaso.id}"
                                         rows="#{grupoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100,500" 
                                         emptyMessage= "No se encontraron registros" selection="#{grupoBean.listaSeleccionCasos}">
                                <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                                <p:column headerText="Solicitud" filterBy="#{objCaso.auAnexo3Id.id}" style="text-align:center">
                                    <f:facet name="filter">
                                        <p:inputText label="Solicitud" maxlength="64" style="width: 95%;" onchange="PF('tablaWidgetCasos').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objCaso.auAnexo3Id.id}"/>
                                </p:column>
                                <p:column headerText="Código Tecnología" filterBy="#{objCaso.maTecnologiaCodigo}" style="text-align:center">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Tecnología" maxlength="64" style="width: 95%;" onchange="PF('tablaWidgetCasos').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objCaso.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre" filterBy="#{objCaso.maTecnologiaValor}" style="text-align:center">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetCasos').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objCaso.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Prioritario" style="text-align:center">
                                    <h:outputText value="#{objCaso.auAnexo3Id.getPrioritarioStr()}"/>
                                </p:column>
                                <p:column headerText="Responsable" style="text-align:center" filterBy="#{objCaso.gnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Responsable" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetCasos').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objCaso.gnUsuarioId.nombre}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid id="panelReasignar" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                        
                                        <p:commandButton value="Reasignar" type="button" onclick="reasignarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="reasignarRemote" action ="#{grupoBean.reasignar}" update="panelReasignar"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoReasignarGrupo').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--Includes-->
            <ui:include src="../maestro/seleccion/sel_diagnosticos.xhtml" />
            <ui:include src="../maestro/seleccion/sel_medicamentos.xhtml" />
            <ui:include src="../maestro/seleccion/sel_insumos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_paquetes.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_tecnologias.xhtml" />
        </center>
    </ui:define>
</ui:composition>
