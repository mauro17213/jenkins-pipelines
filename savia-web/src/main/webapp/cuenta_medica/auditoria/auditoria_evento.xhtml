<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR"> 
        <style type="text/css">
            .old {
                background-color: #fca752 !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .yellow{
                background-color: #ffff00 !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .green{
                background-color: #009900 !important;
                background-image: none !important;
                color: #ffffff !important;
            }
            .red{
                background-color: #ff0000 !important;
                background-image: none !important;
                color: #ffffff !important;
            }
            .red  .ui-row-editor, .green .ui-row-editor{
                display: none;
            }

            .red_text{color: #ff0000; font-weight:bold;}
            .claseMunicipio .ui-autocomplete-input
            {
                overflow: auto !important;
                width: 200% !important;
                height: 20px !important;
            }

            .ui-selectonemenu-filter-container .ui-icon.ui-icon-search{       
                right:20px !important;
            }

            .vd-hidden-column {
                display: none;
                width: 0;
                height: 0;
            }   

            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }
            #TabAuditoria .ui-tabs-nav{
                background:#cecece;
            }

            #TabAuditoria li.ui-state-active {
                background: white !important;
            }
            #TabAuditoria li.ui-state-active a {
                font-weight:bold;
            }

            #TabAuditoria  li a{
                color: black !important; 
            }

            #TabAuditoria li{
                background-image : -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#e6e6e6)) !important;
            }

            .btnObjeciones, .btnObjeciones:focus-visible{
                background: #279be9 !important;
                color: #ffffff !important;
                text-shadow: none !important;
                border-color: transparent !important;
            }

            .btnObjeciones.ui-state-hover{
                border-color: white !important;
            }

            .btnObjeciones .ui-icon{   
                top: 65% !important;
            }  
            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }
            button.boton_indicador{
                 -moz-border-radius: 100% !important ; 
                 -webkit-border-radius: 100% !important;
                 border-radius: 100% !important;
                 width: 14px;
                 height: 14px;
            }
            button.boton_indicador.ui-state-focus{
                border:none !important;
                outline: none !important;
            }
            .rojoMarcado{
                color:red;font-weight:bold;
                font-size: 14px;
            }
            .clase_logitud input{
                width: 90%;
            }
            .ui-selectbooleanbutton.ui-state-active{
                background: #0d89ec;
                border-color: #0d89ec;
                color: #fff; 
            }
            .btn-ancho, .btn-ancho span{
                padding-top: 3px;
            }
            .ui-button.ui-state-disabled {
                    pointer-events: auto !important;
            }
            
            .bnt-badge-soporte{
                background-color: #04997C;
                color: white;
                top: 10px !important;
            }
        </style>
        <center>
            <h:form id="frmAuditoriaEvento" style="width: 100%">
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{cmAuditoriaFacturaBean.cerrarDialogoDiagnostico()}"/>
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{cmAuditoriaFacturaBean.modulo.descripcion}">#{cmAuditoriaFacturaBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton title="Refrescar" ajax="false" actionListener="#{cmAuditoriaFacturaBean.refrescar()}" icon="ui-icon-refresh"/>
                        
                       <h:commandLink title="Descarga excel auditoría">
                                <p:commandButton title="Descargar excel auditoría" icon="ui-icon-arrowthickstop-1-s" ajax="false" />
                                <p:dataExporter type="csv" target="frmConsultaAuditoriaEvento:tablaFacturasAuditar" fileName="conexiones_auditoria-cuentas-medicas" encoding="ISO-8859-1" pageOnly="true" />
                       </h:commandLink>
                    </f:facet>
                </p:toolbar>        
            </h:form>

            <p:panel id="panelConsultaConcilicionMasivaConciliacion" header="Auditoría" style="margin-bottom:10px;">
                <h:form id="frmConsultaAuditoriaEvento">
                    <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyCmAuditoriaFactuar}" paginator="true" rows="30" 
                                 emptyMessage="No se encontraron registros, por favor verifique que este existan facturas a auditar o este registrado en grupos de auditoría"
                                 currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="15,30,50,100" id="tablaFacturasAuditar" lazy="true"
                                 widgetVar="tablaWidget"
                                 scrollable="true"
                                 scrollWidth="150%"
                                 style="font-size:11px;"
                                 rowKey="#{obj.id}" reflow="true">

                        <p:column style="text-align: center;" exportable="false">
                            <f:facet name="header">
                                <h:outputText value="Acciones"/>
                            </f:facet>    
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionVer}" title="Ver Factura" actionListener="#{cmAuditoriaFacturaBean.verFactura(obj.id)}" icon="ui-icon-search" class="btn-ancho"/>
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional1 and cmAuditoriaFacturaBean.verificarEsAuditable(obj)}" title="Gestionar"   actionListener="#{cmAuditoriaFacturaBean.verGestionarFactura(obj.id)}" icon="ui-icon-script" class="btn-ancho"/>
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional2 and cmAuditoriaFacturaBean.verificarEsAuditable(obj)}" title="Devolución Factura"  actionListener="#{cmAuditoriaFacturaBean.verDevolucionFactura(obj.id)}" icon="ui-icon-arrowreturnthick-1-w" class="btn-ancho"/>
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional9 and cmAuditoriaFacturaBean.verificarEsReintentable(obj)}" title="Ver Transacciones" actionListener="#{cmAuditoriaFacturaBean.verTransacciones(obj)}" icon="ui-icon-calendar" class="btn-ancho"/>
                            <p:commandButton title="Revertir Factura" rendered="#{cmAuditoriaFacturaBean.accionAdicional10 and cmAuditoriaFacturaBean.verificarEsRevertibleFactura(obj) }" actionListener="#{cmAuditoriaFacturaBean.guardarReversionFactura(obj)}" icon="ui-icon-transferthick-e-w" class="btn-ancho">
                                <p:confirm header="Confirmación" message="Está seguro que desea revertir la factura?" icon="ui-icon-alert" />
                            </p:commandButton>                            
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional11 and cmAuditoriaFacturaBean.validarEsFacturaMarcableGlosaIps(obj) }" title="#{obj.respuestaIps ? ' Desmarcar Glosa Ips':'Marcar Glosa Ips' }"  actionListener="#{cmAuditoriaFacturaBean.guardarMarcadoGlosaIps(obj)}" icon="#{obj.respuestaIps ?'ui-icon-locked':'ui-icon-key'}" class="btn-ancho"/>                           
                            <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionVer and obj.tieneNotas}" title="Ver Notas" actionListener="#{cmAuditoriaFacturaBean.verNota(obj)}" icon="ui-icon-copy" class="btn-ancho"/>
                            <p:badge id="cantidadPendientes" value="#{obj.cmFeRipsCarga.soportesNumero}" class="bnt-badge-soporte">
                                <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionVer}" id="btnVerSoporte" title="Número Soportes: #{obj.cmFeRipsCarga.soportesNumero}" icon="pi pi-file-pdf" disabled="#{obj.cmFeRipsCarga.soportesNumero == 0}" actionListener="#{cmAuditoriaFacturaBean.verSoportes(obj.cmFeRipsCarga.id)}" class="btn-ancho"/>
                            </p:badge>
                        </p:column>

                        <p:column headerText="Grupo" sortBy="#{obj.cmGrupo.id}" style="text-align: center;" width="30px;">          
                            <h:outputText value="#{obj.cmGrupo.id}"/>
                        </p:column>

                        <p:column headerText="Estado factura" sortBy="#{obj.estadoFactura}" filterBy="#{obj.estadoFactura}"
                                  exportable="false">          
                            <f:facet name="filter">
                                <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidget').filter()">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Radicado" itemValue="0"/>
                                    <f:selectItem itemLabel="Radicado - Espera SAP (M1)" itemValue="10"/>
                                    <f:selectItem itemLabel="En Auditoría" itemValue="1"/>
                                    <f:selectItem itemLabel="Auditada-Glosada" itemValue="2" />
                                    <f:selectItem itemLabel="Devuelta" itemValue="5" />
                                    <f:selectItem itemLabel="Devuelta - Espera SAP (DEV)" itemValue="6" />
                                    <f:selectItem itemLabel="Auditada - Espera SAP (M2)" itemValue="7" />
                                    <f:selectItem itemLabel="Auditada" itemValue="9" />
                                </p:selectOneMenu>
                            </f:facet>     
                            <h:outputText value="#{obj.estadoFacturaStr}" title="#{obj.estadoFacturaStr}"/>
                            <div style="#{cmAuditoriaFacturaBean.asignarIndicadorVisualEstadoFactura(obj.estadoFactura)}" ></div>
                        </p:column>

                        <p:column headerText="Estado factura" sortBy="#{obj.estadoFactura}" styleClass="vd-hidden-column">
                            <h:outputText value="#{obj.estadoFacturaStr}" title="#{obj.estadoFacturaStr}"/>
                        </p:column>  

                        <p:column headerText="Modalidad contrato" sortBy="#{obj.maeTipoContratoCodigo}" filterBy="#{obj.maeTipoContratoCodigo}">          
                            <f:facet name="filter">
                                <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidget').filter()">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Capita" itemValue="01"/>
                                    <f:selectItem itemLabel="Covid" itemValue="05"/>
                                    <f:selectItem itemLabel="Evento" itemValue="02" />
                                    <f:selectItem itemLabel="Pago Global Prospectivo" itemValue="03" />
                                    <f:selectItem itemLabel="Paquetes" itemValue="04" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{obj.maeTipoContratoValor}"/>
                        </p:column>

                        <p:column headerText="Número radicado" sortBy="#{obj.numeroRadicado}" filterBy="#{obj.numeroRadicado}" style="text-align: center;">
                            <f:facet name="filter">
                                <p:inputNumber label="Número radicado" maxlength="64" styleClass="clase_logitud" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" converterMessage="Ingrese solo numeros" decimalPlaces="0" thousandSeparator=""/>
                            </f:facet>
                            <h:outputText value="#{obj.numeroRadicado}" title="#{obj.numeroRadicado}"/>
                        </p:column>

                        <p:column headerText="Nit" sortBy="#{obj.nit}" filterBy="#{obj.nit}">
                            <f:facet name="filter">
                                <p:inputText label="Nit" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.nit}" title="#{obj.nit}"/>
                        </p:column>

                        <p:column headerText="IPS" sortBy="#{obj.ips}" filterBy="#{obj.ips}">
                            <f:facet name="filter">
                                <p:inputText label="IPS" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.ips}" title="#{obj.ips}"/>
                        </p:column>

                        <p:column headerText="Número facturado" sortBy="#{obj.numeroFacturado}" filterBy="#{obj.numeroFacturado}">
                            <f:facet name="filter">
                                <p:inputText label="Número facturado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.numeroFacturado}" title="#{obj.numeroFacturado}"/>
                        </p:column>

                        <p:column headerText="Fecha radicación" sortBy="#{obj.fechaRadicacion}">                        
                            <h:outputText value="#{obj.fechaRadicacion}" title="#{obj.fechaRadicacion}"/>
                            <p:commandButton type="button" id="animate"  icon="pi" class="boton_indicador" rendered="#{obj.estadoFactura==0}" style="background: #{cmAuditoriaFacturaBean.asignarColorDiasRadicacion(obj)}; display:block;}"/>
                            <p:tooltip for="animate" value="#{obj.numeroDiasPasados}" showEffect="clip" hideEffect="fold" />
                        </p:column>
                        
                        <p:column headerText="Versión" sortBy="#{obj.version}" filterBy="#{obj.version}"
                                  exportable="false" style="text-align: center;">          
                            <f:facet name="filter">
                                <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidget').filter()">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="3047" itemValue="0"/>
                                    <f:selectItem itemLabel="2284" itemValue="1"/>
                                </p:selectOneMenu>
                            </f:facet>     
                                  <h:outputText value="#{obj.versionStr}" title="#{obj.versionStr}"/>
                        </p:column>

                        <p:column headerText="Usuario gestiona" sortBy="#{obj.usuarioGestiona.nombre}">                        
                            <h:outputText value="#{obj.usuarioGestiona.nombre}" title="#{obj.usuarioGestiona.nombre}"/>
                        </p:column>

                        <p:column headerText="Valor factura" sortBy="#{obj.valorFactura}" filterBy="#{obj.valorFactura}" style="width: 80px;">    
                            <f:facet name="filter">
                                <p:inputText label="Valor factura" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.valorFactura}" title="#{obj.valorFactura}">
                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                            </h:outputText>
                        </p:column> 

                        <p:column headerText="Valor glosa inicial" sortBy="#{obj.valorInicialGlosa}" filterBy="#{obj.valorInicialGlosa}" style="width: 80px;">    
                            <f:facet name="filter">
                                <p:inputText label="Valor glosa inicial" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.valorInicialGlosa}" title="#{obj.valorInicialGlosa}">
                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                            </h:outputText>
                        </p:column> 

                        <p:column headerText="Valor copago" sortBy="#{obj.valorCopago}" filterBy="#{obj.valorCopago}" style="width: 80px;">    
                            <f:facet name="filter">
                                <p:inputText label="Valor copago" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.valorCopago}" title="#{obj.valorCopago}">
                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                            </h:outputText>
                        </p:column> 

                        <p:column headerText="Valor pendiente actual" sortBy="#{obj.valorPendienteActual}" filterBy="#{obj.valorPendienteActual}" style="width: 80px;">    
                            <f:facet name="filter">
                                <p:inputText label="Valor pendiente actual" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }"  onchange="PF('tablaWidget').filter()" />
                            </f:facet>
                            <h:outputText value="#{obj.valorPendienteActual}" title="#{obj.valorPendienteActual}">
                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                            </h:outputText>
                        </p:column> 

                        <p:column headerText="Fecha Asignación Técnico " style="width: 80px;">    
                            <h:outputText value="#{obj.fechaAsignacionTecnico}"/>
                        </p:column> 

                        <p:column headerText="Fecha Asignación Médico " style="width: 80px;">    
                            <h:outputText value="#{obj.fechaAsignacionMedico}"/>
                        </p:column> 

                        <p:column  headerText="Fecha Auditoría" >
                            <h:outputText value="#{obj.fechaHoraAudita}"/>
                        </p:column>                   

                        <p:column headerText="Origen" style="width: 80px;" filterBy="#{obj.origenFactura}">
                            <f:facet name="filter">
                                <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidget').filter()">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="IntraSavia" itemValue="1" />
                                    <f:selectItem itemLabel="SomosMas" itemValue="2" />
                                    <f:selectItem itemLabel="Conexiones" itemValue="3" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{obj.origenFacturaStr}" title="#{obj.origenFacturaStr}"/>
                        </p:column>

                        <p:column headerText="Respuesta Ips" style="text-align: center;width: 80px;" filterBy="#{obj.respuestaIps}">
                            <f:facet name="filter">
                                <p:selectOneMenu onchange="PF('tablaWidget').filter()">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Si" itemValue="1" />
                                    <f:selectItem itemLabel="No" itemValue="0" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{obj.respuestaIpsStr}" title="#{obj.respuestaIpsStr}"/>
                        </p:column>                           
                    </p:dataTable>
                </h:form>
            </p:panel>
     
            <p:dialog widgetVar="dialogoVer" header="Ver Factura" appendTo="@(body)" responsive="true" modal="true" width="100%">
                <p:scrollPanel  id="scrollPanelVer" mode="native" style="height:500px">
                    <h:form id="frmVer">
                        <p:panel id="panelVerFactura" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid">
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado factura"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>
                                                         
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Modalidad contrato"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>
                                                              
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                         <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número contrato"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Origen"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.origenFacturaStr}"/>
                                    </p:column>
                                </p:row>
                                                             
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>
                                
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelVer" header="Servicios"  style="margin-bottom:10px; width: 150%;" collapsed="false" toggleable="true">
                            <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyCmAuditoriaDetalles}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100,500,1000" id="tablaDetalles" lazy="true"
                                         widgetVar="tablaWidgetDetalles"
                                         style="font-size:11px;"
                                         rowKey="#{obj.id}" >

                                <p:column style="text-align: center;">                                 
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>    
                                    <p:commandButton  title="Ver Configuraciones" actionListener="#{cmAuditoriaFacturaBean.verServicioAuditado(obj.id)}" icon="ui-icon-search"/> 
                                </p:column>

                                <p:column  headerText="Id Detalle" sortBy="#{obj.id}" filterBy="#{obj.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre servicio" maxlength="11" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.id}" title="#{obj.id}"/>
                                </p:column>
                                <p:column  headerText="Estado" sortBy="#{obj.estado}">
                                    <h:outputText value="#{obj.estadoStr}" title="#{obj.estadoStr}"/>
                                </p:column>

                                <p:column  headerText="Tipo servicio" sortBy="#{obj.tipoServicio}" filterBy="#{obj.tipoServicio}"  style="width: 70px; text-align: center; ">
                                    <f:facet name="filter">
                                        <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidgetDetalles').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Medicamentos" itemValue="0" />
                                            <f:selectItem itemLabel="Procedimiento" itemValue="1" />
                                            <f:selectItem itemLabel="Insumos" itemValue="2" />
                                            <f:selectItem itemLabel="Consultas" itemValue="3" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.tipoServicioStr}" title="#{obj.tipoServicioStr}"/>
                                </p:column>

                                <p:column  headerText="Código servicio" sortBy="#{obj.maServicioCodigo}" filterBy="#{obj.maServicioCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Códigio servicio" maxlength="11" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.maServicioCodigo}" title="#{obj.maServicioCodigo}"/>
                                </p:column>
                                <p:column  headerText="Nombre servicio" sortBy="#{obj.maServicioValor}" style="width: 70px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre servicio" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.nombreServicioCorto}" title="#{obj.maServicioValor}"/>
                                    <p:commandButton rendered="#{obj.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.maServicioValor)}" icon="ui-icon-comment" title="#{obj.maServicioValor}"/> 
                                </p:column>
                                
                                <p:column  headerText="Código Mipres" style="width: 50px; text-align: center; ">
                                    <h:outputText value="#{obj.codigoMiPress}" title="#{obj.codigoMiPress}"/>
                                </p:column>
                                
                                <p:column  headerText="Regulado" style="width: 50px; text-align: center; ">
                                    <h:outputText value="#{obj.reguladoStr}" title="#{obj.reguladoStr}" class="#{obj.regulado ? 'rojoMarcado':''}"/>
                                </p:column>
                                
                                <p:column  headerText="Condicionado" style="width: 70px; text-align: center; ">
                                    <h:outputText value="#{obj.condicionadoStr}" title="#{obj.condicionadoStr}" class="#{obj.condicionado ? 'rojoMarcado':''}"/>
                                </p:column>                               

                                <p:column  headerText="Tipo documento" sortBy="#{obj.maeTipoDocumentoValor}">
                                    <h:outputText value="#{obj.maeTipoDocumentoValor}" title="#{obj.maeTipoDocumentoValor}"/>
                                </p:column>

                                <p:column  headerText="Documento afiliado" sortBy="#{obj.documento}" style="width: 70px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.documento}" title="#{obj.documento}"/>
                                </p:column>
                                <p:column  headerText="Nombre afiliado" sortBy="#{obj.nombreCompletoAfiliado}" style="width: 70px;">
                                    <h:outputText value="#{obj.nombreCompletoAfiliado}" title="#{obj.nombreCompletoAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Valor facturado" sortBy="#{obj.valorFacturado}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorFacturado}" title="#{obj.valorFacturado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor pendiente" sortBy="#{obj.valorPendiente}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorPendiente}" title="#{obj.valorPendiente}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor pagado" sortBy="#{obj.valorPagado}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorPagado}" title="#{obj.valorPagado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor copago" sortBy="#{obj.valorCopago}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorCopago}" title="#{obj.valorCopago}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Cantidad" >
                                    <h:outputText value="#{obj.cantidad}" title="#{obj.cantidad}"/>
                                </p:column>
                                <p:column  headerText="Valor unitario" sortBy="#{obj.valorUnitario}">
                                    <h:outputText value="#{obj.valorUnitario}" title="#{obj.valorUnitario}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Aplica AC" width="40" sortBy="#{obj.aplicaAc}">
                                    <h:outputText value="#{obj.aplicaAcStr}" title="#{obj.aplicaAcStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica DC" width="40" sortBy="#{obj.aplicaDc}">
                                    <h:outputText value="#{obj.aplicaDcStr}" title="#{obj.aplicaDcStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica PBS" width="30" sortBy="#{obj.aplicaPbs}" >
                                    <h:outputText value="#{obj.aplicaPbsStr}" title="#{obj.aplicaPbsStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica diagnóstico" width="40" sortBy="#{obj.aplicaDx}">
                                    <h:outputText value="#{obj.aplicaDxStr}" title="#{obj.aplicaDxStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica autorización" width="40" sortBy="#{obj.aplicaAutorizacion}">
                                    <h:outputText value="#{obj.aplicaAutorizacionStr}" title="#{obj.aplicaAutorizacionStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica concepto" width="40" sortBy="#{obj.aplicaConcepto}">
                                    <h:outputText value="#{obj.aplicaConceptoStr}" title="#{obj.aplicaConceptoStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica glosa" width="40" sortBy="#{obj.aplicaGlosa}">
                                    <h:outputText value="#{obj.aplicaGlosaStr}" title="#{obj.aplicaGlosaStr}"/>
                                </p:column>
                                <p:column  headerText="Valor glosa" style="width: 80px;">
                                    <h:outputText value="#{obj.valorGlosa}" title="#{obj.valorGlosa}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Fecha prestación" sortBy="#{obj.fechaPrestacion}">
                                    <h:outputText value="#{obj.fechaPrestacion}" title="#{obj.fechaPrestacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel id="panelVerDevoluciones" header="Información Devolución" style="margin-bottom:10px;" 
                                 collapsed="false" toggleable="true" rendered="#{cmAuditoriaFacturaBean.objeto.devuelta}">
                            <p:panelGrid id="panelInfoDevolucion" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Motivo devolución"  style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmAuditoriaDevolucion.maeMotivoDevolucionValor}"/>

                                <p:outputLabel value="Modalidad contrato "  style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmAuditoriaDevolucion.maeContratoModalidadValor}"/>

                                <p:outputLabel value="Observación"  style="font-weight:bold"/>
                                <p:inputTextarea style="width: 100%;  max-height: 60px;" value="#{cmAuditoriaFacturaBean.objeto.cmAuditoriaDevolucion.observacion}"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerAdjuntos" header="Adjuntos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaVerAdjuntos" var="adjunto" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAdjuto}" widgetVar="tablaWidgetAdjuntos" scrollable="true" emptyMessage="No se encontraron registros">
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton rendered="#{adjunto.id != null}" title="Descargar" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                                        <p:fileDownload value="#{cmAuditoriaFacturaBean.descargarAdjunto(adjunto)}" />
                                    </p:commandButton>  
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{adjunto.archivoNombre}"/>
                                </p:column>
                                <p:column headerText="Tipo" style="text-align: center;">
                                    <h:outputText value="#{adjunto.tipoStr}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{adjunto.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="F.H. Crea" style="text-align: center;">
                                    <h:outputText value="#{adjunto.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoGestionar" header="Gestionar Factura" appendTo="@(body)" responsive="true" modal="true" width="100%" class="modal-no-scroll" style="max-height:90%;">
                <p:ajax event="close" listener="#{cmAuditoriaFacturaBean.onCerrarVentanaGestionarFactura}"  form="frmGestionar"/>
                <p:scrollPanel id="scrollPanelGestionarFactura" mode="native" style="height:70vh">
                    <h:form id="frmGestionar">
                        <p:panel id="panelVerFactura" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid" >
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>
                                                                                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>
                                                              
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                             
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                   <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                         <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                                                           
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>
                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Origen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.origenFacturaStr}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs" style="font-weight:bold"></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                     <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión" style="font-weight:bold"></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText  value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>

                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid id="panelCantidadRespuesta" columns="1" style="width:100%;margin:10px" rendered="#{cmAuditoriaFacturaBean.validarFacturaCierreDirecto(cmAuditoriaFacturaBean.objeto)}">
                            <p:row>
                                <p:column style="color: #149bdf;">
                                    Nota : La factura de modalidad  <h:outputText value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/> 
                                    no requiere de gestión de sus items, puede proceder a realizar el cierre de la auditoría directamente.
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panel id="panelVer" header="Servicios" style="margin-bottom:10px; width: 170%;" collapsed="false" toggleable="true" >
                            <div align="left"> 
                                <p:commandButton process="@form" value="Gestión items seleccionados" title="Getión de items seleccionados" rendered="#{cmAuditoriaFacturaBean.accionAdicional6}" action="#{cmAuditoriaFacturaBean.verSeleccionOperacionMasiva(cmAuditoriaFacturaBean.objeto.id,0)}" icon="ui-icon-script"  style="margin-bottom: 10px;"/>
                                <p:commandButton process="@form" value="Gestión todos los items" title="Getión todos items " rendered="#{cmAuditoriaFacturaBean.accionAdicional6}" action="#{cmAuditoriaFacturaBean.verSeleccionOperacionMasiva(cmAuditoriaFacturaBean.objeto.id,1)}" icon="ui-icon-gear" style="margin-bottom: 10px;"/>
                            </div>  
                            <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyCmAuditoriaDetalles}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100,500,1000" id="tablaDetalles" lazy="true"
                                         widgetVar="tablaWidgetDetalles"
                                         selection="#{cmAuditoriaFacturaBean.registrosDetallesSeleccionadoMasivos}"
                                         scrollable="true"
                                         scrollWidth="100%"
                                         style="font-size:11px;"
                                         rowKey="#{obj.id}">
                                <p:ajax event="toggleSelect" listener="#{cmAuditoriaFacturaBean.OnCheckearTodosItemsPorPagina}" />
                                <p:ajax event="rowUnselectCheckbox" listener="#{cmAuditoriaFacturaBean.onDescheckearItem}" />
                                <p:ajax event="rowSelectCheckbox" listener="#{cmAuditoriaFacturaBean.onCheckearItem}"/>
                                <p:ajax event="rowSelect" listener="#{cmAuditoriaFacturaBean.onSeleccionarFilaMasiva}"  />
                                <p:ajax event="rowUnselect" listener="#{cmAuditoriaFacturaBean.onDesSeleccionarFilaMasiva}" /> 

                                <p:column width="20"  selectionMode="multiple" style="text-align: center;" rendered="#{cmAuditoriaFacturaBean.accionAdicional4}" exportable="false"/>
                                <p:column style="text-align: center;">                                 
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>                       
                                    <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional4}" title="Gestionar Item"   actionListener="#{cmAuditoriaFacturaBean.verGestionarItem(obj)}" icon="ui-icon-script"/>
                                    <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional5}" title="Gestionar Descuento Capita"  actionListener="#{cmAuditoriaFacturaBean.verDescuentoCapita(obj.id)}" icon="ui-icon-arrowreturnthick-1-w"/>
                                    <p:commandButton rendered="#{cmAuditoriaFacturaBean.accionAdicional3}" title="Ver Novedades"  actionListener="#{cmAuditoriaFacturaBean.verConfiguracionesGenerales(obj)}" icon="ui-icon-contact"/>
                                    <p:commandButton class="btnObjeciones" title="Ver Objeciones"  actionListener="#{cmAuditoriaFacturaBean.verObjecionesUsuario(obj)}" icon="pi pi-plus-circle"/>
                                </p:column>
                                <p:column  headerText="Id detalle" sortBy="#{obj.id}" filterBy="#{obj.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="Id detalle" maxlength="11" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.id}" title="#{obj.id}"/>
                                </p:column>
                                <p:column  headerText="Estado" sortBy="#{obj.estado}">
                                    <h:outputText value="#{obj.estadoStr}" title="#{obj.estadoStr}"/>
                                </p:column>

                                <p:column  headerText="Tipo servicio" sortBy="#{obj.tipoServicio}" filterBy="#{obj.tipoServicio}" style="width: 70px;">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetDetalles').filter()" style="width: 70%;">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Medicamentos" itemValue="0" />
                                            <f:selectItem itemLabel="Procedimiento" itemValue="1" />
                                            <f:selectItem itemLabel="Insumos" itemValue="2" />
                                            <f:selectItem itemLabel="Consultas" itemValue="3" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.tipoServicioStr}" title="#{obj.tipoServicioStr}"/>
                                </p:column>

                                <p:column  headerText="Código servicio" sortBy="#{obj.maServicioCodigo}" filterBy="#{obj.maServicioCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Códigio servicio" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.maServicioCodigo}" title="#{obj.maServicioCodigo}"/>
                                </p:column>
                                <p:column  headerText="Nombre servicio" sortBy="#{obj.maServicioValor}" filterBy="#{obj.maServicioValor}" style="width: 80px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre servicio" maxlength="11" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.nombreServicioCorto}" title="#{obj.maServicioValor}"/>
                                    <p:commandButton rendered="#{obj.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.maServicioValor)}" icon="ui-icon-comment" title="#{obj.maServicioValor}"/> 
                                </p:column>
                                
                                 <p:column  headerText="Código Mipres" style=" width: 50px; text-align: center; ">
                                    <h:outputText value="#{obj.codigoMiPress}" title="#{obj.codigoMiPress}"/>
                                </p:column>
                                
                                <p:column  headerText="Regulado" style="width: 50px; text-align: center; ">
                                    <h:outputText value="#{obj.reguladoStr}" title="#{obj.reguladoStr}" class="#{obj.regulado ? 'rojoMarcado':''}"/>
                                </p:column>
                                
                                <p:column  headerText="Condicionado" style="width: 70px; text-align: center; ">
                                    <h:outputText value="#{obj.condicionadoStr}" title="#{obj.condicionadoStr}" class="#{obj.condicionado ? 'rojoMarcado':''}"/>
                                </p:column>

                                <p:column  headerText="Tipo documento" sortBy="#{obj.maeTipoDocumentoValor}" width="100">
                                    <h:outputText value="#{obj.maeTipoDocumentoValor}" title="#{obj.maeTipoDocumentoValor}"/>
                                </p:column>

                                <p:column  headerText="Documento afiliado" sortBy="#{obj.documento}" filterBy="#{obj.documento}" style="width: 70px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.documento}" title="#{obj.documento}"/>
                                </p:column>
                                <p:column  headerText="Nombre afiliado" sortBy="#{obj.nombreCompletoAfiliado}" filterBy="#{obj.nombreCompletoAfiliado}" width="100">
                                    <h:outputText value="#{obj.nombreCompletoAfiliado}" title="#{obj.nombreCompletoAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Valor facturado" sortBy="#{obj.valorFacturado}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorFacturado}" title="#{obj.valorFacturado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor copago" sortBy="#{obj.valorCopago}" width="80">
                                    <h:outputText value="#{obj.valorCopago}" title="#{obj.valorCopago}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Cantidad" style="text-align: center;" >
                                    <h:outputText value="#{obj.cantidad}" title="#{obj.cantidad}"/>
                                </p:column>
                                <p:column  headerText="Valor unitario" sortBy="#{obj.valorUnitario}" style="width: 80px;">
                                    <h:outputText value="#{obj.valorUnitario}" title="#{obj.valorUnitario}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Copago No Efectivo" width="50" style="text-align: center;" >
                                    <h:outputText value="#{obj.getCopagoNoEfectivoStr()}" title="#{obj.getCopagoNoEfectivoStr()}"/>
                                </p:column>
                                <p:column  headerText="Aplica AC" width="30" sortBy="#{obj.aplicaAc}">
                                    <h:outputText value="#{obj.aplicaAcStr}" title="#{obj.aplicaAcStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica DC" width="30" sortBy="#{obj.aplicaDc}">
                                    <h:outputText value="#{obj.aplicaDcStr}" title="#{obj.aplicaDcStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica PBS" width="30" sortBy="#{obj.aplicaPbs}" >
                                    <h:outputText value="#{obj.aplicaPbsStr}" title="#{obj.aplicaPbsStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica diagnóstico" width="30" sortBy="#{obj.aplicaDx}">
                                    <h:outputText value="#{obj.aplicaDxStr}" title="#{obj.aplicaDxStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica autorización" width="30" sortBy="#{obj.aplicaAutorizacion}">
                                    <h:outputText value="#{obj.aplicaAutorizacionStr}" title="#{obj.aplicaAutorizacionStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica concepto" width="30" sortBy="#{obj.aplicaConcepto}">
                                    <h:outputText value="#{obj.aplicaConceptoStr}" title="#{obj.aplicaConceptoStr}"/>
                                </p:column>
                                <p:column  headerText="Aplica glosa" width="30" sortBy="#{obj.aplicaGlosa}">
                                    <h:outputText value="#{obj.aplicaGlosaStr}" title="#{obj.aplicaGlosaStr}"/>
                                </p:column>                              
                                <p:column  headerText="Motivos" filterBy="#{obj.motivoGlosa}" sortBy="#{obj.motivoGlosa}">
                                    <f:facet name="filter">
                                        <p:inputText label="Motivos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.motivoGlosaCorto}" title="#{obj.motivoGlosa}"/>
                                    <p:commandButton rendered="#{obj.motivoGlosaCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.motivoGlosa)}" icon="ui-icon-comment" title="#{obj.motivoGlosa}"/> 
                                </p:column>
                                <p:column  headerText="Observación Motivos" width="100">
                                    <h:outputText value="#{obj.observacionCorto}" title="#{obj.observacionCorto}"/>
                                    <p:commandButton rendered="#{obj.observacionCorto.length() > 4 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.observacion)}" icon="ui-icon-comment" title="#{obj.observacionCorto}"/> 
                                </p:column>
                                <p:column  headerText="Concepto" filterBy="#{obj.conceptoContable}" sortBy="#{obj.conceptoContable}">
                                    <f:facet name="filter">
                                        <p:inputText label="Conceptos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.conceptoContableCorto}" title="#{obj.conceptoContable}"/>
                                    <p:commandButton rendered="#{obj.conceptoContableCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.conceptoContable)}" icon="ui-icon-comment" title="#{obj.conceptoContable}"/>
                                </p:column>
                                <p:column  headerText="Diagnóstico" filterBy="#{obj.nombreDx}" sortBy="#{obj.nombreDx}">
                                    <f:facet name="filter">
                                        <p:inputText label="Diagnóstico" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.nombreDxCorto}" title="#{obj.nombreDx}"/>
                                    <p:commandButton rendered="#{obj.nombreDxCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.nombreDx)}" icon="ui-icon-comment" title="#{obj.nombreDx}"/>
                                </p:column>
                                <p:column  headerText="Valor glosa" style="width: 80px;">
                                    <h:outputText value="#{obj.valorGlosa}" title="#{obj.valorGlosa}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Fecha prestación" sortBy="#{obj.fechaPrestacion}" filterBy="#{obj.fechaPrestacion}">                                 
                                    <f:facet name="filter">
                                        <p:calendar pattern="yyyy-MM-dd" yearRange="c-100:c"  type="localDate" navigator="true" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }">
                                            <p:ajax event="dateSelect" oncomplete="PF('tablaWidgetDetalles').filter()" />
                                            <p:ajax event="change" oncomplete="PF('tablaWidgetDetalles').filter()"/>
                                        </p:calendar>
                                    </f:facet>
                                    <h:outputText value="#{obj.fechaPrestacion}" title="#{obj.fechaPrestacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="panelAdjuntos" header="Adjuntos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaAdjuntos" var="adjunto" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAdjuto}" widgetVar="tablaWidgetAdjuntos" scrollable="true" emptyMessage="No se encontraron registros">
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarAdjunto(adjunto.posInsertar)}" icon="ui-icon-trash" update="tablaAdjuntos" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                    <p:commandButton rendered="#{adjunto.id != null}" title="Descargar" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                                        <p:fileDownload value="#{cmAuditoriaFacturaBean.descargarAdjunto(adjunto)}" />
                                    </p:commandButton>  
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{adjunto.archivoNombre}"/>
                                </p:column>
                                <p:column headerText="Tipo"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.tipoStr}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{adjunto.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="F.H. Crea"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>
                            <p:fileUpload id="anexo" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                          fileLimitMessage="Máximo número de archivos excedido"
                                          invalidFileMessage="Tipo de archivo inválido, extensiones válidas (gif|png|pdf|doc|docx|xls)"
                                          invalidSizeMessage="El Tamaño de archivo permitido es hasta 15M"
                                          listener="#{cmAuditoriaFacturaBean.agregarAdjunto}"
                                          mode="advanced"
                                          update="tablaAdjuntos"
                                          dragDropSupport="true" auto="true" multiple="true"
                                          fileLimit="5" sizeLimit="15000000"
                                          allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|doc|docx|xls|xlsx)$/" />

                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="4" style="text-align: center">
                                            <p:commandButton value="Guardar Adjuntos"   action="#{cmAuditoriaFacturaBean.guardarAdjuntos()}" immediate="true" style="margin-left: 5px;"/>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelCambioEstado" header="Cambio Estado Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Cambio Estado"></h:outputLabel>
                            </f:facet>
                            <p:panelGrid id="panelEstado" columns="3" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Estado Auditoría" style="font-weight:bold"/>
                                <p:selectOneMenu value="#{cmAuditoriaFacturaBean.objeto.tipoAuditoria}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaTiposEstadoAuditoria}" />
                                    <p:ajax update="panelEstado" />
                                </p:selectOneMenu>
                                <p:commandButton value="Cambiar Estado" process="@this" action="#{cmAuditoriaFacturaBean.cambiarEstadoAuditoria()}" immediate="true" style="margin-left: 5px;"/>
                            </p:panelGrid>                       
                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoGestionar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoNovedades" header="Novedades Afiliado" appendTo="@(body)" responsive="true" modal="true" width="90%" style="max-height: 90%">
                <p:scrollPanel mode="native" style="height:400px" >
                    <h:form id="frmNovedades">
                        <p:panel id="panelVerInfoBasica" header="Novedades" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Información básica"></h:outputLabel>
                            </f:facet>

                            <p:panel id="panelVerServicio" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                <f:facet name="header">
                                    <h:outputLabel value="Servicio"></h:outputLabel>
                                </f:facet>
                                <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                    <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                </p:outputPanel>
                                <p:panelGrid id="panelDatosServicio" columns="4"
                                             columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>

                                    <p:outputLabel value="Documento" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>

                                    <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>

                                    <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>

                                    <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>

                                    <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>

                                    <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>

                                    <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>

                                    <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>

                                    <p:outputLabel value="Valor glosa" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>

                                    <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>

                                    <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                </p:panelGrid>
                            </p:panel>

                        </p:panel>
                        <p:panel id="panelNovedades" header="Novedades" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="novedad" value="#{cmAuditoriaFacturaBean.lazyAseguramientoNovedadHistorial}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaNovedades" lazy="true"
                                         widgetVar="tablaWidgetNovedades"
                                         rowStyleClass="#{cmAuditoriaFacturaBean.asignarColorNovedadFechaPrestacion(novedad,cmAuditoriaFacturaBean.objetoItemServicio)}"
                                         style="font-size:11px;"
                                         rowKey="#{novedad.id}" reflow="true">

                                <p:column headerText="Código" sortBy="#{novedad.asegMaNovedad.codigoNovedad}" filterBy="#{novedad.asegMaNovedad.codigoNovedad}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.asegMaNovedad.codigoNovedad}" title="#{novedad.asegMaNovedad.codigoNovedad}"/>
                                </p:column>                            
                                <p:column headerText="Descripción" sortBy="#{novedad.asegMaNovedad.descripcionNovedad}" filterBy="#{novedad.asegMaNovedad.descripcionNovedad}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.asegMaNovedad.descripcionNovedad}" title="#{novedad.asegMaNovedad.descripcionNovedad}"/>
                                </p:column>
                                <p:column headerText="Radicado" sortBy="#{novedad.radicadoNovedad.id}" filterBy="#{novedad.radicadoNovedad.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="Radicado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.radicadoNovedad.id}" title="#{novedad.radicadoNovedad.id}"/>
                                </p:column>
                                <p:column headerText="Fecha Novedad" sortBy="#{novedad.fechaNovedad}">
                                    <h:outputText value="#{novedad.fechaNovedad}" title="#{novedad.fechaNovedad}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Anterior" sortBy="#{novedad.descripcionValorAnterior}" filterBy="#{novedad.descripcionValorAnterior}">
                                    <f:facet name="filter">
                                        <p:inputText label="Valor Anterior" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.descripcionValorAnterior}" title="#{novedad.descripcionValorAnterior}"/>
                                </p:column>
                                <p:column headerText="Valor Nuevo" sortBy="#{novedad.descripcionValorNuevo}" filterBy="#{novedad.descripcionValorNuevo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Valor Nuevo" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.descripcionValorNuevo}" title="#{novedad.descripcionValorNuevo}"/>
                                </p:column>
                                <p:column headerText="Observación" >
                                    <h:outputText value="#{novedad.observacion}" title="#{novedad.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Registro" sortBy="#{novedad.fechaHoraCrea}">
                                    <h:outputText value="#{novedad.fechaHoraCrea}" title="#{novedad.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Usuario" sortBy="#{novedad.usuarioCrea}" filterBy="#{novedad.usuarioCrea}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{novedad.usuarioCrea}" title="#{novedad.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Reporte BDUA" sortBy="#{novedad.fechaMarcacion}">
                                    <h:outputText value="#{novedad.fechaMarcacion}" title="#{novedad.fechaMarcacion}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Id BDUA" >
                                    <h:outputText value="#{novedad.asegInformesIdMarcacion}" title="#{novedad.asegInformesIdMarcacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoNovedades').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoGestionarItem" header="Gestionar Item" appendTo="@(body)" responsive="true" modal="true" width="90%" style="max-height:90%;">
                <p:ajax event="close" oncomplete="" listener="#{cmAuditoriaFacturaBean.cerrarVentanaGestionMasiva}" form="frmGestionarItem" />
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmGestionarItem">
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                        </p:confirmDialog>
                        <p:panel id="panelVerFacturaItem" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid" >

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>
                                                     
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                         <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>                              

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs" style="font-weight:bold"></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerProgramas" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicios" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Programas Especiales" style="color:red;"></h:outputLabel>
                            </f:facet>
                            <p:panel id="panelAfiliadoProgramaTab" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyAfiliadosPrograma}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                             widgetVar="tablaWidgetTab"
                                             style="font-size:11px;"
                                             scrollable="true"
                                             scrollWidth="100%"
                                             rowKey="#{obj.id}" reflow="true">
                                    <p:column headerText="Acciones" style="text-align: center;">
                                        <p:commandButton  title="Ver información programa" actionListener="#{cmAuditoriaFacturaBean.verProgramaEspecificoPorAfiliado(obj)}" icon="ui-icon-search"/>
                                    </p:column>
                                    <p:column headerText="Programa Especial" style="text-align: center;">
                                        <h:outputText value="#{obj.pePrograma.descripcionPrograma} - #{obj.pePrograma.codigoPrograma}" title="#{obj.pePrograma.descripcionPrograma} - #{obj.pePrograma.codigoPrograma}"/>
                                    </p:column>
                                    <p:column headerText="Activo" style="text-align: center;">                                            
                                        <h:outputText value="#{obj.activo == true? 'Si':'No'}" title="#{obj.activo == true? 'Si':'No'}"/>
                                    </p:column>
                                    <p:column headerText="Categoría" style="text-align: center;">                    
                                        <h:outputText value="#{obj.pePrograma.maeCategoriaValor}" title="#{obj.pePrograma.maeCategoriaValor}"/>
                                    </p:column>
                                    <p:column headerText="Fecha Ingreso" style="text-align: center;">                    
                                        <h:outputText value="#{obj.fechaInicioPrograma}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                        </h:outputText>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>  
                        </p:panel>

                        <p:panel id="panelVerServicio" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicio"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosServicio" columns="4"
                                         layout="grid">
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>
                                    </p:column>
                                </p:row>
                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>
                                    </p:column>
                                </p:row>                        
                                                           
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                              
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor glosa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                   
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                    </p:column>
                                </p:row>
                                                               
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerListaServicios" rendered="#{!cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicios" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicios"></h:outputLabel>
                            </f:facet>
                            <p:panel id="panelListaServicios" style="width:100%;">
                                <p:dataTable var="detalleSeleccionado" value="#{cmAuditoriaFacturaBean.lazyDetalleAgestionar}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100,500,1000" id="tablaDetallesSeleccionados" lazy="true"
                                             widgetVar="tablaWidgetListaDetallesSeleccionados"
                                             style="font-size:11px;"
                                             rowKey="#{detalleSeleccionado.id}">
                                    <p:column  headerText="Id descripción" sortBy="#{detalleSeleccionado.id}">
                                        <h:outputText value="#{detalleSeleccionado.id}" title="#{detalleSeleccionado.id}"/>
                                    </p:column>
                                    <p:column  headerText="Código servicio" sortBy="#{detalleSeleccionado.maServicioCodigo}" filterBy="#{detalleSeleccionado.maServicioCodigo}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código servicio" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.maServicioCodigo}" title="#{detalleSeleccionado.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre servicio" sortBy="#{detalleSeleccionado.maServicioValor}" filterBy="#{detalleSeleccionado.maServicioValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>    
                                        <h:outputText value="#{detalleSeleccionado.nombreServicioCorto}" title="#{detalleSeleccionado.maServicioValor}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.maServicioValor)}" icon="ui-icon-comment" title="#{detalleSeleccionado.maServicioValor}"/> 
                                    </p:column>
                                    <p:column  headerText="Tipo documento" sortBy="#{detalleSeleccionado.maeTipoDocumentoValor}">
                                        <h:outputText value="#{detalleSeleccionado.maeTipoDocumentoValor}" title="#{detalleSeleccionado.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column  headerText="Documento afiliado" sortBy="#{detalleSeleccionado.documento}" filterBy="#{detalleSeleccionado.documento}">
                                        <h:outputText value="#{detalleSeleccionado.documento}" title="#{detalleSeleccionado.documento}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre afiliado" sortBy="#{detalleSeleccionado.nombreCompletoAfiliado}" filterBy="#{detalleSeleccionado.nombreCompletoAfiliado}">
                                        <h:outputText value="#{detalleSeleccionado.nombreCompletoAfiliado}" title="#{detalleSeleccionado.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column  headerText="Valor facturado" sortBy="#{detalleSeleccionado.valorFacturado}" filterBy="#{detalleSeleccionado.valorFacturado}" style="width: 80px;">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.valorFacturado}" title="#{detalleSeleccionado.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Valor copago" sortBy="#{detalleSeleccionado.valorCopago}">
                                        <h:outputText value="#{detalleSeleccionado.valorCopago}" title="#{detalleSeleccionado.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Cantidad" >
                                        <h:outputText value="#{detalleSeleccionado.cantidad}" title="#{detalleSeleccionado.cantidad}"/>
                                    </p:column>
                                    <p:column  headerText="Valor unitario" sortBy="#{detalleSeleccionado.valorUnitario}">
                                        <h:outputText value="#{detalleSeleccionado.valorUnitario}" title="#{detalleSeleccionado.valorUnitario}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Aplica AC" >
                                        <h:outputText value="#{detalleSeleccionado.aplicaAcStr}" title="#{detalleSeleccionado.aplicaAcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica DC">
                                        <h:outputText value="#{detalleSeleccionado.aplicaDcStr}" title="#{detalleSeleccionado.aplicaDcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica PBS">
                                        <h:outputText value="#{detalleSeleccionado.aplicaPbsStr}" title="#{detalleSeleccionado.aplicaPbsStr}"/>
                                    </p:column>    
                                    <p:column  headerText="Aplica autorización">
                                        <h:outputText value="#{detalleSeleccionado.aplicaAutorizacionStr}" title="#{detalleSeleccionado.aplicaAutorizacionStr}"/>
                                    </p:column>
                                    <p:column  headerText="Motivos" filterBy="#{detalleSeleccionado.motivoGlosa}" sortBy="#{detalleSeleccionado.motivoGlosa}">
                                        <f:facet name="filter">
                                            <p:inputText label="Motivos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.motivoGlosaCorto}" title="#{detalleSeleccionado.motivoGlosa}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.motivoGlosaCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.motivoGlosa)}" icon="ui-icon-comment" title="#{detalleSeleccionado.motivoGlosa}"/> 
                                    </p:column>
                                    <p:column  headerText="Concepto" filterBy="#{detalleSeleccionado.conceptoContable}" sortBy="#{detalleSeleccionado.conceptoContable}">
                                        <f:facet name="filter">
                                            <p:inputText label="Conceptos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.conceptoContableCorto}" title="#{detalleSeleccionado.conceptoContable}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.conceptoContableCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.conceptoContable)}" icon="ui-icon-comment" title="#{detalleSeleccionado.conceptoContable}"/>
                                    </p:column>
                                    <p:column  headerText="Diagnóstico" filterBy="#{detalleSeleccionado.nombreDx}" sortBy="#{detalleSeleccionado.nombreDx}">
                                        <f:facet name="filter">
                                            <p:inputText label="Diagnóstico" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.nombreDxCorto}" title="#{detalleSeleccionado.nombreDx}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.nombreDxCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.nombreDx)}" icon="ui-icon-comment" title="#{detalleSeleccionado.nombreDx}"/>
                                    </p:column>
                                    <p:column  headerText="Valor glosa" style="width: 80px;">
                                        <h:outputText value="#{detalleSeleccionado.valorGlosa}" title="#{detalleSeleccionado.valorGlosa}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Fecha prestación">
                                        <h:outputText value="#{detalleSeleccionado.fechaPrestacion}" title="#{detalleSeleccionado.fechaPrestacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>
                        <p:panel id="panelGestionGlosaItem" header="Conceptos Contables" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Concepto Contable" actionListener="#{cmAuditoriaFacturaBean.verCrearConceptoContable()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="concepto" value="#{cmAuditoriaFacturaBean.registrosConceptoContable}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaConceptos" lazy="false"
                                         widgetVar="tablaWidgetConceptos"
                                         style="font-size:11px;"
                                         rowKey="#{concepto.id}" >

                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" actionListener="#{cmAuditoriaFacturaBean.retirarConceptoContable(concepto.posInsertar)}" icon="ui-icon-trash" update="tablaConceptos">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column  headerText="Concepto Contable" sortBy="#{concepto.maestroConceptos.id}">
                                    <h:outputText value="#{concepto.maestroConceptos.nombre}" title="#{concepto.maestroConceptos.nombre}"/>
                                </p:column>
                                <p:column  headerText="Centro Costo">
                                    <h:outputText value="#{concepto.maestroCentroCosto.nombre}" title="#{concepto.maestroCentroCosto.nombre}"/>
                                </p:column>
                                <p:column  headerText="Ubicación" sortBy="#{concepto.municipioAfiliado}">
                                    <h:outputText value="#{concepto.municipioAfiliado}" title="#{concepto.municipioAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Porcentaje" sortBy="#{concepto.porcentaje}" style="text-align: center;">
                                    <h:outputText value="#{concepto.porcentaje}" title="#{concepto.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>  
                                <p:column  headerText="Auditoría" style="text-align: center;">
                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(concepto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                </p:column>   
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="panelGestionRecobroItem" header="Recobro" style="margin-bottom:10px; text-align:center;" collapsed="false" toggleable="false">
                            <p:outputLabel value="Aplica Recobro" style="font-weight:bold; margin-right:20px;"  for="aplicaRecobro"/>
                            <p:selectBooleanButton id="aplicaRecobro" value="#{cmAuditoriaFacturaBean.aplicaRecobro}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" >
                                <p:ajax  event="change" update="panelGestionRecobroItem" />
                            </p:selectBooleanButton>                                
                        </p:panel>
                        <p:panel id="panelDiagnostico" header="Diagnósticos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="left"> 
                                <p:commandButton immediate="true" action="#{cmAuditoriaFacturaBean.verListaMaDiagnosticos()}" icon="ui-icon-clipboard" title="Agregar Diagnostico"/>
                            </div>        
                            <p:dataTable var="diagnostico" value="#{cmAuditoriaFacturaBean.registrosAuditoriaDiagnostico}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaDiagnosticosCrear" lazy="false"
                                         widgetVar="tablaWidgetListaDiagnosticos"
                                         style="font-size:11px;"
                                         rowKey="#{diagnostico.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarDiagnostico(diagnostico.posInsertar)}" immediate="true" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column> 
                                <p:column headerText="Código" style="text-align: center">
                                    <h:outputText value="#{diagnostico.maDiagnosticoCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagnostico.maDiagnosticoValor}" />
                                </p:column>
                                <p:column headerText="Es principal" style="text-align: center">
                                    <h:outputText value="#{diagnostico.principalStr}" />
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{diagnostico.usuarioCrea}" />
                                </p:column>
                                <p:column  headerText="Auditoría" style="text-align: center;">
                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(diagnostico.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                </p:column>   
                            </p:dataTable>
                        </p:panel>

                        <p:panel id="panelVerMotivos" header="Motivos" style="margin-bottom:10px;" collapsed="false" toggleable="true">  
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Motivo" actionListener="#{cmAuditoriaFacturaBean.verCrearMotivo()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="motivo" value="#{cmAuditoriaFacturaBean.registrosAuditoriaMotivoGlosa}" paginator="false" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaMotivos" lazy="false"
                                         widgetVar="tablaWidgetMotivos"
                                         style="font-size:11px;"
                                         rowKey="#{motivo.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{cmAuditoriaFacturaBean.esGestionIndividual and motivo.id > 0 }" title="Editar" actionListener="#{cmAuditoriaFacturaBean.verEditarMotivo(motivo)}" icon="ui-icon-pencil"/>
                                    <p:commandButton title="Borrar" actionListener="#{cmAuditoriaFacturaBean.retirarMotivo(motivo.posInsertar)}" icon="ui-icon-trash" update="tablaMotivos">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>

                                <p:column  headerText="Motivo glosa" sortBy="#{motivo.maestroMotivo.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivo.nombre}" title="#{motivo.maestroMotivo.nombre}"/>
                                </p:column>
                                
                                <p:column  headerText="Motivo específico" sortBy="#{motivo.maestroMotivoEspecifico.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivoEspecifico.nombre}" title="#{motivo.maestroMotivoEspecifico.nombre}"/>
                                </p:column>
                                
                                <p:column  headerText="Motivo aplicación" sortBy="#{motivo.maestroMotivoAplicacion.nombre}">
                                    <h:outputText value="#{motivo.motivoAplicacionCorto}" title="#{motivo.motivoAplicacionCorto}"/>
                                    <p:commandButton rendered="#{motivo.esMotivoAplicacionExtenso}" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.motivoAplicacionCompleto)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                                <p:column  headerText="Tipología" sortBy="#{motivo.tipologia}" style="text-align: center;">
                                    <h:outputText value="#{motivo.tipologiaStr}" title="#{motivo.tipologiaStr}"/>
                                </p:column>

                                <p:column  headerText="Porcentaje" sortBy="#{motivo.porcentaje}" style="text-align: center;">
                                    <h:outputText value="#{motivo.porcentaje}" title="#{motivo.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>  

                                <p:column  headerText="Observación">
                                    <h:outputText value="#{motivo.observacionCorto}" title="#{motivo.observacionCorto}"/>
                                    <p:commandButton rendered="#{motivo.observacionCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.observacion)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                                <p:column  headerText="Auditoría" style="text-align: center;">
                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(motivo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />   
                                </p:column>   

                            </p:dataTable>
                        </p:panel>                        

                        <p:panel widgetVar="panelVerAutorizaciones" id="panelVerAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Autorización" rendered="#{cmAuditoriaFacturaBean.registrosAuditoriaAutorizacion.size() == 0}" actionListener="#{cmAuditoriaFacturaBean.verListarAnexo4()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="autorizacion" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAutorizacion}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >

                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarAutorizacion(autorizacion.posInsertar)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column> 
                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.codigoServicio}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.codigoServicio}" title="#{autorizacion.codigoServicio}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.nombreServicio}">
                                    <h:outputText value="#{autorizacion.nombreServicio}" title="#{autorizacion.nombreServicio}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.razonSocialPrestador}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.razonSocialPrestador}" title="#{autorizacion.razonSocialPrestador}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.nitPrestador}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.nitPrestador}" title="#{autorizacion.nitPrestador}"/>
                                </p:column>
                                <p:column  headerText="Pago Anticipo" sortBy="#{autorizacion.pagoAnticipado}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.pagoAnticipado ? 'Si' :'No'}" title="#{autorizacion.pagoAnticipado? 'Si' :'No'}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>   
                                <p:column  headerText="Suceso Rips" sortBy="#{autorizacion.sucesoRips}">
                                    <h:outputText value="#{autorizacion.sucesoRips}" title="#{autorizacion.sucesoRips}" styleClass="#{autorizacion.haySucesoRips() ? 'red_text':''}"/>
                                </p:column> 
                            </p:dataTable>
                        </p:panel>

                        <p:panel widgetVar="panelVerAdjuntosCmDetalles" id="panelVerAdjuntosCmDetalles" header="Adjuntos Detalle" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaAdjuntosCmDetalles" var="adjunto" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAdjutoCmDetalle}" widgetVar="tablaWidgetAdjuntosCmDetalles" scrollable="true" emptyMessage="No se encontraron registros">
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarAdjuntoCmDetalle(adjunto.posInsertar)}" icon="ui-icon-trash" update="tablaAdjuntosCmDetalles" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                    <p:commandButton rendered="#{adjunto.id != null}" title="Descargar" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                                        <p:fileDownload value="#{cmAuditoriaFacturaBean.descargarAdjunto(adjunto)}" />
                                    </p:commandButton>  
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{adjunto.archivoNombre}"/>
                                </p:column>
                                <p:column headerText="Tipo"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.tipoStr}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{adjunto.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="F.H. Crea"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>
                            <p:fileUpload id="anexo" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                          fileLimitMessage="Máximo número de archivos excedido"
                                          invalidFileMessage="Tipo de archivo inválido, extensiones válidas (gif|png|pdf|doc|docx|xls)"
                                          invalidSizeMessage="El Tamaño de archivo permitido es hasta 15M"
                                          listener="#{cmAuditoriaFacturaBean.agregarAdjuntoCmDetalle}"
                                          mode="advanced"
                                          update="tablaAdjuntosCmDetalles"
                                          dragDropSupport="true" auto="true" multiple="true"
                                          fileLimit="5" sizeLimit="15000000"
                                          allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|doc|docx|xls|xlsx)$/" />

                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar Cambios" immediate="true" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" action="#{cmAuditoriaFacturaBean.guardarGestionItemServicio()}" style="margin-left: 5px;"/>
                                        <p:commandButton value="Guardar Cambios Masivos" immediate="true" rendered="#{!cmAuditoriaFacturaBean.esGestionIndividual}" action="#{cmAuditoriaFacturaBean.guardarGestionMasivoServicio()}" style="margin-left: 5px;"/>
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoGestionarItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoGestionarItemMultiUsuario" header="Gestionar Conceptos/Motivos/Diagnosticos Multi Usuario" appendTo="@(body)" responsive="true" modal="true" width="90%" style="max-height: 90%">
                <p:ajax event="close" oncomplete="" listener="#{cmAuditoriaFacturaBean.cerrarVentanaGestionMasiva}" form="frmGestionarItemMultiUsuario" />
                <p:scrollPanel mode="native" style="height:70vh">
                    <h:form id="frmGestionarItemMultiUsuario">
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                        </p:confirmDialog>
                        <p:panel id="panelVerFacturaItem" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid" >

                                <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>

                                <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>

                                <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>

                                <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>

                                <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>

                                <p:outputLabel value="Tipo contrato" />
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>

                                <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>

                                <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>

                                <p:outputLabel value="Regional" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.regional}"/>

                                <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>

                                <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                
                                <p:outputLabel value="Versión" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelVerServicio" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicio"></h:outputLabel>
                            </f:facet>
                            <p:panelGrid id="panelDatosServicio" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid" >

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>

                                <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>

                                <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>

                                <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>

                                <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>

                                <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelVerListaServicios" rendered="#{!cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicios" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicios"></h:outputLabel>
                            </f:facet>
                            <p:panel id="panelListaServicios" style="width:100%;">
                                <p:dataTable var="detalleSeleccionado" value="#{cmAuditoriaFacturaBean.lazyDetalleAgestionar}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100,500,1000" id="tablaDetallesSeleccionados" lazy="true"
                                             widgetVar="tablaWidgetListaDetallesSeleccionados"
                                             style="font-size:11px;"
                                             rowKey="#{detalleSeleccionado.id}">
                                    <p:column  headerText="Id descripción" sortBy="#{detalleSeleccionado.id}">
                                        <h:outputText value="#{detalleSeleccionado.id}" title="#{detalleSeleccionado.id}"/>
                                    </p:column>
                                    <p:column  headerText="Código servicio" sortBy="#{detalleSeleccionado.maServicioCodigo}" filterBy="#{detalleSeleccionado.maServicioCodigo}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código servicio" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.maServicioCodigo}" title="#{detalleSeleccionado.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre servicio" sortBy="#{detalleSeleccionado.maServicioValor}" filterBy="#{detalleSeleccionado.maServicioValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>    
                                        <h:outputText value="#{detalleSeleccionado.nombreServicioCorto}" title="#{detalleSeleccionado.maServicioValor}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.maServicioValor)}" icon="ui-icon-comment" title="#{detalleSeleccionado.maServicioValor}"/> 
                                    </p:column>
                                    <p:column  headerText="Tipo documento" sortBy="#{detalleSeleccionado.maeTipoDocumentoValor}">
                                        <h:outputText value="#{detalleSeleccionado.maeTipoDocumentoValor}" title="#{detalleSeleccionado.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column  headerText="Documento afiliado" sortBy="#{detalleSeleccionado.documento}" filterBy="#{detalleSeleccionado.documento}">
                                        <h:outputText value="#{detalleSeleccionado.documento}" title="#{detalleSeleccionado.documento}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre afiliado" sortBy="#{detalleSeleccionado.nombreCompletoAfiliado}" filterBy="#{detalleSeleccionado.nombreCompletoAfiliado}">
                                        <h:outputText value="#{detalleSeleccionado.nombreCompletoAfiliado}" title="#{detalleSeleccionado.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column  headerText="Valor facturado" sortBy="#{detalleSeleccionado.valorFacturado}" filterBy="#{detalleSeleccionado.valorFacturado}" style="width: 80px;">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.valorFacturado}" title="#{detalleSeleccionado.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Valor copago" sortBy="#{detalleSeleccionado.valorCopago}">
                                        <h:outputText value="#{detalleSeleccionado.valorCopago}" title="#{detalleSeleccionado.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Cantidad" >
                                        <h:outputText value="#{detalleSeleccionado.cantidad}" title="#{detalleSeleccionado.cantidad}"/>
                                    </p:column>
                                    <p:column  headerText="Valor unitario" sortBy="#{detalleSeleccionado.valorUnitario}">
                                        <h:outputText value="#{detalleSeleccionado.valorUnitario}" title="#{detalleSeleccionado.valorUnitario}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Aplica AC" >
                                        <h:outputText value="#{detalleSeleccionado.aplicaAcStr}" title="#{detalleSeleccionado.aplicaAcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica DC">
                                        <h:outputText value="#{detalleSeleccionado.aplicaDcStr}" title="#{detalleSeleccionado.aplicaDcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica PBS">
                                        <h:outputText value="#{detalleSeleccionado.aplicaPbsStr}" title="#{detalleSeleccionado.aplicaPbsStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica autorización">
                                        <h:outputText value="#{detalleSeleccionado.aplicaAutorizacionStr}" title="#{detalleSeleccionado.aplicaAutorizacionStr}"/>
                                    </p:column>
                                    <p:column  headerText="Motivos" filterBy="#{detalleSeleccionado.motivoGlosa}" sortBy="#{detalleSeleccionado.motivoGlosa}">
                                        <f:facet name="filter">
                                            <p:inputText label="Motivos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.motivoGlosaCorto}" title="#{detalleSeleccionado.motivoGlosa}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.motivoGlosaCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.motivoGlosa)}" icon="ui-icon-comment" title="#{detalleSeleccionado.motivoGlosa}"/> 
                                    </p:column>
                                    <p:column  headerText="Concepto" filterBy="#{detalleSeleccionado.conceptoContable}" sortBy="#{detalleSeleccionado.conceptoContable}">
                                        <f:facet name="filter">
                                            <p:inputText label="Conceptos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.conceptoContableCorto}" title="#{detalleSeleccionado.conceptoContable}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.conceptoContableCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.conceptoContable)}" icon="ui-icon-comment" title="#{detalleSeleccionado.conceptoContable}"/>
                                    </p:column>
                                    <p:column  headerText="Diagnóstico" filterBy="#{detalleSeleccionado.nombreDx}" sortBy="#{detalleSeleccionado.nombreDx}">
                                        <f:facet name="filter">
                                            <p:inputText label="Diagnóstico" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.nombreDxCorto}" title="#{detalleSeleccionado.nombreDx}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.nombreDxCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.nombreDx)}" icon="ui-icon-comment" title="#{detalleSeleccionado.nombreDx}"/>
                                    </p:column> 
                                    <p:column  headerText="Valor glosa" style="width: 80px;">
                                        <h:outputText value="#{detalleSeleccionado.valorGlosa}" title="#{detalleSeleccionado.valorGlosa}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Fecha prestación">
                                        <h:outputText value="#{detalleSeleccionado.fechaPrestacion}" title="#{detalleSeleccionado.fechaPrestacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>
                        <p:panel id="panelGestionGlosaItem" header="Conceptos Contables" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Concepto Contable" actionListener="#{cmAuditoriaFacturaBean.verCrearConceptoContable()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="concepto" value="#{cmAuditoriaFacturaBean.registrosConceptoContable}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaConceptos" lazy="false"
                                         widgetVar="tablaWidgetConceptos"
                                         style="font-size:11px;"
                                         rowKey="#{concepto.id}" >

                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" actionListener="#{cmAuditoriaFacturaBean.retirarConceptoContable(concepto.posInsertar)}" icon="ui-icon-trash" update="tablaConceptos">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column  headerText="Concepto Contable" sortBy="#{concepto.maestroConceptos.id}">
                                    <h:outputText value="#{concepto.maestroConceptos.nombre}" title="#{concepto.maestroConceptos.nombre}"/>
                                </p:column>
                                <p:column  headerText="Centro Costo">
                                    <h:outputText value="#{concepto.maestroCentroCosto.nombre}" title="#{concepto.maestroCentroCosto.nombre}"/>
                                </p:column>
                                <p:column  headerText="Ubicación" sortBy="#{concepto.municipioAfiliado}">
                                    <h:outputText value="#{concepto.municipioAfiliado}" title="#{concepto.municipioAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Porcentaje" sortBy="#{concepto.porcentaje}">
                                    <h:outputText value="#{concepto.porcentaje}" title="#{concepto.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>  
                            </p:dataTable>
                        </p:panel>
                        
                       <p:panel id="panelGestionRecobroItem" header="Recobro" style="margin-bottom:10px; text-align:center;" collapsed="false" toggleable="false">
                            <p:outputLabel value="Aplica Recobro" style="font-weight:bold; margin-right:20px;"  for="aplicaRecobro"/>
                            <p:selectBooleanButton id="aplicaRecobro" value="#{cmAuditoriaFacturaBean.aplicaRecobro}" onLabel="Si" offLabel="No"  onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:60px" >
                                <p:ajax  event="change" update="panelGestionRecobroItem" />
                            </p:selectBooleanButton>                                
                        </p:panel>

                        <p:panel id="panelDiagnostico" header="Diagnósticos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="left"> 
                                <p:commandButton immediate="true" action="#{cmAuditoriaFacturaBean.verListaMaDiagnosticos()}" icon="ui-icon-clipboard" title="Agregar Diagnostico"/>
                            </div>        
                            <p:dataTable var="diagnostico" value="#{cmAuditoriaFacturaBean.registrosAuditoriaDiagnostico}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaDiagnosticosCrear" lazy="false"
                                         widgetVar="tablaWidgetListaDiagnosticos"
                                         style="font-size:11px;"
                                         rowKey="#{diagnostico.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarDiagnostico(diagnostico.posInsertar)}" immediate="true" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column> 
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagnostico.maDiagnosticoCodigo}" />
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagnostico.maDiagnosticoValor}" />
                                </p:column>
                                <p:column headerText="Es principal">
                                    <h:outputText value="#{diagnostico.principalStr}" />
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{diagnostico.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel id="panelVerMotivos" header="Motivos" style="margin-bottom:10px;" collapsed="false" toggleable="true">  
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Motivo" actionListener="#{cmAuditoriaFacturaBean.verCrearMotivo()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="motivo" value="#{cmAuditoriaFacturaBean.registrosAuditoriaMotivoGlosa}" paginator="false" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaMotivos" lazy="false"
                                         widgetVar="tablaWidgetMotivos"
                                         style="font-size:11px;"
                                         rowKey="#{motivo.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" actionListener="#{cmAuditoriaFacturaBean.retirarMotivo(motivo.posInsertar)}" icon="ui-icon-trash" update="tablaMotivos">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>

                                <p:column  headerText="Motivo glosa" sortBy="#{motivo.maestroMotivo.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivo.nombre}" title="#{motivo.maestroMotivo.nombre}"/>
                                </p:column>
                                <p:column  headerText="Motivo especifico" sortBy="#{motivo.maestroMotivoEspecifico.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivoEspecifico.nombre}" title="#{motivo.maestroMotivoEspecifico.nombre}"/>
                                </p:column>
                                <p:column  headerText="Porcentaje" sortBy="#{motivo.porcentaje}">
                                    <h:outputText value="#{motivo.porcentaje}" title="#{motivo.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>  

                                <p:column  headerText="Observación">
                                    <h:outputText value="#{motivo.observacionCorto}" title="#{motivo.observacionCorto}"/>
                                    <p:commandButton rendered="#{motivo.observacionCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.observacion)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                            </p:dataTable>
                        </p:panel>                        

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar Cambios Masivos" immediate="true" action="#{cmAuditoriaFacturaBean.guardarGestionMasivoServicio()}" style="margin-left: 5px;"/>
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoGestionarItemMultiUsuario').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoDevolucionFactura" header="Devolución Factura" appendTo="@(body)" responsive="true" modal="true" width="100%" style="max-height: 90%">
                <p:scrollPanel mode="native" style="max-height: 500px">
                    <h:form id="frmDevolucionFactura">
                        <p:panel id="panelVerFacturaDevolucion" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton process="@this" class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid" >
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                         <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs" style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>
                                
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerFactura" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Información Devolución" style="font-weight:bold"></h:outputLabel>
                            </f:facet>
                            <p:panelGrid id="panelInfoDevolucion" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Motivo Devolución" for="motivoSelect" style="font-weight:bold"/>
                                <p:selectOneMenu id="motivoSelect" filter="true"  style=" width: 95%"  value="#{cmAuditoriaFacturaBean.cmAuditoriaDevolucion.maestroMotivoDevolucion}" converter="maestroMotivoDevolucionConverterAuditoria" required="true" requiredMessage="Motivo Devolución : Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivoDevolucion}" var="motivoDev" itemValue="#{motivoDev}" itemLabel="#{motivoDev.nombre}" itemDescription="#{motivoDev.valor} - #{motivoDev.descripcion}" />
                                    <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarMotivosEspecificosDevolucion()}" update="motivoSelectEspecifico" />
                                </p:selectOneMenu>
                                
                                <p:outputLabel value="Motivo Devolución Específico" for="motivoSelectEspecifico" style="font-weight:bold"/>
                                <p:selectOneMenu id="motivoSelectEspecifico" filter="true"  style=" width: 95%"  value="#{cmAuditoriaFacturaBean.cmAuditoriaDevolucion.maestroMotivoDevolucionEspecifico}" converter="maestroMotivoDevolucionEspecificoConverterAuditoria" required="true" requiredMessage="Motivo Devolución Específico: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivoDevolucionEspecifico}" var="motivoDev" itemValue="#{motivoDev}" itemLabel="#{motivoDev.nombre}" itemDescription="#{motivoDev.valor} - #{motivoDev.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Modalidad Contrato" for="contratomotivoSelect" style="font-weight:bold"/>
                                <p:selectOneMenu id="contratomotivoSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaDevolucion.maestroContrato}" converter="maestroTipoContratoConverterAuditoria" required="true" requiredMessage="Modalidad Contrato : Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeTipoContrato}" var="motivoDev" itemValue="#{motivoDev}" itemLabel="#{motivoDev.nombre}" itemDescription="#{motivoDev.valor} - #{motivoDev.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Observación" for="observacionDevolucion" style="font-weight:bold"/>
                                <p:inputTextarea id="observacionDevolucion" style="width: 100%;" value="#{cmAuditoriaFacturaBean.cmAuditoriaDevolucion.observacion}" required="true" requiredMessage="Observación: Este campo es obligatorio."/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Generar Devolución" action="#{cmAuditoriaFacturaBean.guardarDevolcionFactura()}"  style="margin-left: 5px;" update="panelVerFactura"/>
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoDevolucionFactura').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoCapitaDescuento" header="Descuento Capita" appendTo="@(body)" responsive="true" modal="true" width="90%" style="max-height: 90%">
                <p:scrollPanel mode="native" style="max-height: 70vh;">
                    <h:form id="frmListaAuditoriaCapitaDescuento">
                        <p:panel id="panelVerFactura" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>  
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid" >
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>
                                                                                           
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>
                                                             
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>
                                                                                       
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                             <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                            </h:outputText>
                                    </p:column>
                                </p:row>
                                                             
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs" style="font-weight:bold"></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>
                               
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerServicio" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicio"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosServicio" columns="4"
                                         layout="grid">
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>
                                    </p:column>
                                </p:row>
                                                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                           
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor glosa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                      
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                    </p:column>
                                </p:row>
                                
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerListaServicios" rendered="#{!cmAuditoriaFacturaBean.esGestionIndividual}" header="Servicios" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicios"></h:outputLabel>
                            </f:facet>
                            <p:panel id="panelListaServicios" style="width:100%;">
                                <p:dataTable var="detalleSeleccionado" value="#{cmAuditoriaFacturaBean.lazyDetalleAgestionar}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100,500,1000" id="tablaDetallesSeleccionados" lazy="true"
                                             widgetVar="tablaWidgetListaDetallesSeleccionados"
                                             style="font-size:11px;"
                                             rowKey="#{detalleSeleccionado.id}">
                                    <p:column  headerText="Id descripción" sortBy="#{detalleSeleccionado.id}">
                                        <h:outputText value="#{detalleSeleccionado.id}" title="#{detalleSeleccionado.id}"/>
                                    </p:column>
                                    <p:column  headerText="Código servicio" sortBy="#{detalleSeleccionado.maServicioCodigo}" filterBy="#{detalleSeleccionado.maServicioCodigo}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código servicio" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.maServicioCodigo}" title="#{detalleSeleccionado.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre servicio" sortBy="#{detalleSeleccionado.maServicioValor}" filterBy="#{detalleSeleccionado.maServicioValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>    
                                        <h:outputText value="#{detalleSeleccionado.nombreServicioCorto}" title="#{detalleSeleccionado.maServicioValor}"/>
                                        <p:commandButton rendered="#{detalleSeleccionado.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(detalleSeleccionado.maServicioValor)}" icon="ui-icon-comment" title="#{detalleSeleccionado.maServicioValor}"/> 
                                    </p:column>
                                    <p:column  headerText="Tipo documento" sortBy="#{detalleSeleccionado.maeTipoDocumentoValor}">
                                        <h:outputText value="#{detalleSeleccionado.maeTipoDocumentoValor}" title="#{detalleSeleccionado.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column  headerText="Documento afiliado" sortBy="#{detalleSeleccionado.documento}" filterBy="#{detalleSeleccionado.documento}">
                                        <h:outputText value="#{detalleSeleccionado.documento}" title="#{detalleSeleccionado.documento}"/>
                                    </p:column>
                                    <p:column  headerText="Nombre afiliado" sortBy="#{detalleSeleccionado.nombreCompletoAfiliado}" filterBy="#{detalleSeleccionado.nombreCompletoAfiliado}">
                                        <h:outputText value="#{detalleSeleccionado.nombreCompletoAfiliado}" title="#{detalleSeleccionado.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column  headerText="Valor facturado" sortBy="#{detalleSeleccionado.valorFacturado}" filterBy="#{detalleSeleccionado.valorFacturado}">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento afiliado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetListaDetallesSeleccionados').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{detalleSeleccionado.valorFacturado}" title="#{detalleSeleccionado.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Valor copago" sortBy="#{detalleSeleccionado.valorCopago}">
                                        <h:outputText value="#{detalleSeleccionado.valorCopago}" title="#{detalleSeleccionado.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Cantidad" >
                                        <h:outputText value="#{detalleSeleccionado.cantidad}" title="#{detalleSeleccionado.cantidad}"/>
                                    </p:column>
                                    <p:column  headerText="Valor unitario" sortBy="#{detalleSeleccionado.valorUnitario}">
                                        <h:outputText value="#{detalleSeleccionado.valorUnitario}" title="#{detalleSeleccionado.valorUnitario}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column  headerText="Aplica AC" >
                                        <h:outputText value="#{detalleSeleccionado.aplicaAcStr}" title="#{detalleSeleccionado.aplicaAcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica DC">
                                        <h:outputText value="#{detalleSeleccionado.aplicaDcStr}" title="#{detalleSeleccionado.aplicaDcStr}"/>
                                    </p:column>
                                    <p:column  headerText="Aplica PBS">
                                        <h:outputText value="#{detalleSeleccionado.aplicaPbsStr}" title="#{detalleSeleccionado.aplicaPbsStr}"/>
                                    </p:column>
                                    <p:column  headerText="Fecha prestación">
                                        <h:outputText value="#{detalleSeleccionado.fechaPrestacion}" title="#{detalleSeleccionado.fechaPrestacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>

                        <p:panel id="panelVerContratos" header="Contratos" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Contrato" rendered="#{cmAuditoriaFacturaBean.registrosAuditoriaCapitaDescuento.size() == 0}" actionListener="#{cmAuditoriaFacturaBean.verListarCntContratos()}" immediate="true" icon="ui-icon-clipboard"/>
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="descuentoC" value="#{cmAuditoriaFacturaBean.registrosAuditoriaCapitaDescuento}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaCapitaDescuento" lazy="false"
                                         widgetVar="tablaWidgetCapitaDescuento"
                                         style="font-size:11px;"
                                         rowKey="#{descuentoC.id}" >

                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Borrar" action="#{cmAuditoriaFacturaBean.retirarCapitaDescuento(descuentoC.posInsertar)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton> 
                                </p:column>

                                <p:column  headerText="Número contrato" style="text-align: center">
                                    <h:outputText value="#{descuentoC.contrato}" title="#{descuentoC.contrato}"/>
                                </p:column>

                                <p:column  headerText="Nit" style="text-align: center">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}" title="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}"/>
                                </p:column>

                                <p:column  headerText="Razón social">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.razonSocial}" title="#{descuentoC.cntContrato.cntPrestador.razonSocial}"/>
                                </p:column>

                                <p:column  headerText="Representante legal">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.nombreRepresentanteLegal}" title="#{descuentoC.cntContrato.cntPrestador.nombreRepresentanteLegal}"/>
                                </p:column>

                                <p:column  headerText="Número documento prestador">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}" title="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Estado contrato" style="text-align: center">
                                    <h:outputText value="#{descuentoC.cntContrato.maeEstadoContratoValor}" title="#{descuentoC.cntContrato.maeEstadoContratoValor}"/>
                                </p:column>
                                <p:column  headerText="Marcación" style="text-align: center">
                                    <h:outputText value="#{descuentoC.marcacionStr}" title="#{descuentoC.cntContrato.diasLimitePago}"/>
                                </p:column>
                                <p:column  headerText="Fecha Inicio">
                                    <h:outputText value="#{descuentoC.cntContrato.fechaInicio}" title="#{descuentoC.cntContrato.fechaInicio}"/>
                                </p:column>
                                <p:column  headerText="Fecha Fin">
                                    <h:outputText value="#{descuentoC.cntContrato.fechaFin}" title="#{descuentoC.cntContrato.fechaFin}"/>
                                </p:column>
                                <p:column  headerText="Observación">
                                    <h:outputText value="#{descuentoC.observacionCorto}" />
                                    <p:commandButton rendered="#{descuentoC.observacionCorto.length() > 1 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(descuentoC.observacion)}" icon="ui-icon-comment" title="Ver completo"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar Descuento Masivo" immediate="true" rendered="#{!cmAuditoriaFacturaBean.esGestionIndividual}" action="#{cmAuditoriaFacturaBean.guardarCapitaDescuentoMasivo()}" style="margin-left: 5px;"/>
                                        <p:commandButton value="Guardar Descuento"  rendered="#{cmAuditoriaFacturaBean.esGestionIndividual}" actionListener="#{cmAuditoriaFacturaBean.guardarCapitaDescuento()}" />
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoCapitaDescuento').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Detalles Glosa" id="dialogoVerGlosaRespuestaDetalles" widgetVar="dialogoVerGlosaRespuestaDetalles" appendTo="@(body)" modal="true"  width="90%" dynamic="true" style="max-height: 90%">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmVerGlosaRespuesas">
                        <p:panel id="pVerGlosaRespuesas" toggleable="true" header="Factura" style="margin-bottom:10px;">
                            <p:panelGrid id="panelVerGlosaRespuesas" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Id factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.glosaFactura.id}"/>

                                <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.glosaFactura.valorFactura}"/>

                                <p:outputLabel value="Valor inicial" style="font-weight:bold"/>
                                <p:outputLabel value=""/>

                                <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.glosaFactura.valorPendienteActual}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </p:outputLabel>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pGlosaRespuestaDetalles" toggleable="true" header="Detalles de glosa" style="margin-bottom:10px;">                               
                            <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyGlosaFacturaDetalle}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                         widgetVar="tablaWidgetGlosaRespuestaDetalles"
                                         scrollable="true"
                                         scrollHeight="400"
                                         scrollWidth="100%"
                                         rowKey="#{obj.id}" >
                                <p:column  headerText="Id" sortBy="#{obj.id}" filterBy="#{obj.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="Id descripción" maxlength="11" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetGlosaRespuestaDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.id}" title="#{obj.id}"/>
                                </p:column>
                                <p:column  headerText="Tipo documento" sortBy="#{obj.maeTipoDocumentoId}">
                                    <h:outputText value="#{obj.maeTipoDocumentoValor}" title="#{obj.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column  headerText="Documento" sortBy="#{obj.documento}">
                                    <h:outputText value="#{obj.documento}" title="#{obj.documento}"/>
                                </p:column>
                                <p:column  headerText="Nombre Alifido" sortBy="#{obj.nombreCompletoAfiliado}">
                                    <h:outputText value="#{obj.nombreCompletoAfiliado}" title="#{obj.nombreCompletoAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Código Servicio" sortBy="#{obj.maServicioCodigo}" filterBy="#{obj.maServicioCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Códigio servicio" maxlength="16" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }"  onchange="PF('tablaWidgetGlosaRespuestaDetalles').filter()" />
                                    </f:facet>
                                    <h:outputText value="#{obj.maServicioCodigo}" title="#{obj.maServicioCodigo}"/>
                                </p:column>
                                <p:column  headerText="Nombre Servicio" sortBy="#{obj.maServicioValor}">
                                    <h:outputText value="#{obj.nombreServicioCorto}" title="#{obj.nombreServicioCorto}"/>
                                    <p:commandButton rendered="#{obj.nombreServicioCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.maServicioValor)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                                <p:column  headerText="Valor pendiente" sortBy="#{obj.valorPendiente}">
                                    <h:outputText value="#{obj.valorPendiente}" title="#{obj.valorPendiente}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor pendiente actual" sortBy="#{obj.valorPendienteActual}">
                                    <h:outputText value="#{obj.valorPendienteActual}" title="#{obj.valorPendienteActual}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>     
                                <p:column  headerText="Valor pagado" sortBy="#{obj.valorPagado}">
                                    <h:outputText value="#{obj.valorPagado}" title="#{obj.valorPagado}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Valor pagado EPS" sortBy="#{obj.valorPagadoEPS}">
                                    <h:outputText value="#{obj.valorPagadoEPS}" title="#{obj.valorPagadoEPS}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Porcentaje pagado EPS" sortBy="#{obj.porcentajePagadoEPS}">
                                    <h:outputText value="#{obj.porcentajePagadoEPS}" title="#{obj.porcentajePagadoEPS}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>        

                                <p:column  headerText="Valor aceptado Ips" sortBy="#{obj.valorAceptadoIps}">
                                    <h:outputText value="#{obj.valorAceptadoIps}" title="#{obj.valorAceptadoIps}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Porcentaje pagado IPS" sortBy="#{obj.porcentajeAceptadoIPS}">
                                    <h:outputText value="#{obj.porcentajeAceptadoIPS}" title="#{obj.porcentajeAceptadoIPS}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>  
                                <p:column  headerText="Fecha creación" sortBy="#{obj.fechaHoraCrea}">
                                    <h:outputText value="#{obj.fechaHoraCrea}" title="#{obj.fechaHoraCrea}"/>
                                </p:column>
                                <p:column  headerText="Observación" sortBy="#{obj.observacion}">
                                    <h:outputText value="#{obj.observacionCorto}" />
                                    <p:commandButton rendered="#{obj.observacionCorto.length() > 1 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(obj.observacion)}" icon="ui-icon-comment" title="Ver completo"/>                                
                                </p:column>
                            </p:dataTable>                             
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerGlosaRespuestaDetalles').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel> 
            </p:dialog>

            <p:dialog header="Descripción" widgetVar="dlgMsg" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:100px">
                    <h:form id="frmObservacion"> 
                        <h:outputText id="mensaje" value="#{cmAuditoriaFacturaBean.descripcionGenerica}" />
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Confirmación" widgetVar="dialogoConfirmacionOperacionesMultiusuario" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:100px">
                    <h:form id="frmConfirmacionMultiusuario"> 
                        <h:outputText id="mensaje" value="#{cmAuditoriaFacturaBean.descripcionGenerica}" />
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Continuar" onclick="PF('dialogoConfirmacionOperacionesMultiusuario').hide()"  actionListener="#{cmAuditoriaFacturaBean.verGestionarMotivosConceptosDiagnosticosMultiUsuario(cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.idFactura,cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoGestionMasiva)}" immediate="true"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoConfirmacionOperacionesMultiusuario').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Agregar Motivo" id="dialogoAgregarMotivo" widgetVar="dialogoAgregarMotivo" appendTo="@(body)" position="center" width="90%" modal="true" style="max-height:70%;">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmAgregarMotivo">
                        <p:panel id="panelDatosAgregarMotivo" toggleable="true" header="Agregar Motivo" style="margin-bottom:10px;">
                            <p:panelGrid columns="4" layout="grid" styleClass="showcase-text-align-center" style="width: 100%">
                                    <p:row  rendered="#{cmAuditoriaFacturaBean.esGestionIndividual or cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.esValorUnificado }"  >
                                        <p:column styleClass="ui-widget-header ui-g-6" colspan="2" >
                                            <p:outputLabel value="Valor facturado servicio :"/>
                                        </p:column>
                                        <p:column colspan="2" styleClass="ui-g-6">
                                            <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column styleClass="ui-widget-header ui-g-6" colspan="2">
                                            <p:outputLabel value="Nombre motivo" for="motivoSelect"/>
                                        </p:column>
                                        <p:column colspan="2" styleClass="ui-g-6">
                                            <p:selectOneMenu id="motivoSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maestroMotivo}" filter="true" converter="maestroMotivoConverterAuditoria" required="true" requiredMessage="Nombre Motivo : Este campo es obligatorio." style=" width: 95%">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivos}" var="motivoObj" itemValue="#{motivoObj}" itemLabel="#{motivoObj.nombre}" itemDescription="#{motivoObj.valor} - #{motivoObj.descripcion}" />
                                                <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarMotivosEspecificosRelacionados()}" update="motivoesSelect,motivoAplSelect" />
                                            </p:selectOneMenu>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column styleClass="ui-widget-header ui-g-6" colspan="2">
                                            <p:outputLabel value="Nombre motivo específico" for="motivoesSelect"/>
                                        </p:column>
                                        <p:column colspan="2" styleClass="ui-g-6">
                                            <p:selectOneMenu id="motivoesSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maestroMotivoEspecifico}" filter="true" filterMatchMode="contains" converter="maestroMotivoEspecificoConverterAuditoria" required="true" requiredMessage="Nombre Motivo Específico : Este campo es obligatorio." style=" width: 95%">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivosEspecificos}" var="motivoEsp" itemValue="#{motivoEsp}" itemLabel="#{motivoEsp.nombre}" itemDescription=" #{motivoEsp.valor} - #{motivoEsp.descripcion}" />
                                                <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarMotivosAplicacionRelacionados()}" update="motivoAplSelect" />
                                            </p:selectOneMenu>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column styleClass="ui-widget-header ui-g-6" colspan="2">
                                            <p:outputLabel value="Nombre motivo aplicación" for="motivoAplSelect"/>
                                        </p:column>
                                        <p:column colspan="2" styleClass="ui-g-6">
                                            <p:selectOneMenu id="motivoAplSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maestroMotivoAplicacion}" filter="true" filterMatchMode="contains" converter="maestroMotivoAplicacionConverterAuditoria" required="true" requiredMessage="Nombre Motivo Aplicación : Este campo es obligatorio." style=" width: 95%">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivosAplicacion}" var="motivoApl" itemValue="#{motivoApl}" itemLabel="#{motivoApl.nombre}" itemDescription="#{motivoApl.valor} - #{motivoApl.descripcion}" />
                                            </p:selectOneMenu>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column styleClass="ui-widget-header ui-g-3">
                                            <p:outputLabel value="Porcentaje" for="valorM" />
                                        </p:column>
                                        <p:column styleClass=" ui-g-3" >
                                            <p:inputNumber id="valorM" minValue="0" decimalPlaces="2" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.porcentaje}" maxValue="100" symbol="%" symbolPosition="s" required="true" requiredMessage="Porcentaje : Este campo es obligatorio.">
                                                <p:ajax event="keyup" update="porcentajeM" listener="#{cmAuditoriaFacturaBean.calcularPorcentaje()}" /> 
                                            </p:inputNumber>
                                        </p:column>

                                        <p:column styleClass="ui-widget-header ui-g-3" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual or cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.esValorUnificado}">
                                            <p:outputLabel value="Valor motivo" />
                                        </p:column>
                                        <p:column styleClass=" ui-g-3" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual or cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.esValorUnificado}">
                                            <p:inputNumber id="porcentajeM" minValue="0" decimalPlaces="4" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.valorMotivo}" symbolPosition="s" >
                                                <p:ajax event="keyup" update="valorM" listener="#{cmAuditoriaFacturaBean.conversionPorcentaje()}" /> 
                                            </p:inputNumber>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column styleClass="ui-widget-header ui-g-6" colspan="2">
                                            <p:outputLabel value="Observación " for="observacion"/>
                                        </p:column>
                                        <p:column colspan="2" styleClass="ui-g-6">
                                            <h:inputTextarea id="observacion" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.observacion}" style="width: 100%;" required="true" requiredMessage="Observación : Este campo es obligatorio."/>
                                        </p:column>
                                    </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar Motivo" type="button" onclick="guardarMotivoRemote()" validateClient="true"  />
                                            <p:remoteCommand name="guardarMotivoRemote" action="#{cmAuditoriaFacturaBean.agregarMotivo()}" update="panelDatosAgregarMotivo" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAgregarMotivo').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Editar Motivo" id="dialogoEditarMotivo" widgetVar="dialogoEditarMotivo" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmEditarMotivo">
                        <p:panel id="panelDatosAgregarMotivo" toggleable="true" header="Editar Motivo" style="margin-bottom:10px;">
                            <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Valor facturado servicio :"  style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor motivo :"  style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.valorMotivo}" title="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.valorMotivo}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Nombre motivo" for="motivoEditarSelect"  style="font-weight:bold"/>
                                <p:selectOneMenu id="motivoEditarSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maeMotivoId}" filter="true"  required="true" requiredMessage="Nombre Motivo : Este campo es obligatorio." >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivos}" var="motivoObj" itemValue="#{motivoObj.id}" itemLabel="#{motivoObj.nombre}" itemDescription="#{motivoObj.valor} - #{motivoObj.descripcion}" />
                                    <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarMotivosEspecificosRelacionadosEdicion()}" update="motivoesEditarSelect,motivoEditarSelect, motivoAplSelect" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Nombre motivo específico" for="motivoesEditarSelect"  style="font-weight:bold"/>
                                <p:selectOneMenu id="motivoesEditarSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maeMotivoEspecificoId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Nombre Motivo Específico : Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivosEspecificos}" var="motivoEsp" itemValue="#{motivoEsp.id}" itemLabel="#{motivoEsp.nombre}" itemDescription="#{motivoEsp.valor} - #{motivoEsp.descripcion}" />
                                    <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarMotivosAplicacionRelacionadosEdicion()}" update="motivoAplSelect" />
                                </p:selectOneMenu>
                                
                                <p:outputLabel value="Nombre motivo aplicación" for="motivoAplSelect"  style="font-weight:bold"/>
                                <p:selectOneMenu id="motivoAplSelect" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.maeMotivoGlosaAplicacionId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Nombre Motivo Aplicación : Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeMotivosAplicacion}" var="motivoApl" itemValue="#{motivoApl.id}" itemLabel="#{motivoApl.nombre}" itemDescription="#{motivoApl.valor} - #{motivoApl.descripcion}" />
                                </p:selectOneMenu>
                        
                                <p:outputLabel value="Porcentaje"  style="font-weight:bold"/>
                                <p:inputNumber id="valorM" minValue="0" decimalPlaces="2" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.porcentaje}" maxValue="100" symbol="%" symbolPosition="s" required="true" requiredMessage="Porcentaje : Este campo es obligatorio.">
                                    <p:ajax event="keyup" update="porcentajeM" listener="#{cmAuditoriaFacturaBean.calcularPorcentaje()}" /> 
                                </p:inputNumber>

                                <p:outputLabel value="Valor motivo"  style="font-weight:bold" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual or cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.esValorUnificado}"/>

                                <p:inputNumber id="porcentajeM" minValue="0" decimalPlaces="4" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.valorMotivo}" symbolPosition="s" rendered="#{cmAuditoriaFacturaBean.esGestionIndividual or cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.esValorUnificado}">
                                    <p:ajax event="keyup" update="valorM" listener="#{cmAuditoriaFacturaBean.conversionPorcentaje()}" /> 
                                </p:inputNumber>

                                <p:outputLabel value="Observación " for="observacion"  style="font-weight:bold"/>
                                <h:inputTextarea id="observacion" value="#{cmAuditoriaFacturaBean.cmAuditoriaMotivoGlosa.observacion}" style="width: 100%;" required="true" requiredMessage="Observación : Este campo es obligatorio."/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Editar Motivo" type="button" onclick="guardarEditarMotivoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="guardarEditarMotivoRemote" action="#{cmAuditoriaFacturaBean.guardarEditarMotivo()}" update="panelDatosAgregarMotivo" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEditarMotivo').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Agregar Autorizacion" id="dialogoAgregarAutorizacion" widgetVar="dialogoAgregarAutorizacion" appendTo="@(body)" modal="true"  width="90%" dynamic="true" style="max-height: 90%">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmAgregarAutorizacion">
                        <p:panel id="panelDatosAgregarAutorizacion" toggleable="true" header="Agregar Autorizacion" style="margin-bottom:10px;">
                            <p:panelGrid columns="4" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Nombre autorizacion" for="codigoServicio"  style="font-weight:bold"/>
                                <p:inputText id="codigoServicio" label="Código Servico" value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.codigoServicio}" size="20" maxlength="16" required="true" requiredMessage="Documento: Este campo es obligatorio."/>

                                <p:outputLabel value="Nombre servicio" for="nombreservicio"  style="font-weight:bold"/>
                                <p:inputText id="nombreservicio" label="Nombre servicio" value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.nombreServicio}" size="20" maxlength="16" required="true" requiredMessage="Documento: Este campo es obligatorio."/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar Autorizacion" type="button" onclick="guardarAutorizacionRemote()" validateClient="true"/>
                                            <p:remoteCommand name="guardarAutorizacionRemote" action="#{cmAuditoriaFacturaBean.agregarAutorizacion()}"  />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAgregarAutorizacion').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>  

            <p:dialog header="Agregar Concepto Contable" id="dialogoAgregarConcepto" widgetVar="dialogoAgregarConcepto" appendTo="@(body)" position="center" width="90%" modal="true" style="max-height:50%;">
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAgregarConcepto">
                        <p:panel id="panelDatosAgregarConcepto" toggleable="true" header="Agregar Concepto" style="margin-bottom:10px;">
                            <p:panelGrid columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-6">
                                        <p:outputLabel value="Concepto Contable"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-6" >
                                        <p:selectOneMenu value="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.maestroConceptos}" filter="true"  style="width: 95%" filterMatchMode="contains" converter="maestroConceptoConverterAuditoria" required="true" requiredMessage="Concepto Contable : Este campo es obligatorio.">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeConceptos}" var="concepto" itemValue="#{concepto}" itemLabel="#{concepto.descripcion}" itemDescription="#{concepto.descripcion}" />
                                            <p:ajax listener="#{cmAuditoriaFacturaBean.mostrarCentroCostosPorAltoCosto}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                
                                <p:row rendered="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.mostrarCentroCosto}">
                                    <p:column styleClass="ui-widget-header ui-g-6">
                                        <p:outputLabel value="Centro Costo"  style="font-weight:bold" rendered="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.mostrarCentroCosto}"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-6" >
                                        <p:selectOneMenu value="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.maestroCentroCosto}" style="width: 95%" converter="maestroCentroCostosConverterAuditoria" rendered="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.mostrarCentroCosto}">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{cmAuditoriaFacturaBean.listaMaeCentrosCostos}" var="centroC" itemValue="#{centroC}" itemLabel="#{centroC.descripcion}" itemDescription="#{centroC.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-6">
                                        <p:outputLabel value="Porcentaje"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-6" >
                                        <p:inputNumber minValue="0" decimalPlaces="0" value="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.porcentaje}" maxValue="100" symbol="%" symbolPosition="s" required="true" requiredMessage="Porcentaje : Este campo es obligatorio."></p:inputNumber>
                                    </p:column>
                                </p:row>
                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-6">
                                        <p:outputLabel value="Ubicación"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-6" >
                                        <p:autoComplete id="municipioConcepto" styleClass="claseMunicipio" dropdown="false" value="#{cmAuditoriaFacturaBean.cmAuditoriaConceptoContable.ubicacionMunicipio}"  completeMethod="#{cmAuditoriaFacturaBean.completarUbicacion}" 
                                                        var="ubica" itemLabel="#{cmAuditoriaFacturaBean.getUbicacionRecursiva(ubica.id)}" itemValue="#{ubica}" converter="ubicacionConverterAuditoria" forceSelection="true" required="true" requiredMessage="Ubicación : Este campo es obligatorio."> 
                                        </p:autoComplete>
                                    </p:column>
                                </p:row>
                                                           
                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar Concepto" type="button" onclick="guardarConceptoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="guardarConceptoRemote" action="#{cmAuditoriaFacturaBean.agregarConceptoContable()}" update="panelDatosAgregarConcepto" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAgregarConcepto').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog> 

            <p:dialog header="Consultar Anexo4" widgetVar="dialogoListarAnexo4" appendTo="@(body)" modal="true" width="90%" style="max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 550px;">
                    <h:form id="frmListarAnexo4">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{cmAuditoriaFacturaBean.refrescarListaAnexos4()}" oncomplete="PF('tablaWidgetListarAnexo4').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelListaAnexo4" style="height:auto;" columns="1" layout="grid">
                                <p:dataTable id="tablaListarAnexo4" widgetVar="tablaWidgetListarAnexo4" var="objAnexo4" value="#{cmAuditoriaFacturaBean.lazyAnexo4}" rowKey="#{objAnexo4.id}"
                                             rows="#{cmAuditoriaFacturaBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             scrollWidth="100%"
                                             emptyMessage="No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{cmAuditoriaFacturaBean.onRowSelectAutorizacion}" />

                                    <p:column style="text-align: center;" exportable="false">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>    
                                        <p:commandButton title="Ver detalles" actionListener="#{cmAuditoriaFacturaBean.verListarAnexo4Items(objAnexo4.id)}" icon="ui-icon-search"/>
                                    </p:column>

                                    <p:column headerText="Número autorización" filterBy="#{objAnexo4.id}">
                                        <f:facet name="filter">
                                            <p:inputText label="Número autorización" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.id}"/>
                                    </p:column>

                                    <p:column headerText="Régimen" filterBy="#{objAnexo4.maeRegimenValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Régimen" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maeRegimenValor}"/>
                                    </p:column>

                                    <p:column headerText="Especialidad" filterBy="#{objAnexo4.maEspecialidadValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Especialidad" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maEspecialidadValor}"/>
                                    </p:column>

                                    <p:column headerText="Prestador" filterBy="#{objAnexo4.cntPrestadorSedeId.cntPrestador.razonSocial}">
                                        <f:facet name="filter">
                                            <p:inputText label="Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.cntPrestadorSedeId.cntPrestador.razonSocial}"/>
                                    </p:column>

                                    <p:column headerText="Nit Prestador" filterBy="#{objAnexo4.cntPrestadorSedeId.cntPrestador.numeroDocumento}">
                                        <f:facet name="filter">
                                            <p:inputText label="Nit Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.cntPrestadorSedeId.cntPrestador.numeroDocumento}"/>
                                    </p:column>

                                    <p:column headerText="Ámbito atención" filterBy="#{objAnexo4.maeAmbitoAtencionValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Ámbito atención" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maeAmbitoAtencionValor}"/>
                                    </p:column>
                                    <p:column headerText="Pago Anticipado" filterBy="#{objAnexo4.pagoAnticipado}" style="text-align: center;">
                                        <f:facet name="filter">
                                            <p:selectOneMenu style="width: 70%;" onchange="PF('tablaWidgetListarAnexo4').filter()">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItem itemLabel="Si" itemValue="1"/>
                                                <f:selectItem itemLabel="No" itemValue="0"/>
                                            </p:selectOneMenu>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.isPagoAnticipado() ? 'Si':'No'}"/>
                                    </p:column>
                                    <p:column headerText="Servicio habilitado" filterBy="#{objAnexo4.maServicioHabilitadoValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Servicio habilitado" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maServicioHabilitadoValor}"/>
                                    </p:column>
                                </p:dataTable>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoListarAnexo4').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Consultar Anexo4 Items" widgetVar="dialogoListarAnexo4Items" appendTo="@(body)" modal="true" width="90%" style="max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmListarAnexo4Items">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{cmAuditoriaFacturaBean.refrescarListaAnexos4Items()}" oncomplete="PF('tablaWidgetListarAnexo4Items').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelListaAnexo4Items" style="height:auto;" columns="1" layout="grid">
                                <p:dataTable id="tablaListarAnexo4Items" widgetVar="tablaWidgetListarAnexo4Items" var="objAnexo4Item" value="#{cmAuditoriaFacturaBean.lazyAnexo4Items}" rowKey="#{objAnexo4Item.id}"
                                             rows="#{cmAuditoriaFacturaBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage="No se encontraron registros" selectionMode="single">

                                    <p:column headerText="Número autorización">
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.id}"/>
                                    </p:column>

                                    <p:column headerText="Id Item" filterBy="#{objAnexo4Item.id}">
                                        <f:facet name="filter">
                                            <p:inputText label="Id Item" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.id}"/>
                                    </p:column>

                                    <p:column headerText="Fecha autorización" sortBy="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}" >
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}" title="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}"/>
                                    </p:column>

                                    <p:column headerText="Prestador" filterBy="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}">
                                        <f:facet name="filter">
                                            <p:inputText label="Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}" title="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}"/>
                                    </p:column>

                                    <p:column headerText="Código servicio" filterBy="#{objAnexo4Item.maTecnologiaCodigo}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.maTecnologiaCodigo}" title="#{objAnexo4Item.maTecnologiaCodigo}"/>
                                    </p:column>

                                    <p:column headerText="Servicio" filterBy="#{objAnexo4Item.maTecnologiaValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.maTecnologiaValor}" title="#{objAnexo4Item.maTecnologiaValor}"/>
                                    </p:column>

                                    <p:column headerText="Cantidad" filterBy="#{objAnexo4Item.cantidadAutorizada}">
                                        <f:facet name="filter">
                                            <p:inputText label="Cantidad" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.cantidadAutorizada}" title="#{objAnexo4Item.cantidadAutorizada}"/>
                                    </p:column>

                                    <p:column headerText="Costo servicio" filterBy="#{objAnexo4Item.costoServicio}">
                                        <f:facet name="filter">
                                            <p:inputText label="Costo servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.costoServicio}" title="#{objAnexo4Item.costoServicio}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>

                                </p:dataTable>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoListarAnexo4Items').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Consultar Contratos" widgetVar="dialogoListarCntContratos" appendTo="@(body)" modal="true" width="90%" style="max-height: 90%;" dynamic="true" onShow="PF('tablaWidgetListarCntContratos').filter()">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmListarCntContratos">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{cmAuditoriaFacturaBean.refrescarCntContratos()}" oncomplete="PF('tablaWidgetListarCntContratos').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelListaAnexo4" columns="1" layout="grid" >
                            <p:row>
                                <p:dataTable id="tablaListarCntContratos" widgetVar="tablaWidgetListarCntContratos" var="cntContrato" value="#{cmAuditoriaFacturaBean.lazyCntContratos}" rowKey="#{cntContrato.id}"
                                             rows="#{cmAuditoriaFacturaBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage="No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{cmAuditoriaFacturaBean.onRowSelectCntContratos}" />

                                    <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>    
                                        <p:commandButton  title="Ver Contrato Sedes" actionListener="#{cmAuditoriaFacturaBean.verContratoSedes(cntContrato.id)}" icon="ui-icon-search"/>
                                    </p:column>

                                    <p:column headerText="Id contato" sortBy="#{cntContrato.id}" style="text-align: center">
                                        <h:outputText value="#{cntContrato.id}"/>
                                    </p:column>

                                    <p:column headerText="Representante legal" filterBy="#{cntContrato.cntPrestador.nombreRepresentanteLegal}" sortBy="#{cntContrato.cntPrestador.nombreRepresentanteLegal}">
                                        <f:facet name="filter">
                                            <p:inputText label="Representante legal" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarCntContratos').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{cntContrato.cntPrestador.nombreRepresentanteLegal}"/>
                                    </p:column>

                                    <p:column headerText="Nit" filterBy="#{cntContrato.cntPrestador.numeroDocumento}" sortBy="#{cntContrato.cntPrestador.numeroDocumento}">
                                        <f:facet name="filter">
                                            <p:inputText label="Nit" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarCntContratos').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{cntContrato.cntPrestador.numeroDocumento}"/>
                                    </p:column>

                                    <p:column headerText="Razón social" filterBy="#{cntContrato.cntPrestador.razonSocial}" sortBy="#{cntContrato.cntPrestador.razonSocial}">
                                        <f:facet name="filter">
                                            <p:inputText label="Razón social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarCntContratos').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{cntContrato.cntPrestador.razonSocial}"/>
                                    </p:column>

                                    <p:column headerText="Contrato" filterBy="#{cntContrato.contrato}" sortBy="#{cntContrato.contrato}" style="text-align: center">
                                        <f:facet name="filter">
                                            <p:inputText label="Contrato" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarCntContratos').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{cntContrato.contrato}"/>
                                    </p:column>
                                    <p:column headerText="Estado Contrato" filterBy="#{cntContrato.maeEstadoContratoValor}" sortBy="#{cntContrato.maeEstadoContratoValor}" style="text-align: center">
                                        <f:facet name="filter">
                                            <p:inputText label="Estado Contrato" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarCntContratos').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{cntContrato.maeEstadoContratoValor}"/>
                                    </p:column>

                                    <p:column headerText="Activo" style="text-align: center">
                                        <h:outputText value="#{cntContrato.activoStr}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoListarCntContratos').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Agregar Capita Descuento " widgetVar="dialogoAgregarCapitaDescuento" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmAgregarCapitaDescuento">
                        <p:panelGrid id="panelDiagnosticoLista" columns="2" layout="grid" styleClass="showcase-text-align-center" >

                            <p:outputLabel value="Id contrato" for="idContrato" style="font-weight:bold"/>
                            <p:inputText id="idContrato" label="Id contrato" value="#{cmAuditoriaFacturaBean.cmAuditoriaCapitaDescuento.cntContrato.id}" size="20" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Contrato" for="contrato" style="font-weight:bold"/>
                            <p:inputText id="contrato" label="Contrato" value="#{cmAuditoriaFacturaBean.cmAuditoriaCapitaDescuento.contrato}" size="20" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Observación " for="observacion" style="font-weight:bold"/>
                            <h:inputTextarea id="observacion" value="#{cmAuditoriaFacturaBean.cmAuditoriaCapitaDescuento.observacion}" style="width: 100%;"/>

                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar" actionListener="#{cmAuditoriaFacturaBean.agregarCapitaDescuento()}"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAgregarCapitaDescuento').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Agregar diagnóstico" widgetVar="dialogoEditarDiagnostico" appendTo="@(body)" modal="true" style="max-height: 90%;" width="75%" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmEditarDiagnostico">
                        <p:panelGrid id="panelDiagnosticoLista" columns="4"
                                     layout="grid" >
                            <p:row>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Código" for="codigoEditarDiangostico" style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <p:inputText id="codigoEditarDiangostico" label="Código" value="#{cmAuditoriaFacturaBean.cmAuditoriaDiagnostico.maDiagnosticoCodigo}" size="20" maxlength="62" disabled="true"></p:inputText>
                                </p:column>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Nombre" for="nombreEditarDiangostico" style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <p:inputText id="nombreEditarDiangostico" label="Nombre" value="#{cmAuditoriaFacturaBean.cmAuditoriaDiagnostico.maDiagnosticoValor}"  maxlength="62" disabled="true"></p:inputText>
                                </p:column>
                            </p:row>
                            
                            <p:row>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Categoría nombre" for="tipDiagEditarDiangostico" style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <p:inputText id="tipDiagEditarDiangostico" label="Categoría nombre" value="#{cmAuditoriaFacturaBean.cmAuditoriaDiagnostico.maDiagnosticoCaretoriaNombre}" maxlength="62" disabled="true"></p:inputText>
                                </p:column>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Principal" for="principalEditarDiangostico" style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <p:selectBooleanCheckbox id="principalEditarDiangostico" label="Es Principal" value="#{cmAuditoriaFacturaBean.cmAuditoriaDiagnostico.principal}"/>
                                </p:column>
                            </p:row>
                            
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar" actionListener="#{cmAuditoriaFacturaBean.agregarDiagnostico()}"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEditarDiagnostico').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Confirmar selección autorización" widgetVar="dialogoEditarAutorizacion" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmEditarAutorizacion">
                        <p:panelGrid id="panelAutorizacion" columns="4"
                                     layout="grid">
                            <p:row>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Código Servicio"  style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <h:outputText value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.codigoServicio}"/>
                                </p:column>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Servicio"  style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <h:outputText value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.nombreServicio}"/>
                                </p:column>
                            </p:row>
                           
                            <p:row>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Número autorización"  style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <h:outputText value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.anexo4.id}"/>
                                </p:column>
                                <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Fecha autorización"  style="font-weight:bold"/>
                                </p:column>
                                <p:column styleClass=" ui-g-3" >
                                    <h:outputText value="#{cmAuditoriaFacturaBean.cmAuditoriaAutorizacion.fechaAutorizacion}"/>
                                </p:column>
                            </p:row>
                            
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar" actionListener="#{cmAuditoriaFacturaBean.agregarAutorizacion()}" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEditarAutorizacion').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>   

            <p:dialog  widgetVar="dialogoVerSeleccionOperacionMasiva" header="Selección operación masiva" appendTo="@(body)" position="center" width="70%" modal="true" style="max-height:34%;">
                <p:scrollPanel mode="native" style="height:350px">
                    <h:form id="frmVerSeleccionOperacionMasiva">
                        <p:panel id="pUsuarios" style="margin-bottom:10px;" collapsed="false" toggleable="false">
                            <f:facet name="header">
                                <h:outputLabel value="Seleccionar tipo operación masiva"></h:outputLabel>
                            </f:facet>
                            <p:panelGrid id="panelSeleccionOperacion" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo Operación" for="tipoOperacion"  style="font-weight:bold"	/>
                                <p:selectOneMenu id="tipoOperacion" value="#{cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion}" required="true" requiredMessage="Tipo Operación : Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Gestión Item" itemValue="1" />
                                    <f:selectItem itemLabel="Descuento Capita" itemValue="2" />
                                    <f:selectItem itemLabel="Levantamiento Motivos" itemValue="3" />
                                    <f:selectItem itemLabel="Levantamiento Motivos Especificos" itemValue="12" />
                                    <f:selectItem itemLabel="Levantamiento Descuento Capita" itemValue="11" />
                                    <f:selectItem itemLabel="Levantamiento Conceptos Contables" itemValue="4" />
                                    <f:selectItem itemLabel="Levantamiento Diagnosticos" itemValue="6" />
                                    <f:selectItem itemLabel="Levantamiento Autorizaciones" itemValue="9" />
                                    <f:selectItem itemLabel="Gestión Conceptos/Motivos/Diagnosticos MultiUsuario" itemValue="5" />
                                    <f:selectItem itemLabel="Copago No Efectivo - Marcar " itemValue="14" />
                                    <f:selectItem itemLabel="Copago No Efectivo - Desmarcar " itemValue="15" />
                                    <p:ajax update="frmVerSeleccionOperacionMasiva:panelControlOperacionesMasiva" />
                                </p:selectOneMenu>

                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid id="panelControlOperacionesMasiva" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Realizar Operación" process="@form" 
                                                         action="#{cmAuditoriaFacturaBean.ejercutarOperacionMasiva()}" style="margin-left: 5px;" 
                                                         rendered="#{cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 1 or 
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 2 or 
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 14 or 
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 15 or 
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 5 }"/>

                                        <p:commandButton title="Realizar Levantamiento" process="@form"  action="#{cmAuditoriaFacturaBean.ejercutarOperacionMasiva()}" value="Realizar Levantamiento" icon="ui-icon-trash"
                                                         rendered="#{cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 3 or
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 4 or
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 6 or
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 9 or
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 11 or
                                                                     cmAuditoriaFacturaBean.cmSelectorOperacionaMasiva.tipoOperacion == 12 }" >
                                            <p:confirm header="Confirmación" message="Está seguro que desea realizar el levantamiento?" icon="ui-icon-alert" />
                                        </p:commandButton>

                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerSeleccionOperacionMasiva').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog  widgetVar="dialogoConfirmarCierreAuditoria" header="Confirmar Auditoría" appendTo="@(body)" responsive="true" modal="true" width="80%" style="max-height: 80%">
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmConfirmarCierre">
                        <p:panel id="panelMensajeCierre" style="margin-bottom:10px;" collapsed="false" toggleable="false">
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid" >

                                <p:outputLabel value="Estado factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>

                                <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>

                                <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>

                                <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>

                                <p:outputLabel value="Fecha prestación " style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>

                                <p:outputLabel value="Modalidad contrato" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>

                                <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                </h:outputText>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>

                                <p:outputLabel value="Valor Inicial Glosa" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorInicialGlosa}" title="#{cmAuditoriaFacturaBean.objeto.valorInicialGlosa}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="2"/>
                                </h:outputText>

                                <p:outputLabel value="Valor Pagado" style="font-weight:bold"/>
                                <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorPagadoFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorPagadoFactura}">
                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="2"/>
                                </h:outputText>

                                <p:outputLabel value="Número contrato" style="font-weight:bold"/>
                                <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroContrato}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid id="panelFooterCierre" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton title="Realizar Cierre Auditoría" process="@form"  action="#{cmAuditoriaFacturaBean.guardarEstadoAuditoria()}" value="Realizar Cierre Auditoría" icon="ui-icon-script">
                                            <p:confirm header="Confirmación" message="Está seguro que desea cerrar auditoría?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoConfirmarCierreAuditoria').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="dialogoVerAuditoriaServicio" header="Auditoría de servicio" appendTo="@(body)" responsive="true" modal="true" width="90%" style="max-height: 90%">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmVerAuditoriaServicio">
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                        </p:confirmDialog>
                        <p:panel id="panelVerFacturaItem" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver Factura"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosFactura" columns="4"
                                         layout="grid">
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Estado Factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                    </p:column>
                                </p:row>
                                                            
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                    </p:column>
                                </p:row>
                                                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Tipo contrato" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                    </p:column>
                                </p:row>
                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                    <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                             <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                                    <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                            </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Pbs" style="font-weight:bold"></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="color:red;font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                    </p:column>
                                </p:row>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelVerServicio" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Servicio"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosServicio" columns="4"
                                         layout="grid">
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Documento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                    </p:column>
                                </p:row>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="panelGestionGlosaItem" header="Conceptos Contables" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="concepto" value="#{cmAuditoriaFacturaBean.registrosConceptoContable}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaConceptos" lazy="false"
                                         widgetVar="tablaWidgetConceptos"
                                         style="font-size:11px;"
                                         rowKey="#{concepto.id}" >
                                <p:column  headerText="Concepto Contable" sortBy="#{concepto.maestroConceptos.id}">
                                    <h:outputText value="#{concepto.maestroConceptos.nombre}" title="#{concepto.maestroConceptos.nombre}"/>
                                </p:column>
                                <p:column  headerText="Centro Costo">
                                    <h:outputText value="#{concepto.maestroCentroCosto.nombre}" title="#{concepto.maestroCentroCosto.nombre}"/>
                                </p:column>
                                <p:column  headerText="Ubicación" sortBy="#{concepto.municipioAfiliado}">
                                    <h:outputText value="#{concepto.municipioAfiliado}" title="#{concepto.municipioAfiliado}"/>
                                </p:column>
                                <p:column  headerText="Porcentaje" sortBy="#{concepto.porcentaje}">
                                    <h:outputText value="#{concepto.porcentaje}" title="#{concepto.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column  headerText="Auditoría" style="text-align: center;">
                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(concepto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                </p:column>                              
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="panelDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Diagnóstico"></h:outputLabel>
                            </f:facet>
                            <p:panel id="pDiagnosticoCrear" header="Diagnósticos Opcionales" style="margin-bottom:10px;" collapsed="false" toggleable="true">        
                                <p:dataTable var="diagnostico" value="#{cmAuditoriaFacturaBean.registrosAuditoriaDiagnostico}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaDiagnosticosCrear" lazy="false"
                                             widgetVar="tablaWidgetListaDiagnosticos"
                                             style="font-size:11px;"
                                             rowKey="#{diagnostico.id}" >
                                    <p:column headerText="Código">
                                        <h:outputText value="#{diagnostico.maDiagnosticoCodigo}" />
                                    </p:column>
                                    <p:column headerText="Nombre">
                                        <h:outputText value="#{diagnostico.maDiagnosticoValor}" />
                                    </p:column>
                                    <p:column headerText="Es principal">
                                        <h:outputText value="#{diagnostico.principalStr}" />
                                    </p:column>
                                    <p:column headerText="Auditoría" style="text-align: center;">
                                        <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(diagnostico.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                        </p:panel>

                        <p:panel id="panelVerMotivos" header="Motivos" style="margin-bottom:10px;" collapsed="false" toggleable="true">  
                            <p:dataTable var="motivo" value="#{cmAuditoriaFacturaBean.registrosAuditoriaMotivoGlosa}" paginator="false" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaMotivos" lazy="false"
                                         widgetVar="tablaWidgetMotivos"
                                         style="font-size:11px;"
                                         rowKey="#{motivo.id}" >     
                                <p:column  headerText="Motivo glosa" sortBy="#{motivo.maestroMotivo.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivo.nombre}" title="#{motivo.maestroMotivo.nombre}"/>
                                </p:column>
                                <p:column  headerText="Motivo específico" sortBy="#{motivo.maestroMotivoEspecifico.nombre}">
                                    <h:outputText value="#{motivo.maestroMotivoEspecifico.nombre}" title="#{motivo.maestroMotivoEspecifico.nombre}"/>
                                </p:column>
                                
                                <p:column  headerText="Motivo aplicación" sortBy="#{motivo.maestroMotivoAplicacion.nombre}">
                                    <h:outputText value="#{motivo.motivoAplicacionCorto}" title="#{motivo.motivoAplicacionCorto}"/>
                                    <p:commandButton rendered="#{motivo.esMotivoAplicacionExtenso}" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.motivoAplicacionCompleto)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                                <p:column  headerText="Tipología" sortBy="#{motivo.tipologia}" style="text-align: center;">
                                    <h:outputText value="#{motivo.tipologiaStr}" title="#{motivo.tipologiaStr}"/>
                                </p:column>  

                                <p:column  headerText="Porcentaje" sortBy="#{motivo.porcentaje}" style="text-align: center;">
                                    <h:outputText value="#{motivo.porcentaje}" title="#{motivo.porcentaje}">
                                        <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                    </h:outputText>
                                </p:column>  

                                <p:column  headerText="Observación">
                                    <h:outputText value="#{motivo.observacionCorto}" title="#{motivo.observacionCorto}"/>
                                    <p:commandButton rendered="#{motivo.observacionCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.observacion)}" icon="ui-icon-comment" title="Ver completo"/> 
                                </p:column>

                                <p:column headerText="Auditoría" style="text-align: center;">
                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(motivo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />                               
                                </p:column>
                            </p:dataTable>
                        </p:panel>                        

                        <p:panel id="panelVerAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="autorizacion" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAutorizacion}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >

                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.codigoServicio}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.codigoServicio}" title="#{autorizacion.codigoServicio}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.nombreServicio}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.nombreServicio}" title="#{autorizacion.nombreServicio}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.razonSocialPrestador}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.razonSocialPrestador}" title="#{autorizacion.razonSocialPrestador}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.nitPrestador}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.nitPrestador}" title="#{autorizacion.nitPrestador}"/>
                                </p:column>
                                <p:column  headerText="Id Anexo 4" sortBy="#{autorizacion.anexo4.id}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.anexo4.id}" title="#{autorizacion.anexo4.id}"/>
                                </p:column>
                                <p:column  headerText="Pago Anticipo" sortBy="#{autorizacion.anexo4.pagoAnticipado}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.anexo4.pagoAnticipado ? 'Si' :'No'}" title="#{autorizacion.anexo4.pagoAnticipado? 'Si' :'No'}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>                                                          
                            </p:dataTable>
                        </p:panel>
                        
                         <p:panel id="panelVerContratos" header="Descuento Capita" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                             <p:dataTable var="descuentoC" value="#{cmAuditoriaFacturaBean.registrosAuditoriaCapitaDescuento}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaCapitaDescuento" lazy="false"
                                         widgetVar="tablaWidgetCapitaDescuento"
                                         style="font-size:11px;"
                                         rowKey="#{descuentoC.id}" >

                                <p:column  headerText="Número contrato" style="text-align: center">
                                    <h:outputText value="#{descuentoC.contrato}" title="#{descuentoC.contrato}"/>
                                </p:column>

                                <p:column  headerText="Nit" style="text-align: center">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}" title="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}"/>
                                </p:column>

                                <p:column  headerText="Razón social">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.razonSocial}" title="#{descuentoC.cntContrato.cntPrestador.razonSocial}"/>
                                </p:column>

                                <p:column  headerText="Representante legal">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.nombreRepresentanteLegal}" title="#{descuentoC.cntContrato.cntPrestador.nombreRepresentanteLegal}"/>
                                </p:column>

                                <p:column  headerText="Número documento prestador">
                                    <h:outputText value="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}" title="#{descuentoC.cntContrato.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Estado contrato" style="text-align: center">
                                    <h:outputText value="#{descuentoC.cntContrato.maeEstadoContratoValor}" title="#{descuentoC.cntContrato.maeEstadoContratoValor}"/>
                                </p:column>
                                <p:column  headerText="Marcación" style="text-align: center">
                                    <h:outputText value="#{descuentoC.marcacionStr}" title="#{descuentoC.cntContrato.diasLimitePago}"/>
                                </p:column>
                                <p:column  headerText="Fecha Inicio">
                                    <h:outputText value="#{descuentoC.cntContrato.fechaInicio}" title="#{descuentoC.cntContrato.fechaInicio}"/>
                                </p:column>
                                <p:column  headerText="Fecha Fin">
                                    <h:outputText value="#{descuentoC.cntContrato.fechaFin}" title="#{descuentoC.cntContrato.fechaFin}"/>
                                </p:column>
                                <p:column  headerText="Observación">
                                    <h:outputText value="#{descuentoC.observacionCorto}" />
                                    <p:commandButton rendered="#{descuentoC.observacionCorto.length() > 1 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(descuentoC.observacion)}" icon="ui-icon-comment" title="Ver completo"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel widgetVar="panelVerAdjuntosCmDetalles" id="panelVerAdjuntosCmDetalles" header="Adjuntos Detalle" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaAdjuntosCmDetalles" var="adjunto" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAdjutoCmDetalle}" widgetVar="tablaWidgetAdjuntosCmDetalles" scrollable="true" emptyMessage="No se encontraron registros">
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton rendered="#{adjunto.id != null}" title="Descargar" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                                        <p:fileDownload value="#{cmAuditoriaFacturaBean.descargarAdjunto(adjunto)}" />
                                    </p:commandButton>  
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{adjunto.archivoNombre}"/>
                                </p:column>
                                <p:column headerText="Tipo"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.tipoStr}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{adjunto.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="F.H. Crea"  style="text-align: center;">
                                    <h:outputText value="#{adjunto.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>

                        </p:panel>

                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerAuditoriaServicio').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Transacciones" widgetVar="dialogoVerTransacciones" appendTo="@(body)" modal="true" width="80%" height="90%">
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmVerTransacciones">
                        <p:dataTable id="wstransacciones" rowsPerPageTemplate="10,30,50,100" paginator="true" rows="10"  var="wsCmTransaccionDetalle"  widgetVar="wsCmTransaccionDetalle" value="#{cmAuditoriaFacturaBean.listaWsCmTransaccionDetalle}" scrollable="true"  style="margin-bottom:20px;font-size:13px;">
                            <f:facet name="header">
                                Transacciones
                            </f:facet>
                            <p:column headerText="Id Radicado" style="text-align: center">
                                <h:outputText value="#{wsCmTransaccionDetalle.wsCmTransaccion.cmRadicado.id}" />
                            </p:column>
                            <p:column headerText="Id Transacción" style="text-align: center">
                                <h:outputText value="#{wsCmTransaccionDetalle.wsCmTransaccion.id}" />
                            </p:column>
                            <p:column headerText="Estado Transacción" sortBy="#{wsCmTransaccionDetalle.estado}" style="text-align: center">
                                <h:outputText value="#{wsCmTransaccionDetalle.estadoStr}" />
                            </p:column>
                            <p:column headerText="Código Retorno" sortBy="#{wsCmTransaccionDetalle.codigoRetorno}" style="text-align: center">
                                <h:outputText value="#{wsCmTransaccionDetalle.codigoRetorno}" />
                            </p:column>
                            <p:column headerText="Código Respuesta" sortBy="#{wsCmTransaccionDetalle.codigoRespuesta}" style="text-align: center">
                                <h:outputText value="#{wsCmTransaccionDetalle.codigoRespuesta}" />
                            </p:column>

                            <p:column headerText="Json Enviado" style="text-align: center;">
                                <p:commandButton  title="Ver Json Enviado"
                                                  actionListener="#{cmAuditoriaFacturaBean.verJson( 'Json Enviado ' ,wsCmTransaccionDetalle.jsonEnvioStr, wsCmTransaccionDetalle.fechaHoraEnvio)}" 
                                                  icon="ui-icon-search" />
                            </p:column>
                            <p:column headerText="Json Recibido" style="text-align: center;">
                                <p:commandButton  title="Ver Json Recibido"
                                                  actionListener="#{cmAuditoriaFacturaBean.verJson( 'Json Recibido' , wsCmTransaccionDetalle.jsonRespuestaStr, wsCmTransaccionDetalle.fechaHoraEnvio)}" 
                                                  icon="ui-icon-search" />
                            </p:column>
                            <p:column headerText="Fecha Envío">
                                <h:outputText value="#{wsCmTransaccionDetalle.fechaHoraEnvio}" />
                            </p:column>
                            <p:column headerText="Mensaje Respuesta" sortBy="#{wsCmTransaccionDetalle.mensajeRespuesta}">
                                <h:outputText value="#{wsCmTransaccionDetalle.mensajeRespuesta}" />
                            </p:column>

                        </p:dataTable>
                        <p:panelGrid style="width:100%;margin:10px;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerTransacciones').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Json " id="dialogoVerJson" widgetVar="dialogoVerJson" appendTo="@(body)" modal="true" dynamic="true">
                <h:form id="frmVerJson" style="height: 500px;">
                    <p:panelGrid id="panelVerJson" columns="4" layout="grid" styleClass="showcase-text-align-center" >                   
                        <p:row>
                            <p:column styleClass="ui-widget-header ui-g-3" >
                                <h:outputText value="Tipo Json" style="font-weight:bold"/>
                            </p:column>
                            <p:column styleClass="ui-g-3" >
                                <h:outputText value="#{cmAuditoriaFacturaBean.jsonMostrable.tituloJsonMensaje}" />
                            </p:column>
                            <p:column styleClass="ui-widget-header ui-g-3" >
                                 <h:outputText value="Fecha Envío" style="font-weight:bold" />
                            </p:column>
                            <p:column styleClass="ui-g-3" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.jsonMostrable.fechaEnvio}" />
                            </p:column>
                        </p:row>                      
                        <p:row>
                            <p:column styleClass="ui-g-12" >
                                <p:inputTextarea cols="150" value="#{cmAuditoriaFacturaBean.jsonMostrable.jsonContenido}" readonly="true" style="max-height: 350px; overflow: scroll;"/>
                           </p:column>
                        </p:row>
                    </p:panelGrid>                     
                     <p:panelGrid style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="4" style="text-align: center">
                                    <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerJson').hide()" immediate="true"/>
                                </p:column>
                            </p:row>
                        </f:facet>  
                    </p:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog header="Ver Programas " id="dialogoVerProgramas" widgetVar="dialogoVerProgramas" appendTo="@(body)" modal="true" dynamic="true" width="80%" height="90%">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmVerProgramas" style="height: 400px;">
                        <p:panel id="panelVerInfoBasica" header="Novedades" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Información básica"></h:outputLabel>
                            </f:facet>

                            <p:panel id="pnlAfiliado" header="Datos afiliado" style="margin-bottom:10px;" toggleable="true" rendered="#{cmAuditoriaFacturaBean.afiliadoCompleto.id > 0}" >
                                <p:panelGrid id="panelAfiliado" columns="4"
                                             columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid" >

                                    <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.maeTipoDocumentoValor}"/>                                        

                                    <p:outputLabel value="Número Documento" for="txtNumeroDocumento" style="font-weight:bold"/>
                                    <p:outputLabel id="txtNumeroDocumento" value="#{cmAuditoriaFacturaBean.afiliadoCompleto.numeroDocumento}" style="width: 181px;"/>

                                    <p:outputLabel value="Fecha Nacimiento" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.fechaNacimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                    </p:outputLabel>

                                    <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.nombres}"/>

                                    <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.apellidos}"/>

                                    <p:outputLabel value="Género" style="font-weight:bold"/>
                                    <h:outputText value="#{cmAuditoriaFacturaBean.afiliadoCompleto.maeGeneroValor}"/>

                                    <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.maeRegimenValor}"/>

                                    <p:outputLabel value="Estado Afiliación" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.maeEstadoAfiliacionValor}"/>

                                    <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.direccionResidencia}"/>

                                    <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.telefonoFijo}"/>

                                    <p:outputLabel value="Celular" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.afiliadoCompleto.telefonoMovil}"/>

                                    <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.getUbicacionRecursiva(cmAuditoriaFacturaBean.afiliadoCompleto.afiliacionUbicacion.id)}"/>

                                </p:panelGrid>
                            </p:panel>  
                            <p:panel id="panelAfiliadoPrograma" header="Programas" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                <p:dataTable var="obj" value="#{cmAuditoriaFacturaBean.lazyAfiliadosPrograma}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                             emptyMessage="No se encontraron registros"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                             widgetVar="tablaWidget"
                                             style="font-size:11px;"
                                             scrollable="true"
                                             scrollWidth="100%"
                                             rowKey="#{obj.id}" reflow="true">
                                    <p:column headerText="Acciones" style="text-align: center;">
                                        <p:commandButton  title="Ver información programa" actionListener="#{cmAuditoriaFacturaBean.verProgramaEspecificoPorAfiliado(obj)}" icon="ui-icon-search"/>
                                    </p:column>
                                    <p:column headerText="Causa Activo Valor">
                                        <h:outputText value="#{obj.maeCausaActivoValor}" title="#{obj.maeCausaActivoValor}"/>
                                    </p:column>
                                    <p:column headerText="Diagnósticos">
                                        <h:outputText style="cursor: help;" value="1. #{obj.maDiagnosticoPrincipalCodigo}" title="#{obj.maDiagnosticoPrincipalValor}" /><br/>
                                        <h:outputText style="cursor: help;" value="2. #{obj.maDiagnostico2Codigo}" title="#{obj.maDiagnostico2Valor}" rendered="#{obj.maDiagnostico2Valor != '' and obj.maDiagnostico2Valor  != null}" /><br/>
                                        <h:outputText style="cursor: help;" value="3. #{obj.maDiagnostico3Codigo}" title="#{obj.maDiagnostico3Valor}" rendered="#{obj.maDiagnostico3Valor != '' and obj.maDiagnostico3Valor  != null}"/>
                                    </p:column>
                                    <p:column headerText="Fecha Ingreso">                    
                                        <h:outputText value="#{obj.fechaInicioPrograma}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                        </h:outputText>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>
                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="4" style="text-align: center">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerProgramas').hide()" immediate="true"/>
                                        </p:column>
                                    </p:row>
                                </f:facet>  
                            </p:panelGrid>                            
                        </p:panel>

                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Programa " id="dialogoVerProgramaEspecifico" widgetVar="dialogoVerProgramaEspecifico" appendTo="@(body)" modal="true" dynamic="true" width="60%" style="max-height:75%;" >
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmVerProgramaEspecifico" style="height: 400px;">
                        <p:panel id="pnlMatricula" header="Matricula Programa Especial" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         layout="grid" >

                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Programa Especial - Código" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.pePrograma.descripcionPrograma} - 
                                               #{cmAuditoriaFacturaBean.peAfiliadosPrograma.pePrograma.codigoPrograma}"/>                                        

                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Responsable Programa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.gnUsuario.nombre}" />
                                    </p:column>
                                </p:row>
                                                           
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Ips Programa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.cntPrestadorSede.nombreSede}"  />
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha Inicio Programa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.fechaInicioPrograma}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </h:outputText>
                                    </p:column>
                                </p:row>
                                                                                              
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha Fin Programa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.fechaFinPrograma}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Diagnósticos" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText style="cursor: help;" value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maDiagnosticoPrincipal.maeDiagnosticoCategoriaValor}" title="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maDiagnosticoPrincipal.maeDiagnosticoCategoriaValor}" />
                                    </p:column>
                                </p:row>
                                                                                              
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Fecha Diagnóstico" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <h:outputText value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.fechaDiagnostico}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Región Corporal" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maeRegionCorporalValor}"/>
                                    </p:column>
                                </p:row>
                                                               
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Medio Diagnóstico" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maeMedioDxValor}"/>
                                    </p:column>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Activo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-3" >
                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.activo == true? 'Si':'No'}"/>
                                    </p:column>
                                </p:row>
                                                             
                                <p:row>
                                    <p:column styleClass="ui-widget-header ui-g-3">
                                        <p:outputLabel value="Causa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column styleClass=" ui-g-6" >
                                        <p:outputLabel rendered="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.activo}" value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maeCausaActivoValor}"/>
                                        <p:outputLabel rendered="#{!cmAuditoriaFacturaBean.peAfiliadosPrograma.activo}" value="#{cmAuditoriaFacturaBean.peAfiliadosPrograma.maeCausaInactivoValor}"/>
                                    </p:column>
                                </p:row>
                                
                            </p:panelGrid>                        
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerProgramaEspecifico').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>  
                        </p:panelGrid> 
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Novedades Generales" id="dialogoConfiguracionesGenerales" widgetVar="dialogoConfiguracionesGenerales" appendTo="@(body)"  position="center" width="90%" modal="true" style="max-height:90%;">
                <p:scrollPanel mode="native" style="height:70vh">
                    <p:tabView id="TabAuditoria">
                        <p:ajax event="tabChange" listener="#{cmAuditoriaFacturaBean.onTabChange}"/>
                        <p:tab title="Ver Novedades de Servicio" id ="Tab3_Configuraciones" >
                            <p:scrollPanel mode="native">
                                <h:form id="frmVerAuditoriaServicioTab">
                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                                    </p:confirmDialog>
                                    <p:panel id="panelVerFacturaItem" header="Factura" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <f:facet name="header">
                                            <h:outputLabel value="Ver Factura"></h:outputLabel>
                                        </f:facet>
                                        <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                            <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                        </p:outputPanel>
                                        <p:panelGrid id="panelDatosFactura" columns="4"
                                                     layout="grid" >

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Estado Factura" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.estadoFacturaStr}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Número radicado" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroRadicado}"/>
                                                </p:column>
                                            </p:row>

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Número factura" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Fecha radicación" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaRadicacion}"/>
                                                </p:column>
                                            </p:row>

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.fechaPrestacion}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Tipo contrato" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeTipoContratoValor}"/>
                                                </p:column>
                                            </p:row>

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor factura" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorFactura}" title="#{cmAuditoriaFacturaBean.objeto.valorFactura}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor copago" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCopago}" title="#{cmAuditoriaFacturaBean.objeto.valorCopago}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:row>
                                                                                       
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor bruto" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorBruto}" title="#{cmAuditoriaFacturaBean.objeto.valorBruto}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Cuota moderadora"  style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                         <h:outputText value="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}" title="#{cmAuditoriaFacturaBean.objeto.valorCuotaModeradora}">
                                                                <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                </p:column>
                                            </p:row>

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Responsable del pago" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.responsablePago}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objeto.maeRegimenValor}"/>
                                                </p:column>
                                            </p:row>
                                                                                     
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Pbs" style="font-weight:bold"></p:outputLabel>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText style="color:red; font-weight:bold;" value="#{cmAuditoriaFacturaBean.objeto.pbs?'Si':'No'}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Versión"  style="font-weight:bold" ></p:outputLabel>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objeto.versionStr}"/>
                                                </p:column>
                                            </p:row>
                                                                                       
                                        </p:panelGrid>
                                    </p:panel>
                                    <p:panel id="panelVerServicio" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <f:facet name="header">
                                            <h:outputLabel value="Servicio"></h:outputLabel>
                                        </f:facet>
                                        <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                            <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                        </p:outputPanel>
                                        <p:panelGrid id="panelDatosServicio" columns="4"
                                                     layout="grid" >

                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Documento" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>
                                                </p:column>
                                            </p:row>
                                                                                      
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>
                                                </p:column>
                                            </p:row>
                                                                                    
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>
                                                </p:column>
                                            </p:row>
                                                                                     
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:row>
                                         
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:row>
                                                                                     
                                            <p:row>
                                                <p:column styleClass="ui-widget-header ui-g-3">
                                                    <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                                </p:column>
                                                <p:column styleClass=" ui-g-3" >
                                                    <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                                </p:column>                          
                                            </p:row>

                                        </p:panelGrid>
                                    </p:panel>
                                    <p:panel id="panelGestionGlosaItem" header="Conceptos Contables" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <p:dataTable var="concepto" value="#{cmAuditoriaFacturaBean.registrosConceptoContable}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                                     emptyMessage="No se encontraron registros"
                                                     currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     rowsPerPageTemplate="5,10,30,50,100" id="tablaConceptos" lazy="false"
                                                     widgetVar="tablaWidgetConceptos"
                                                     style="font-size:11px;"
                                                     rowKey="#{concepto.id}" >
                                            <p:column  headerText="Concepto Contable" sortBy="#{concepto.maestroConceptos.id}">
                                                <h:outputText value="#{concepto.maestroConceptos.nombre}" title="#{concepto.maestroConceptos.nombre}"/>
                                            </p:column>
                                            <p:column  headerText="Centro Costo">
                                                <h:outputText value="#{concepto.maestroCentroCosto.nombre}" title="#{concepto.maestroCentroCosto.nombre}"/>
                                            </p:column>
                                            <p:column  headerText="Ubicación" sortBy="#{concepto.municipioAfiliado}">
                                                <h:outputText value="#{concepto.municipioAfiliado}" title="#{concepto.municipioAfiliado}"/>
                                            </p:column>
                                            <p:column  headerText="Porcentaje" sortBy="#{concepto.porcentaje}">
                                                <h:outputText value="#{concepto.porcentaje}" title="#{concepto.porcentaje}">
                                                    <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                                </h:outputText>
                                            </p:column>   
                                            <p:column  headerText="Auditoría" style="text-align: center;">
                                                <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(concepto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                            </p:column>                              
                                        </p:dataTable>
                                    </p:panel>
                                    <p:panel id="panelDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <f:facet name="header">
                                            <h:outputLabel value="Diagnóstico"></h:outputLabel>
                                        </f:facet>
                                        <p:panel id="pDiagnosticoCrear" header="Diagnósticos Opcionales" style="margin-bottom:10px;" collapsed="false" toggleable="true">        
                                            <p:dataTable var="diagnostico" value="#{cmAuditoriaFacturaBean.registrosAuditoriaDiagnostico}" paginator="false" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                                         emptyMessage="No se encontraron registros"
                                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaDiagnosticosCrear" lazy="false"
                                                         widgetVar="tablaWidgetListaDiagnosticos"
                                                         style="font-size:11px;"
                                                         rowKey="#{diagnostico.id}" >
                                                <p:column headerText="Código" style="text-align: center;">
                                                    <h:outputText value="#{diagnostico.maDiagnosticoCodigo}" />
                                                </p:column>
                                                <p:column headerText="Nombre">
                                                    <h:outputText value="#{diagnostico.maDiagnosticoValor}" />
                                                </p:column>
                                                <p:column headerText="Es principal" style="text-align: center;">
                                                    <h:outputText value="#{diagnostico.principalStr}" />
                                                </p:column>
                                                <p:column headerText="Auditoría" style="text-align: center;">
                                                    <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(diagnostico.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                                </p:column>
                                            </p:dataTable>
                                        </p:panel>
                                    </p:panel>

                                    <p:panel id="panelVerMotivos" header="Motivos" style="margin-bottom:10px;" collapsed="false" toggleable="true">  
                                        <p:dataTable var="motivo" value="#{cmAuditoriaFacturaBean.registrosAuditoriaMotivoGlosa}" paginator="false" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                                     emptyMessage="No se encontraron registros"
                                                     currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     rowsPerPageTemplate="5,10,30,50,100" id="tablaMotivos" lazy="false"
                                                     widgetVar="tablaWidgetMotivos"
                                                     style="font-size:11px;"
                                                     rowKey="#{motivo.id}" >     
                                            <p:column  headerText="Motivo glosa" sortBy="#{motivo.maestroMotivo.nombre}">
                                                <h:outputText value="#{motivo.maestroMotivo.nombre}" title="#{motivo.maestroMotivo.nombre}"/>
                                            </p:column>
                                            <p:column  headerText="Motivo específico" sortBy="#{motivo.maestroMotivoEspecifico.nombre}">
                                                <h:outputText value="#{motivo.maestroMotivoEspecifico.nombre}" title="#{motivo.maestroMotivoEspecifico.nombre}"/>
                                            </p:column>
                                            <p:column  headerText="Motivo aplicación" sortBy="#{motivo.maestroMotivoAplicacion.nombre}">
                                               <h:outputText value="#{motivo.motivoAplicacionCorto}" title="#{motivo.motivoAplicacionCorto}"/>
                                               <p:commandButton rendered="#{motivo.esMotivoAplicacionExtenso}" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.motivoAplicacionCompleto)}" icon="ui-icon-comment" title="Ver completo"/> 
                                            </p:column>

                                            <p:column  headerText="Tipología" sortBy="#{motivo.tipologia}">
                                                <h:outputText value="#{motivo.tipologiaStr}" title="#{motivo.tipologiaStr}"/>
                                            </p:column>  

                                            <p:column  headerText="Porcentaje" sortBy="#{motivo.porcentaje}">
                                                <h:outputText value="#{motivo.porcentaje}" title="#{motivo.porcentaje}">
                                                    <f:convertNumber locale="es_CO" currencySymbol="%" type="currency" maxFractionDigits="2"/>
                                                </h:outputText>
                                            </p:column>  

                                            <p:column  headerText="Observación">
                                                <h:outputText value="#{motivo.observacionCorto}" title="#{motivo.observacionCorto}"/>
                                                <p:commandButton rendered="#{motivo.observacionCorto.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(motivo.observacion)}" icon="ui-icon-comment" title="Ver completo"/> 
                                            </p:column>

                                            <p:column headerText="Auditoría" style="text-align: center;">
                                                <p:commandButton class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(motivo.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />                               
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>                        

                                    <p:panel id="panelVerAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <p:dataTable var="autorizacion" value="#{cmAuditoriaFacturaBean.registrosAuditoriaAutorizacion}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                                     emptyMessage="No se encontraron registros"
                                                     currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     rowsPerPageTemplate="5,10,30,50,100" id="tablaAutorizaciones" lazy="false"
                                                     widgetVar="tablaWidgetAutorizacion"
                                                     style="font-size:11px;"
                                                     rowKey="#{autorizacion.id}" >

                                            <p:column  headerText="Código servicio" sortBy="#{autorizacion.codigoServicio}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.codigoServicio}" title="#{autorizacion.codigoServicio}"/>
                                            </p:column>
                                            <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                            </p:column>
                                            <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.nombreServicio}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.nombreServicio}" title="#{autorizacion.nombreServicio}"/>
                                            </p:column>
                                            <p:column  headerText="Prestador" sortBy="#{autorizacion.razonSocialPrestador}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.razonSocialPrestador}" title="#{autorizacion.razonSocialPrestador}"/>
                                            </p:column>
                                            <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.nitPrestador}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.nitPrestador}" title="#{autorizacion.nitPrestador}"/>
                                            </p:column>
                                            <p:column  headerText="Id Anexo 4" sortBy="#{autorizacion.anexo4.id}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.anexo4.id}" title="#{autorizacion.anexo4.id}"/>
                                            </p:column>
                                            <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}" style="text-align: center">
                                                <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                            </p:column>                                                          
                                        </p:dataTable>
                                    </p:panel>

                                    <p:panelGrid  style="width:100%;margin:10px 0px">
                                        <f:facet name="footer">
                                            <p:row>
                                                <p:column colspan="4" style="text-align: center">
                                                    <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoConfiguracionesGenerales').hide()" immediate="true" style="margin-left: 5px;"/>
                                                </p:column>
                                            </p:row>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:scrollPanel>
                        </p:tab>
                        <p:tab title="Ver Novedades Afiliado" id ="Tab2_Novedades">
                            <p:scrollPanel mode="native" style="height:90%">
                                <h:form id="frmNovedadesTab">
                                    <p:panel id="panelVerInfoBasica" header="Novedades" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                        <f:facet name="header">
                                            <h:outputLabel value="Información básica"></h:outputLabel>
                                        </f:facet>

                                        <p:panel id="panelVerServicio" header="Servicio" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                                            <f:facet name="header">
                                                <h:outputLabel value="Servicio"></h:outputLabel>
                                            </f:facet>
                                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                                <p:commandButton  class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objetoItemServicio.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                            </p:outputPanel>
                                            <p:panelGrid id="panelDatosServicio" columns="4"
                                                         layout="grid">
                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maeTipoDocumentoValor}"/>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Documento" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.documento}"/>
                                                    </p:column>
                                                </p:row>
                                             
                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Nombre completo" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.nombreCompletoAfiliado}"/>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Consecutivo item" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.consecutivoItem}"/>
                                                    </p:column>
                                                </p:row>
                                                                                           
                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Código servicio" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioCodigo}"/>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Nombre servicio" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.maServicioValor}"/>
                                                    </p:column>
                                                </p:row>

                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Valor facturado" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorFacturado}">
                                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Valor pagado" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPagado}">
                                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                    </p:column>
                                                </p:row>
                                                                                                                                       
                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Valor pendiente" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendiente}">
                                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Valor glosa" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorGlosa}">
                                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                    </p:column>
                                                </p:row>
                                                                                              
                                                <p:row>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Valor pendiente actual" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <h:outputText value="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}" title="#{cmAuditoriaFacturaBean.objetoItemServicio.valorPendienteActual}">
                                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column styleClass="ui-widget-header ui-g-3">
                                                        <p:outputLabel value="Fecha prestación" style="font-weight:bold"/>
                                                    </p:column>
                                                    <p:column styleClass=" ui-g-3" >
                                                        <p:outputLabel value="#{cmAuditoriaFacturaBean.objetoItemServicio.fechaPrestacion}"/>
                                                    </p:column>
                                                </p:row>
                                                
                                            </p:panelGrid>
                                        </p:panel>

                                    </p:panel>
                                    <p:panel id="panelNovedades" header="Novedades" style="margin-bottom:10px;" collapsed="false" toggleable="true">

                                        <p:dataTable var="novedad" value="#{cmAuditoriaFacturaBean.lazyAseguramientoNovedadHistorial}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                                     emptyMessage="No se encontraron registros"
                                                     currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                     rowsPerPageTemplate="5,10,30,50,100" id="tablaNovedades" lazy="true"
                                                     widgetVar="tablaWidgetNovedades"
                                                     rowStyleClass="#{cmAuditoriaFacturaBean.asignarColorNovedadFechaPrestacion(novedad,cmAuditoriaFacturaBean.objetoItemServicio)}"
                                                     style="font-size:11px;"
                                                     rowKey="#{novedad.id}" reflow="true">

                                            <p:column headerText="Código" sortBy="#{novedad.asegMaNovedad.codigoNovedad}" filterBy="#{novedad.asegMaNovedad.codigoNovedad}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Código" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.asegMaNovedad.codigoNovedad}" title="#{novedad.asegMaNovedad.codigoNovedad}"/>
                                            </p:column>                            
                                            <p:column headerText="Descripción" sortBy="#{novedad.asegMaNovedad.descripcionNovedad}" filterBy="#{novedad.asegMaNovedad.descripcionNovedad}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Descripción" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.asegMaNovedad.descripcionNovedad}" title="#{novedad.asegMaNovedad.descripcionNovedad}"/>
                                            </p:column>
                                            <p:column headerText="Radicado" sortBy="#{novedad.radicadoNovedad.id}" filterBy="#{novedad.radicadoNovedad.id}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Radicado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.radicadoNovedad.id}" title="#{novedad.radicadoNovedad.id}"/>
                                            </p:column>
                                            <p:column headerText="Fecha Novedad" sortBy="#{novedad.fechaNovedad}">
                                                <h:outputText value="#{novedad.fechaNovedad}" title="#{novedad.fechaNovedad}">
                                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Valor Anterior" sortBy="#{novedad.descripcionValorAnterior}" filterBy="#{novedad.descripcionValorAnterior}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Valor Anterior" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.descripcionValorAnterior}" title="#{novedad.descripcionValorAnterior}"/>
                                            </p:column>
                                            <p:column headerText="Valor Nuevo" sortBy="#{novedad.descripcionValorNuevo}" filterBy="#{novedad.descripcionValorNuevo}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Valor Nuevo" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.descripcionValorNuevo}" title="#{novedad.descripcionValorNuevo}"/>
                                            </p:column>
                                            <p:column headerText="Observación" >
                                                <h:outputText value="#{novedad.observacion}" title="#{novedad.observacion}"/>
                                            </p:column>
                                            <p:column headerText="Fecha Registro" sortBy="#{novedad.fechaHoraCrea}">
                                                <h:outputText value="#{novedad.fechaHoraCrea}" title="#{novedad.fechaHoraCrea}">
                                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Usuario" sortBy="#{novedad.usuarioCrea}" filterBy="#{novedad.usuarioCrea}">
                                                <f:facet name="filter">
                                                    <p:inputText label="Usuario" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                                onchange();
                                                                return false;
                                                            }"  onchange="PF('tablaWidgetNovedades').filter()" />
                                                </f:facet>
                                                <h:outputText value="#{novedad.usuarioCrea}" title="#{novedad.usuarioCrea}"/>
                                            </p:column>
                                            <p:column headerText="Fecha Reporte BDUA" sortBy="#{novedad.fechaMarcacion}">
                                                <h:outputText value="#{novedad.fechaMarcacion}" title="#{novedad.fechaMarcacion}">
                                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Id BDUA" >
                                                <h:outputText value="#{novedad.asegInformesIdMarcacion}" title="#{novedad.asegInformesIdMarcacion}"/>
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>
                                    <p:panelGrid  style="width:100%;margin:10px 0px">
                                        <f:facet name="footer">
                                            <p:row>
                                                <p:column colspan="4" style="text-align: center">
                                                    <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoConfiguracionesGenerales').hide()" immediate="true" style="margin-left: 5px;"/>
                                                </p:column>
                                            </p:row>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:scrollPanel>
                        </p:tab>                 
                    </p:tabView>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Levantamiento Motivos Específicos" id="dialogoEliminarMotivo" widgetVar="dialogoEliminarMotivo" appendTo="@(body)" modal="true" dynamic="true" width="50%">
                <p:scrollPanel mode="native" style="height:150px">
                    <h:form id="frmEliminarMotivo">
                        <p:panelGrid id="panelEliminarMotivo"  columns="2" layout="grid" styleClass="showcase-text-align-center" >

                            <h:outputText value="Seleccione Motivos Para Eliminar" style="font-weight:bold"/>
                            <p:selectCheckboxMenu id="menu" value="#{cmAuditoriaFacturaBean.motivosEspecificosSeleccionados}" label="Motivos"
                                                  filter="true" filterMatchMode="startsWith" 
                                                  dynamic="true">
                                <f:selectItems value="#{cmAuditoriaFacturaBean.listaMotivosEspecificosEncontrados}" var="motivo" itemValue="#{motivo.maeMotivoEspecificoId}" itemLabel="#{motivo.maeMotivoEspecificoValor}"/>
                            </p:selectCheckboxMenu>
                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column  style="text-align: center">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEliminarMotivo').hide()" immediate="true"/>
                                        </p:column>
                                        <p:column  style="text-align: center">
                                            <p:commandButton value="Eliminar" actionListener="#{cmAuditoriaFacturaBean.guardarBorradoMotivosEspecificos()}" />
                                        </p:column>
                                    </p:row>
                                </f:facet>  
                            </p:panelGrid>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Objeciones Auditoría Hospitalaria" id="dialogoObjeciones" widgetVar="dialogoObjeciones" appendTo="@(body)" modal="true" dynamic="true" width="90%">
                <p:scrollPanel mode="native" style="height:500px">   
                    <h:form id="frmVerObjeciones">
                        <p:panel id="pObjecionGestionar" header="Objeciones" collapsed="false" toggleable="true">    
                            <p:dataTable id="tablaObjecionEditar" var="objecionEditar" value="#{cmAuditoriaFacturaBean.registroHospitalizacionObjeciones}" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" widgetVar="tablaObjecionEditar" emptyMessage="No se encontraron registros" style="text-align: center" paginator="true" rowsPerPageTemplate="10,30,50,100"  currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}">
                                <p:column headerText="Id Hospitalización">
                                    <h:outputText value="#{objecionEditar.aucHospitalizacionId.id}" />
                                </p:column>
                                <p:column headerText="Fecha Inicio Hospitalización">
                                    <h:outputText value="#{objecionEditar.aucHospitalizacionId.fechaInicioHospitalizacion}" />
                                </p:column>
                                <p:column headerText="Fecha Fin Hospitalización">
                                    <h:outputText value="#{objecionEditar.aucHospitalizacionId.fechaFinHospitalizacion}" />
                                </p:column>
                                <p:column headerText="Tipo">
                                    <h:outputText value="#{objecionEditar.tipoTecnologiaStr}" />
                                </p:column>
                                <p:column headerText="Código Tecnología" filterBy="#{objecionEditar.maTecnologiaCodigo}" >
                                    <h:outputText value="#{objecionEditar.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{objecionEditar.maTecnologiaValor}">
                                    <h:outputText value="#{objecionEditar.maTecnologiaValor}" />
                                </p:column>
                                <p:column headerText="Cantidad">
                                    <h:outputText value="#{objecionEditar.cantidadSolicitada}" />
                                </p:column>
                                <p:column headerText="Observación">
                                    <h:outputText value="#{ cmAuditoriaFacturaBean.recortarTexto( objecionEditar.observacion ) }" />
                                    <p:commandButton rendered="#{objecionEditar.observacion.length() > 0 }" actionListener="#{cmAuditoriaFacturaBean.mostrarMensaje(objecionEditar.observacion)}" icon="ui-icon-comment" title="#{objecionEditar.observacion}"/> 
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{objecionEditar.usuarioCrea}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objecionEditar.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid style="width:100%;margin:10px;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoObjeciones').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Contrato Sedes" id="dialogoVerContratoSedes" widgetVar="dialogoVerContratoSedes" appendTo="@(body)" modal="true" dynamic="true" width="90%">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmVerContratosSedes">
                        <p:panel header="Sedes" style="margin-bottom:10px;" toggleable="true">
                            <p:dataTable id="tablaSedes" var="sede" value="#{cmAuditoriaFacturaBean.contratoConSedes.listaContratoSedes}" widgetVar="tablaWidgetSedes" 
                                         scrollable="true" emptyMessage="No se encontraron registros" rows="10" paginator="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" >
                                <p:column headerText="Código Habilitación" style="text-align: center">
                                    <h:outputText value="#{sede.cntPrestadorSede.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="width: 280px;">
                                    <h:outputText value="#{sede.cntPrestadorSede.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Nivel de Atención" style="text-align: center">
                                    <h:outputText value="#{sede.cntPrestadorSede.nivelAtencion}"/>
                                </p:column>
                                <p:column headerText="Modalidad Contrato Sede" style="text-align: center">
                                    <h:outputText value="#{sede.maeModalidadContratoValor}"/>
                                </p:column>
                                <p:column headerText="Observación" style="width: 240px;">
                                    <h:outputText value="#{sede.observacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerContratoSedes').hide()" immediate="true" />
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            
             <p:dialog widgetVar="dialogoVerNota" header="Información Nota" appendTo="@(body)"  modal="true" width="70%">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{cmAuditoriaFacturaBean.getAuditoria(cmAuditoriaFacturaBean.objeto.cmFeNota.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>   
                 <h:form id="frmVerNota" style="padding: 10px;">
                     <p:panelGrid id="panelFactura" columns="4" layout="grid" style="padding: 5px;" >
                         <p:row>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Número Nota"  style="font-weight:bold"/>
                             </p:column>
                             <p:column styleClass=" ui-g-3" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmFeNota.numeroNota}"/>
                             </p:column>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Valor Nota" style="font-weight:bold" />
                             </p:column>
                             <p:column styleClass=" ui-g-3" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmFeNota.valorNota}" title="#{cmAuditoriaFacturaBean.objeto.cmFeNota.valorNota}">
                                     <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                 </h:outputText>
                             </p:column>
                         </p:row>
                         <p:row>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Fecha Nota"  style="font-weight:bold"/>
                             </p:column>
                             <p:column styleClass=" ui-g-3" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmFeNota.fechaHoraEmision}"/>
                             </p:column>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Tipo Nota" style="font-weight:bold" />
                             </p:column>
                             <p:column styleClass=" ui-g-3" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmFeNota.tipoStr}"/>
                             </p:column>
                         </p:row>
                         <p:row>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Cude"  style="font-weight:bold"/>
                             </p:column>
                             <p:column styleClass=" ui-g-9" >
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.cmFeNota.cude}"/>
                             </p:column>
                         </p:row>
                         <p:row>
                             <p:column styleClass="ui-widget-header ui-g-3">
                                 <p:outputLabel value="Número Factura"  style="font-weight:bold"/>
                             </p:column>
                             <p:column styleClass=" ui-g-3" style="color:#045491;font-weight:bold">
                                 <h:outputText value="#{cmAuditoriaFacturaBean.objeto.numeroFacturado}"/>
                             </p:column>
                         </p:row>
                     </p:panelGrid>  
                     <p:panelGrid  style="width:100%;margin:10px 0px">
                         <f:facet name="footer">
                             <p:row>
                                 <p:column colspan="4" style="text-align: center">
                                     <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerNota').hide()" immediate="true" style="margin-left: 5px;"/>
                                 </p:column>
                             </p:row>
                         </f:facet>
                     </p:panelGrid>
                 </h:form>
             </p:dialog>
            
             <p:dialog widgetVar="dialogoSoportes" header="Soportes" appendTo="@(body)" responsive="true" modal="true" width="90%">
                <p:scrollPanel mode="native" style="max-height:350px">
                    <h:form id="frmVerSoportes" style="padding: 10px;">
                        <p:panel id="panelSoportes" header="Soportes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="soporte" value="#{cmAuditoriaFacturaBean.lazySoportes}" paginator="true" rows="#{cmAuditoriaFacturaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaSoportes" lazy="true"
                                         widgetVar="tablaWidgetSoportes"
                                         style="font-size:11px;"
                                         rowKey="#{soporte.id}" >

                                <p:column  headerText="Nombre" style="text-align: center;" filterBy="#{soporte.archivoNombre}">
                                     <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="128" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }" style="width: 95%;" onchange="PF('tablaWidgetSoportes').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{soporte.archivoNombre}" title="#{soporte.archivoNombre}"/>
                                </p:column>
                                 <p:column  headerText="Tipo Soporte" style="text-align: center;" filterBy="#{soporte.maeTipoSoporteId}">
                                    <f:facet name="filter">
                                       <p:selectOneMenu id="soporteSelect" filter="true" filterMatchMode="contains" class="mae-select" onchange="PF('tablaWidgetSoportes').filter()" style="width: 90%;" >
                                           <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true"  />
                                           <f:selectItems value="#{cmAuditoriaFacturaBean.hashTipoSoporte.entrySet()}" 
                                                           itemValue="#{soporteItem.key}" 
                                                           itemLabel="#{cmAuditoriaFacturaBean.getMapMaestroValue(cmAuditoriaFacturaBean.hashTipoSoporte, soporteItem.key).valor} -
                                                           #{cmAuditoriaFacturaBean.getMapMaestroValue(cmAuditoriaFacturaBean.hashTipoSoporte, soporteItem.key).nombre}" 
                                                           var="soporteItem"> 
                                            </f:selectItems>
                                        </p:selectOneMenu>  
                                    </f:facet>
                                    <h:outputText value="#{soporte.maeTipoSoporteCodigo}-#{soporte.maeTipoSoporteValor}" 
                                                  title="#{soporte.maeTipoSoporteCodigo}-#{soporte.maeTipoSoporteValor}"/>
                                </p:column>
                                <p:column  headerText="Fecha Creación" style="text-align: center;" >
                                     <h:outputText value="#{soporte.fechaHoraCrea}" title="#{soporte.fechaHoraCrea}">
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"  />
                                    </h:outputText>
                                </p:column>
                                <p:column  headerText="Usuario Crea" style="text-align: center;">
                                    <h:outputText value="#{soporte.usuarioCrea}" title="#{soporte.usuarioCrea}"/>
                                </p:column> 
                                <p:column  headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Descargar" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                                        <p:fileDownload value="#{cmAuditoriaFacturaBean.descargarSoporte(soporte)}" />
                                    </p:commandButton>
                                    <p:commandButton id="auditoriaSoporte" class="btnAuditoriaSoporte" action="#{cmAuditoriaFacturaBean.getAuditoria(soporte.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    <p:commandButton  title="Ver" actionListener="#{cmAuditoriaFacturaBean.verPdf(soporte)}" icon="ui-icon-search"/>
                                </p:column>  
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoSoportes').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            
            <ui:include src="../../maestro/seleccion/sel_diagnosticos.xhtml" /> 
            <h:form id="exit">
                <p:remoteCommand  id="limpiarRender" name="limpiarRender" action="#{cmAuditoriaFacturaBean.salir()}"/>
            </h:form>
        </center>
    </ui:define>
</ui:composition>
