<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR">
        <style type="text/css">
            .yellow{
                background-color: #ffff00 !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .green{
                background-color: #009900 !important;
                background-image: none !important;
                color: #ffffff !important;
            }
            .red{
                background-color: #ff0000 !important;
                background-image: none !important;
                color: #ffffff !important;
            }
            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }
            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }
            element.style {
                width: 501.039px;
                height: auto;
            }
        </style>
        <center>
            <h:form id="frmTutelas">
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{tuTutelaBean.cerrarDialogoDiagnostico(tuTutelaBean.crearOeditarItem)}"/>
                <p:remoteCommand name="cerrarDialogoTecnologia" action="#{tuTutelaBean.cerrarDialogoTecnologia(tuTutelaBean.crearOeditarItem)}"/>
                <p:remoteCommand name="cerrarDialogoMedicamento" action="#{tuTutelaBean.cerrarDialogoMedicamento(tuTutelaBean.crearOeditarItem)}"/>
                <p:remoteCommand name="cerrarDialogoInsumo" action="#{tuTutelaBean.cerrarDialogoInsumo(tuTutelaBean.crearOeditarItem)}"/>
                <p:remoteCommand name="cerrarDialogoPaquete" action="#{tuTutelaBean.cerrarDialogoPaquete(tuTutelaBean.crearOeditarItem)}"/>
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{tuTutelaBean.modulo.descripcion}">#{tuTutelaBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{tuTutelaBean.listar}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{tuTutelaBean.accionCrear}" title="Crear" actionListener="#{tuTutelaBean.crear()}" icon="ui-icon-document"/>
                    </f:facet>
                </p:toolbar>
                <p:dataTable var="obj" value="#{tuTutelaBean.lazyTuTutela}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                             widgetVar="tablaWidget"
                             scrollable="true"
                             rowKey="#{obj.id}" reflow="true">

                    <p:column style="text-align: center; width: 100px">
                        <f:facet name="header">
                            <h:outputText value="Acciones"/>
                        </f:facet>    
                        <p:commandButton rendered="#{tuTutelaBean.accionVer}" title="Ver" actionListener="#{tuTutelaBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{tuTutelaBean.accionEditar}" title="Editar" actionListener="#{tuTutelaBean.editar(obj.id)}" icon="ui-icon-pencil"/>   
                        <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" title="Gestionar" actionListener="#{tuTutelaBean.verGestion(obj.id)}" icon="ui-icon-folder-open"/>
                        <p:commandButton rendered="#{tuTutelaBean.accionAdicional5}" title="Editar Responsable" actionListener="#{tuTutelaBean.editarResponsable(obj.id)}" icon="ui-icon-person"/>
                        <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrar(obj.id)}" icon="ui-icon-trash">
                            <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                        </p:commandButton>
                        <p:commandButton rendered="#{tuTutelaBean.accionAdicional6}" title="Historial de Tutelas" actionListener="#{tuTutelaBean.gestionSeguimiento(obj.id)}" icon=" ui-icon-contact"/>
                    </p:column>

                    <p:column headerText="Dias Vencimiento" style="text-align: center; width: 100px">
                        <i class="pi pi-circle-on" style="color: #{obj.establecerColorTutelas()}"/>
                        <h:outputText value="#{obj.diasVencimiento}" title="#{obj.diasVencimiento}"/>
                    </p:column>
                    
                    <p:column headerText="Items Resueltos" sortBy="#{obj.cantidadItems}" style="width: 50px; text-align: center">
                        <i class="pi pi-circle-on" title="Total" style="color: green"/>
                        <h:outputText value="#{obj.cantidadItems}" title="#{obj.cantidadItems}"/>
                        <br/>
                        <i class="pi pi-circle-on" title="Cerrados o resueltos" style="color: #{obj.establecerColorItemsCerrados()}"/>
                        <h:outputText value="#{obj.cantidadItemsCerrados}" title="#{obj.cantidadItemsCerrados}"/>
                    </p:column>

                    <p:column headerText="Tipo documento" sortBy="#{obj.tuPersona.maeTipoDocumentoValor}" style="width: 100px">                        
                        <h:outputText value="#{obj.tuPersona.maeTipoDocumentoValor}" title="#{obj.tuPersona.maeTipoDocumentoValor}"/>
                    </p:column>

                    <p:column headerText="Número documento" filterBy="#{obj.tuPersona.numeroDocumento}" style="width: 100px">
                        <f:facet name="filter">
                            <p:inputText label="Número documento" maxlength="16" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.tuPersona.numeroDocumento}"/>
                    </p:column>

                    <p:column headerText="Nombres" sortBy="#{obj.tuPersona.nombres}" style="width: 100px">
                        <h:outputText value="#{obj.tuPersona.nombres}"/>
                    </p:column>

                    <p:column headerText="Apellidos" sortBy="#{obj.tuPersona.apellidos}" style="width: 100px">
                        <h:outputText value="#{obj.tuPersona.apellidos}"/>
                    </p:column>

                    <p:column headerText="" filterBy="#{obj.actualTuTutelaEstadoId.maeEstadoId}" style="width: 100px">
                        <f:facet name="filter">
                            <p:selectCheckboxMenu label="Estado Actual" onchange="PF('tablaWidget').filter()" style="width: 70%;" scrollHeight="150" styleClass="custom-filter">
                                <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                            </p:selectCheckboxMenu>
                        </f:facet>
                        <h:outputText value="#{obj.actualTuTutelaEstadoId.maeEstadoValor}" title="#{obj.actualTuTutelaEstadoId.maeEstadoValor}"/>
                    </p:column>

                    <p:column headerText="Número tutela" filterBy="#{obj.id}" style="width: 100px">
                        <f:facet name="filter">
                            <p:inputText label="Número tutela" maxlength="16" style="width: 70%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.id}"/>
                    </p:column>

                    <p:column headerText="Juzgado Actual" sortBy="#{obj.actualTuTutelaEstadoId.tuJuzgadoId.nombre}" filterBy="#{obj.actualTuTutelaEstadoId.tuJuzgadoId.nombre}" style="width: 100px">
                        <f:facet name="filter">
                            <p:inputText label="Juzgado Actual" maxlength="100" style="width: 70%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.actualTuTutelaEstadoId.tuJuzgadoId.nombre}" title="#{obj.actualTuTutelaEstadoId.tuJuzgadoId.nombre}"/>
                    </p:column>

                    <p:column headerText="Número radicado" filterBy="#{obj.radicadoNumero}" style="width: 150px">
                        <f:facet name="filter">
                            <p:inputText label="Número radicado" maxlength="24" style="width: 70%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.radicadoNumero}"/>
                    </p:column>

                    <p:column headerText="" filterBy="#{obj.actualTuTutelaEstadoId.maeProcesoId}" style="width: 100px">
                        <f:facet name="filter">
                            <p:selectCheckboxMenu label="Proceso Actual" onchange="PF('tablaWidget').filter()" style="width: 70%;" scrollHeight="150" styleClass="custom-filter">
                                <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                            </p:selectCheckboxMenu>
                        </f:facet>
                        <h:outputText value="#{obj.actualTuTutelaEstadoId.maeProcesoValor}" title="#{obj.actualTuTutelaEstadoId.maeProcesoValor}"/>
                    </p:column>

                    <p:column headerText="Responsable Actual" sortBy="#{obj.actualTuTutelaEstadoId.responsableGnUsuarioId.nombre}" filterBy="#{obj.actualTuTutelaEstadoId.responsableGnUsuarioId.nombre}" style="width: 100px">
                        <f:facet name="filter">
                            <p:inputText label="Responsable" maxlength="64" style="width: 70%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.actualTuTutelaEstadoId.responsableGnUsuarioId.nombre}" title="#{obj.actualTuTutelaEstadoId.responsableGnUsuarioId.nombre}"/>
                    </p:column>

                    <p:column headerText="Abogado" sortBy="#{obj.actualTuTutelaEstadoId.abogadoGnUsuarioId.nombre}" style="width: 100px">                        
                        <h:outputText value="#{obj.actualTuTutelaEstadoId.abogadoGnUsuarioId.nombre}" title="#{obj.actualTuTutelaEstadoId.abogadoGnUsuarioId.nombre}"/>
                    </p:column>

                </p:dataTable>
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>
            <!--VER -->
            <p:dialog widgetVar="dialogoVer" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Ver</b>
                </header>
                <h:form id="frmAuditoriaGeneralVer" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{tuTutelaBean.objeto.tuPersona.datosAuditoria}"/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{tuTutelaBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmVer">
                        <p:panel id="panelVerTutela" header="Tutela" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver datos tutela"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmTutela" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosTutela" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Numero tutela" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.id}" />

                                <p:outputLabel value="Numero radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.radicadoNumero}" />

                                <p:outputLabel value="Estado actual" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.maeEstadoValor}" />

                                <p:outputLabel value="Juzgado Actual" for="juzgado" style="font-weight:bold"/>
                                <p:outputLabel  id="juzgado" value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.tuJuzgadoId.nombre}"/>

                                <p:outputLabel value="Municipio Juzgado" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="panelVerPersona" header="Persona" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver datos persona"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmPersona" style="margin-top: -5px; text-align: right;">
                                <p:commandButton title="Historial Personas" actionListener="#{tuTutelaBean.verHistorialPersona(tuTutelaBean.objeto.tuPersona.numeroDocumento)}" icon="ui-icon-folder-open"/>
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Estado afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeEstadoAfiliadoValor}" />

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeTipoDocumentoValor}" />

                                <p:outputLabel value="Numero documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.numeroDocumento}" />

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.nombres}" />

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.apellidos}" />

                                <p:outputLabel value="Fecha nacimento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.fechaNacimento}" />

                                <p:outputLabel value="Genero" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeGeneroValor}" />

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.direccion}" />

                                <p:outputLabel value="Correo electronico" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.correoElectronico}" />

                                <p:outputLabel value="Municipio de afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.tuPersona.ubicacionAfiliadoId.id)}" />
                            </p:panelGrid>

                            <p:dataTable id="tablaContactoPersona" widgetVar="tablaContactoPersona" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" scrollable="true" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div>
                                        Contactos
                                    </div>
                                </f:facet>

                                <p:column headerText="Número">
                                    <h:outputText value="#{contacto.numeroContacto}" />
                                </p:column>

                                <p:column headerText="Observación">
                                    <h:outputText value="#{contacto.observacion}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelVer" header="Estados tutela"  style="margin-bottom:10px; width: 120%;" collapsed="false" toggleable="true">
                            <p:dataTable var="obj" value="#{tuTutelaBean.lazyTuTutelaEstado}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaEstados" lazy="true"
                                         widgetVar="tablaEstadoVerWidget"
                                         scrollable="true"
                                         style="font-size:11px;width:100%;max-height: 300px;overflow: scroll;"
                                         rowKey="#{obj.id}" reflow="true">

                                <p:column style="text-align: center">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionVer}" title="Ver detalle estado" actionListener="#{tuTutelaBean.verEstado(obj.id, obj.pos)}" icon="ui-icon-search"/>
                                </p:column>

                                <p:column headerText="Identificador Estado"  sortBy="#{obj.id}" filterBy="#{obj.id}">
                                    <f:facet name="filter">    
                                        <p:inputText label="Identificador Estado" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaEstadoVerWidget').filter()"/>                 
                                    </f:facet> 
                                    <h:outputText value="#{obj.id}" title="#{obj.id}" />
                                </p:column>
                                
                                <p:column headerText="" filterBy="#{obj.maeEstadoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Estado" onchange="PF('tablaEstadoVerWidget').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeEstadoValor}" title="#{obj.maeEstadoValor}"/>
                                </p:column>
                                
                                <p:column headerText="Items Resueltos" sortBy="#{obj.cantidadItems}" style="width: 50px; text-align: center">
                                    <i class="pi pi-circle-on" title="Total" style="color: green"/>
                                    <h:outputText value="#{obj.cantidadItems}" title="#{obj.cantidadItems}"/>
                                    <br/>
                                    <i class="pi pi-circle-on" title="Cerrados o resueltos" style="color: #{obj.establecerColorItemsCerrados()}"/>
                                    <h:outputText value="#{obj.cantidadItemsCerrados}" title="#{obj.cantidadItemsCerrados}"/>
                                </p:column>

                                <p:column headerText="" filterBy="#{obj.maeProcesoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Proceso" onchange="PF('tablaEstadoVerWidget').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeProcesoValor}" title="#{obj.maeProcesoValor}"/>
                                </p:column>

                                <p:column headerText="Responsable" sortBy="#{obj.responsableGnUsuarioId.nombre}" filterBy="#{obj.responsableGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Responsable" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaEstadoVerWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.responsableGnUsuarioId.nombre}" title="#{obj.responsableGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Abogado" sortBy="#{obj.abogadoGnUsuarioId.nombre}" filterBy="#{obj.abogadoGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Abogado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaEstadoVerWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.abogadoGnUsuarioId.nombre}" title="#{obj.abogadoGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Fecha Notificación" sortBy="#{obj.fechaNotificacion}">   
                                    <h:outputText value="#{obj.fechaNotificacion}" title="#{obj.fechaNotificacion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="4" style="text-align: center">
                                    <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true"/>
                                    </h:panelGroup>
                                </p:column>
                            </p:row>
                        </f:facet>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--CREAR -->
            <p:dialog header="Crear" widgetVar="dialogoCrear" appendTo="@(body)" modal="true" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmCrear">
                        <p:panel id="pPersonaCrear" header="PERSONA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelPersonaCrear" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo Documento" for="tipoDocumento" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoDocumento" label="Tipo Documento" required="true" value="#{tuTutelaBean.objeto.tuPersona.maeTipoDocumentoId}" requiredMessage="Tipo Documento: Este campo es obligatorio." editable="fase" style="width: 200px;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaTiposDocumento}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.nombre}" itemDescription="#{tipoDoc.descripcion}" />
                                    <p:ajax event="change"  listener="#{tuTutelaBean.buscarPersonaEnSistema(1)}"></p:ajax>
                                </p:selectOneMenu>

                                <p:outputLabel value="Documento" for="documento" style="font-weight:bold"/>
                                <p:inputText id="documento" label="Documento" value="#{tuTutelaBean.objeto.tuPersona.numeroDocumento}" size="20" maxlength="16" required="true" requiredMessage="Documento: Este campo es obligatorio.">
                                    <p:ajax event="blur" listener="#{tuTutelaBean.buscarPersonaEnSistema(1)}"></p:ajax>
                                </p:inputText>

                                <p:outputLabel value="Nombres" for="nombres" style="font-weight:bold"/>
                                <p:inputText id="nombres" label="Nombres" value="#{tuTutelaBean.objeto.tuPersona.nombres}" size="30" maxlength="62" required="true" requiredMessage="Nombres: Este campo es obligatorio.">
                                </p:inputText>

                                <p:outputLabel value="Apellidos" for="apellidos" style="font-weight:bold"/>
                                <p:inputText id="apellidos" label="Apellidos" value="#{tuTutelaBean.objeto.tuPersona.apellidos}" size="30" maxlength="62" required="true" requiredMessage="Apellidos: Este campo es obligatorio.">
                                </p:inputText>

                                <p:outputLabel value="Fecha Nacimiento" for="fechaNacimiento" style="font-weight:bold"/>
                                <p:calendar id="fechaNacimiento" yearRange="c-100:c+1" label="Fecha Nacimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objeto.tuPersona.fechaNacimento}" size="7" maxlength="10" required="true" requiredMessage="Fecha Nacimiento: Este campo es obligatorio."></p:calendar>     

                                <p:outputLabel value="Sexo" for="sexo" style="font-weight:bold"/>
                                <p:selectOneMenu id="sexo" label="Sexo" editable="fase"  value="#{tuTutelaBean.objeto.tuPersona.maeGeneroId}" required="true" requiredMessage="Sexo: Este campo es obligatorio.">                                    
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                    <f:selectItems value="#{tuTutelaBean.listaSexo}" var="tipSex" itemValue="#{tipSex.id}" itemLabel="#{tipSex.nombre}" itemDescription="#{tipSex.descripcion}"/>                                            
                                </p:selectOneMenu>

                                <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                <p:inputText  id="email" label="Correo Electrónico" value="#{tuTutelaBean.objeto.tuPersona.correoElectronico}" size="30" maxlength="64">
                                </p:inputText>

                                <p:outputLabel value="Estado Persona" for="estado" style="font-weight:bold"/>
                                <p:selectOneMenu id="estado" label="Estado Persona" editable="fase" value="#{tuTutelaBean.objeto.tuPersona.maeEstadoAfiliadoId}" disabled="true">                                    
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                    <f:selectItems value="#{tuTutelaBean.listaTipoEstadoPersona}" var="tipEst" itemValue="#{tipEst.id}" itemLabel="#{tipEst.nombre}" itemDescription="#{tipEst.descripcion}"/>                                    
                                </p:selectOneMenu>

                                <p:outputLabel value="Ubicación Afiliado" for="ubicacion" style="font-weight:bold"/>
                                <p:autoComplete id="ubicacion" dropdown="false" value="#{tuTutelaBean.objeto.tuPersona.ubicacionAfiliadoId}" completeMethod="#{tuTutelaBean.completarUbicacion}"
                                                var="ubica" itemLabel="#{tuTutelaBean.getUbicacionRecursiva(ubica.id)}" itemValue="#{ubica}" converter="ubicacionConverterTuTutela" forceSelection="true"  required="true" requiredMessage="Ubicación afiliado: Este campo es obligatorio."> 
                                </p:autoComplete>

                                <p:outputLabel value="Dirección" for="direccion" style="font-weight:bold"/>
                                <p:inputText id="direccion" label="Dirección" value="#{tuTutelaBean.objeto.tuPersona.direccion}" size="30" maxlength="32" required="true" requiredMessage="Dirección: Este campo es obligatorio.">
                                </p:inputText>

                            </p:panelGrid>

                            <p:dataTable id="tablaContactoPersona" widgetVar="tablaContactoPersona" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" scrollable="true" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:remoteCommand name="crearContactoRemote" action ="#{tuTutelaBean.crearContacto()}" immediate="true"/>
                                            <p:commandButton value="Agregar Contacto" title="Agregar Contacto"  type="button" immediate="true" process="@this" onclick="crearContactoRemote()" icon="ui-icon-document"/>
                                        </div>
                                    </div>
                                    <div>
                                        Contactos
                                    </div>
                                </f:facet>

                                <p:column headerText="Número">
                                    <h:outputText value="#{contacto.numeroContacto}" />
                                </p:column>

                                <p:column headerText="Observación">
                                    <h:outputText value="#{contacto.observacion}" />
                                </p:column>

                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Borrar"/>
                                    </f:facet>
                                    <p:remoteCommand name="eliminarContactoRemote" action ="#{tuTutelaBean.borrarContacto(contacto)}" immediate="true"/>
                                    <p:commandButton title="Borrar"  type="button" immediate="true" process="@this" onclick="eliminarContactoRemote()" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>

                        </p:panel>
                        <p:separator/>
                        <p:panel id="pTutelaCrear" header="TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrear" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Número Radicado" for="numeroRadicado" style="font-weight:bold"/>
                                <p:inputText id="numeroRadicado" label="Número Radicado" value="#{tuTutelaBean.objeto.radicadoNumero}" size="10" maxlength="23" required="true" requiredMessage="Numero Radicado: Este campo es obligatorio.">
                                </p:inputText>

                                <p:outputLabel value="Ubicación Juzgado" for="ubicacionTutela" style="font-weight:bold"/>
                                <p:selectOneMenu id="ubicacionTutela" value="#{tuTutelaBean.objeto.gnUbicacionId.id}"
                                                 filter="true" filterMatchMode="contains"  style="width: 200px;" required="true" requiredMessage="Ubicación juzgado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.ubicaciones}" var="ubi" itemValue="#{ubi.id}" itemLabel="#{ubi.nombre}" itemDescription="#{ubi.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.listarJuzgadosAsociadas()}"/>
                                </p:selectOneMenu>

                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearServicio" header="ESTADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrearServicio" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Proceso" for="proceso" style="font-weight:bold"/>
                                <p:selectOneMenu id="proceso" label="Proceso" value="#{tuTutelaBean.objeto.estadoInicial.maeProcesoId}"  editable="fase" style="width: 100px;" required="true" requiredMessage="Proceso: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="estadoProceso" itemValue="#{estadoProceso.id}" itemLabel="#{estadoProceso.nombre}" itemDescription="#{estadoProceso.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Estado" for="estadoInicial" style="font-weight:bold"/>
                                <p:selectOneMenu id="estadoInicial" label="Estado" value="#{tuTutelaBean.objeto.estadoInicial.maeEstadoId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Estado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="estadoTu" itemValue="#{estadoTu.id}" itemLabel="#{estadoTu.nombre}" itemDescription="#{estadoTu.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.accionesEstadosTutelas()}" update="labelFallo labelMedidaProvisional labelClaseSancion labelSMLV labelUVT labelClaseArresto labelDiasArresto labelRepresentanteDemandado tipoReparto fallo claseSancion medidaProvisional integridadInicial entregaSucesiva exoneracionInicial smlv uvt claseArresto diasArresto representanteDemandado grupos abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelFallo" value="Sentido del Fallo" for="fallo" style="font-weight:bold"/>
                                <p:selectOneMenu id="fallo" label="Sentido del Fallo" value="#{tuTutelaBean.objeto.estadoInicial.maeTipoFalloId}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialFallo}" required="#{tuTutelaBean.campoObligatotioFallo}" requiredMessage="Fallo: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoFallo}" var="estadoFall" itemValue="#{estadoFall.id}" itemLabel="#{estadoFall.nombre}" itemDescription="#{estadoFall.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoFallo()}" update="integridadInicial entregaSucesiva exoneracionInicial"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Integralidad" for="integridadInicial" style="font-weight:bold"/>
                                <p:selectOneMenu id="integridadInicial" label="Integralidad" value="#{tuTutelaBean.objeto.estadoInicial.integralidad}" required="#{tuTutelaBean.requeridoCampoEstadoIInicialIntegralidad}" requiredMessage="Integralidad: Este campo es obligatorio." editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialIntegralidad}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Entrega Sucesiva" for="entregaSucesiva" style="font-weight:bold"/>
                                <p:selectOneMenu id="entregaSucesiva" label="Entrega Sucesiva" value="#{tuTutelaBean.objeto.estadoInicial.entregaSucesiva}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialEntregaSucesiva}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Exoneración" for="exoneracionInicial" style="font-weight:bold"/>
                                <p:selectOneMenu id="exoneracionInicial" label="Exoneración" value="#{tuTutelaBean.objeto.estadoInicial.exoneracion}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialExoneracion}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Fecha Notificación" for="fechaNotificación" style="font-weight:bold"/>
                                <p:calendar id="fechaNotificación" yearRange="c-100:c+1" label="Fecha Notificación" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objeto.estadoInicial.fechaNotificacion}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" required="true" requiredMessage="Fecha Notificación: Este campo es obligatorio.">
                                    <p:ajax event="dateSelect" listener="#{tuTutelaBean.incrementarFecha()}" update="fechaVencimiento"/>
                                </p:calendar> 

                                <p:outputLabel value="Fecha Vencimiento" for="fechaVencimiento" style="font-weight:bold"/>
                                <p:calendar id="fechaVencimiento" yearRange="c-100:c+1" label="Fecha Vencimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objeto.estadoInicial.fechaVencimiento}" size="7" maxlength="10" required="true" requiredMessage="Fecha Vencimiento: Este campo es obligatorio."></p:calendar> 

                                <p:outputLabel id="labelMedidaProvisional" value="Medida Provisional" for="medidaProvisional" style="font-weight:bold"/>
                                <p:selectOneMenu id="medidaProvisional" label="Medida Provisional" value="#{tuTutelaBean.objeto.estadoInicial.medidadProvisional}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialMedidaProvisional}" required="#{tuTutelaBean.campoObligatorioMedidaProvisional}" requiredMessage="Medida Provisional: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelClaseSancion" value="Clase Sanción" for="claseSancion" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseSancion" label="Clase Sanción" value="#{tuTutelaBean.objeto.estadoInicial.maeClaseSancionId}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseSancion}" required="#{tuTutelaBean.campoObligatotioClaseSansion}" requiredMessage="Clase Sanción: Este campo es obligatorio."> 
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseSancion}" var="estadoClase" itemValue="#{estadoClase.id}" itemLabel="#{estadoClase.nombre}" itemDescription="#{estadoClase.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoClaseSancion()}" update="labelSMLV labelUVT labelClaseArresto labelDiasArresto smlv uvt claseArresto diasArresto"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelSMLV" value="SMLV" for="smlv" style="font-weight:bold"/>
                                <p:selectOneMenu id="smlv" label="SMLV" value="#{tuTutelaBean.objeto.estadoInicial.maeSmlvId}"  editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialSMLV}" required="#{tuTutelaBean.campoObligatotioSmlv}" requiredMessage="SMLV: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaSmlv}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelUVT" value="UVT" for="uvt" style="font-weight:bold"/>
                                <p:inputNumber id="uvt" value="#{tuTutelaBean.objeto.estadoInicial.uvt}" size="18" maxlength="18" decimalSeparator="," thousandSeparator="." disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialUVT}" required="#{tuTutelaBean.campoObligatotioUVT}" requiredMessage="UVT: Este campo es obligatorio."/>

                                <p:outputLabel id="labelClaseArresto" value="Clase Arresto" for="claseArresto" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseArresto" label="Clase Arresto" value="#{tuTutelaBean.objeto.estadoInicial.maeClaseArrestoId}" editable="fase" style="width: 100px;" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseArresto}" required="#{tuTutelaBean.campoObligatotioClaseArresto}" requiredMessage="Clase Arresto: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseArresto}" var="claseArr" itemValue="#{claseArr.id}" itemLabel="#{claseArr.nombre}" itemDescription="#{claseArr.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelDiasArresto" value="Días Arresto" for="diasArresto" style="font-weight:bold"/>
                                <p:inputText id="diasArresto" value="#{tuTutelaBean.objeto.estadoInicial.diasArresto}" size="7" maxlength="7" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialDiasArresto}" required="#{tuTutelaBean.campoObligatotioDiasArresto}" requiredMessage="Días Arresto: Este campo es obligatorio.">
                                    <p:keyFilter mask="num" />
                                </p:inputText>

                                <p:outputLabel value="Juzgado" for="juzgado" style="font-weight:bold"/>
                                <p:selectOneMenu id="juzgado" value="#{tuTutelaBean.objeto.estadoInicial.tuJuzgadoId.id}"
                                                 filter="true" filterMatchMode="contains"  style="width: 200px;" required="true" requiredMessage="Juzgado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaJuzgados}" var="juzga" itemValue="#{juzga.id}" itemLabel="#{juzga.nombre}" itemDescription="#{juzga.codigo_despacho}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Tipo Reparto" for="tipoReparto" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoReparto" label="Tipo Reparto" value="#{tuTutelaBean.objeto.estadoInicial.tipoReparto}" requiredMessage="Tipo Reparto: Este campo es obligatorio." editable="fase" style="width: 100px;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="Automatico" itemValue="false" />
                                    <f:selectItem itemLabel="Manual" itemValue="true" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarGruposTutelas()}" update="grupos abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Grupos" for="grupos" style="font-weight:bold"/>
                                <p:selectOneMenu id="grupos" label="Grupos" value="#{tuTutelaBean.objeto.estadoInicial.tuGrupoId}" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialGrupo}" requiredMessage="Grupos: Este campo es obligatorio." editable="fase" style="width: 100px;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaGrupos}" var="grupo" itemValue="#{grupo.id}" itemLabel="#{grupo.nombre}" itemDescription="#{grupo.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarUsuariosGruposTutelas()}" update="abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelRepresentanteDemandado" value="Representante Demandado" for="representanteDemandado" style="font-weight:bold"/>
                                <p:selectCheckboxMenu id="representanteDemandado" value="#{tuTutelaBean.objeto.estadoInicial.listaFiltrosRepresentanteDemandado}" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialRepresentanteDemandado}" 
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:500px" required="#{tuTutelaBean.campoObligatotioRepresentanteDemandado}" requiredMessage="Debes seleccionar al menos un Representante Demandado">
                                    <f:selectItems value="#{tuTutelaBean.listaUsuariosRepresentanteDemandado}" var="user" itemLabel="#{user.nombre}" itemValue="#{user.id}"/>
                                </p:selectCheckboxMenu>

                                <p:outputLabel value="Abogado" for="abogado" style="font-weight:bold"/>
                                <p:selectOneMenu id="abogado" label="Abogado" value="#{tuTutelaBean.objeto.estadoInicial.abogadoGnUsuarioId.id}" editable="fase" style="width: 100px;" required="true" requiredMessage="Abogado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaAbogados}" var="varAbogado" itemValue="#{varAbogado.id}" itemLabel="#{varAbogado.nombre}"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Gestor" for="gestor" style="font-weight:bold"/>
                                <p:selectOneMenu id="gestor" label="Gestor" value="#{tuTutelaBean.objeto.estadoInicial.gestorGnUsuarioId.id}" editable="fase" style="width: 100px;" required="true" requiredMessage="Gestor: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaGestores}" var="varGestor" itemValue="#{varGestor.id}" itemLabel="#{varGestor.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Medico" for="medico" style="font-weight:bold"/>
                                <p:selectOneMenu id="medico" label="Medico" value="#{tuTutelaBean.objeto.estadoInicial.medicoGnUsuarioId.id}" editable="fase" style="width: 100px;" required="true" requiredMessage="Medico: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaMedicos}" var="varMedico" itemValue="#{varMedico.id}" itemLabel="#{varMedico.nombre}" />
                                </p:selectOneMenu>

                            </p:panelGrid> 
                            <p:dataTable  id="tablaCrearAnexosEstados" var="anexSer" value="#{tuTutelaBean.objeto.estadoInicial.tuAdjuntosList}" widgetVar="tablaCrearAnexosEstados" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo5" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadEstadoInicial}"
                                                  mode="advanced"
                                                  update="tablaCrearAnexosEstados"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS ESTADOS
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Borrar" rendered="#{anexSer.id == null}" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 1)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" process="@form" immediate="true" onclick="guardarRemote()" validateClient="true"/>   
                                        <p:remoteCommand name="guardarRemote" action ="#{tuTutelaBean.guardar}" update="frmCrear"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>  
            </p:dialog> 
            <!--EDITAR -->
            <p:dialog widgetVar="dialogoEditar" appendTo="@(body)" modal="true" dynamic="true" width="90%">
                <header style="font-size: 30px;">
                    <b>Editar</b>
                </header>
                <h:form id="frmAuditoriaGeneralEditar" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{tuTutelaBean.objeto.tuPersona.datosAuditoria}"/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{tuTutelaBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmEditar">
                        <p:panel id="pPersonaEditar" header="PERSONA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:remoteCommand name="abrirVentanaHistorial" action="#{tuTutelaBean.verHistorialPersona(tuTutelaBean.objeto.tuPersona.numeroDocumento)}" immediate="true" />
                                <p:commandButton title="Historial Personas" type="button" immediate="true" process="@this" onclick="abrirVentanaHistorial()" icon="ui-icon-folder-open"/>
                                <p:remoteCommand name="verInfoAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" immediate="true"/>
                                <p:commandButton id="auditoria" type="button" immediate="true" process="@this" onclick="verInfoAuditoria()" class="btnAuditoria" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelPersonaEditar" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo Documento" for="tipoDocumento" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoDocumento" label="Tipo Documento" required="true" value="#{tuTutelaBean.objeto.tuPersona.maeTipoDocumentoId}" requiredMessage="Tipo Documento: Este campo es obligatorio." editable="fase" style="width: 200px;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaTiposDocumento}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.nombre}" itemDescription="#{tipoDoc.descripcion}" />
                                    <p:ajax event="change"  listener="#{tuTutelaBean.buscarPersonaEnSistema(1)}"></p:ajax>
                                </p:selectOneMenu>

                                <p:outputLabel value="Documento" for="documento" style="font-weight:bold"/>
                                <p:inputText id="documento" label="Documento" value="#{tuTutelaBean.objeto.tuPersona.numeroDocumento}" onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }" size="20" maxlength="16" required="true" requiredMessage="Documento: Este campo es obligatorio.">
                                    <p:ajax event="blur" listener="#{tuTutelaBean.buscarPersonaEnSistema(1)}"></p:ajax>
                                </p:inputText>

                                <p:outputLabel value="Nombres" for="nombres" style="font-weight:bold"/>
                                <p:inputText id="nombres" label="Nombres" value="#{tuTutelaBean.objeto.tuPersona.nombres}" onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }" size="30" maxlength="62" required="true" requiredMessage="Nombres: Este campo es obligatorio.">
                                </p:inputText>

                                <p:outputLabel value="Apellidos" for="apellidos" style="font-weight:bold"/>
                                <p:inputText id="apellidos" label="Apellidos" value="#{tuTutelaBean.objeto.tuPersona.apellidos}" onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }" size="30" maxlength="62" required="true" requiredMessage="Apellidos: Este campo es obligatorio.">
                                </p:inputText>

                                <p:outputLabel value="Fecha Nacimiento" for="fechaNacimiento" style="font-weight:bold"/>
                                <p:calendar id="fechaNacimiento" yearRange="c-100:c+1" label="Fecha Nacimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objeto.tuPersona.fechaNacimento}" onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }" size="7" maxlength="10"></p:calendar>     

                                <p:outputLabel value="Sexo" for="sexo" style="font-weight:bold"/>
                                <p:selectOneMenu id="sexo" label="Sexo" editable="fase"  value="#{tuTutelaBean.objeto.tuPersona.maeGeneroId}" required="true" requiredMessage="Sexo: Este campo es obligatorio.">                                    
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                    <f:selectItems value="#{tuTutelaBean.listaSexo}" var="tipSex" itemValue="#{tipSex.id}" itemLabel="#{tipSex.nombre}" itemDescription="#{tipSex.descripcion}"/>                                            
                                </p:selectOneMenu>

                                <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                <p:inputText  id="email" label="Correo Electrónico" value="#{tuTutelaBean.objeto.tuPersona.correoElectronico}" onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }" size="30" maxlength="64">
                                </p:inputText>

                                <p:outputLabel value="Estado Persona" for="estado" style="font-weight:bold"/>
                                <p:selectOneMenu id="estado" label="Estado Afiliado" editable="fase" value="#{tuTutelaBean.objeto.tuPersona.maeEstadoAfiliadoId}">                                    
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                    <f:selectItems value="#{tuTutelaBean.listaTipoEstadoPersona}" var="tipEst" itemValue="#{tipEst.id}" itemLabel="#{tipEst.nombre}" itemDescription="#{tipEst.descripcion}"/>                                    
                                </p:selectOneMenu>

                                <p:outputLabel value="Ubicación persona" for="ubicacion" style="font-weight:bold"/>
                                <p:autoComplete id="ubicacion" dropdown="false" value="#{tuTutelaBean.objeto.tuPersona.ubicacionAfiliadoId}" completeMethod="#{tuTutelaBean.completarUbicacion}"
                                                var="ubica" itemLabel="#{tuTutelaBean.getUbicacionRecursiva(ubica.id)}" itemValue="#{ubica}" onkeypress="if (event.keyCode === 13) {
                                                            return false;
                                                        }" converter="ubicacionConverterTuTutela" forceSelection="true"  required="true" requiredMessage="Ubicación persona: Este campo es obligatorio."> 
                                </p:autoComplete>

                                <p:outputLabel value="Dirección" for="direccion" style="font-weight:bold"/>
                                <p:inputText id="direccion" label="Dirección" value="#{tuTutelaBean.objeto.tuPersona.direccion}" size="30" maxlength="32">
                                </p:inputText>
                            </p:panelGrid>
                            <p:dataTable id="tablaContactoPersona" widgetVar="tablaContactoPersona" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" scrollable="true" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:remoteCommand name="verAgregarContacto" action="#{tuTutelaBean.crearContacto()}" immediate="true" />
                                            <p:commandButton value="Agregar Contacto" type="button" immediate="true" process="@this" onclick="verAgregarContacto()" title="Agregar Contacto"  icon="ui-icon-document"/>
                                        </div>
                                    </div>
                                    <div>
                                        Contactos
                                    </div>
                                </f:facet>

                                <p:column headerText="Número">
                                    <h:outputText value="#{contacto.numeroContacto}" />
                                </p:column>

                                <p:column headerText="Observación">
                                    <h:outputText value="#{contacto.observacion}" />
                                </p:column>

                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Borrar"/>
                                    </f:facet>
                                    <p:remoteCommand name="eliminarContacto" action="#{tuTutelaBean.borrarContacto(contacto)}" immediate="true"/>
                                    <p:commandButton title="Borrar"  type="button" immediate="true" process="@this" onclick="eliminarContacto()" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pTutelaCrear" header="TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrear" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Número Radicado" for="numeroRadicado" style="font-weight:bold"/>
                                <p:inputText id="numeroRadicado" label="Número Radicado" value="#{tuTutelaBean.objeto.radicadoNumero}" size="10" maxlength="23" required="true" requiredMessage="Numero Radicado: Este campo es obligatorio." onkeypress="if (event.keyCode === 13) {
                                            return false;
                                        }">
                                </p:inputText>

                                <p:outputLabel value="Ubicación Juzgado" for="ubicacionTutela" style="font-weight:bold"/>
                                <p:selectOneMenu id="ubicacionTutela" value="#{tuTutelaBean.objeto.gnUbicacionId.id}"
                                                 filter="true" filterMatchMode="contains"  style="width: 200px;" required="true" requiredMessage="Ubicación juzgado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.ubicaciones}" var="ubi" itemValue="#{ubi.id}" itemLabel="#{ubi.nombre}" itemDescription="#{ubi.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.listarJuszadosAsociadas()}"/>
                                </p:selectOneMenu>

                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelEditarEstados" header="Estados tutela"  style="margin-bottom:10px; width: 120%;" collapsed="false" toggleable="true">
                            <p:dataTable var="objEst" value="#{tuTutelaBean.lazyTuTutelaEstado}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaEditarTutelaEstados" lazy="true"
                                         widgetVar="wtablaEstadoEditarWidget"
                                         scrollable="true"
                                         style="font-size:11px;width:100%;max-height: 300px;overflow: scroll;"
                                         rowKey="#{objEst.id}" reflow="true">

                                <p:column style="text-align: center">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionEditar}" title="Editar Estado" actionListener="#{tuTutelaBean.editarEstados(objEst.id, objEst.pos)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Eliminar" actionListener="#{tuTutelaBean.borrarEstadoDb(objEst.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                    <p:commandButton rendered="#{tuTutelaBean.accionEditar}" title="Editar Gestión Estado" actionListener="#{tuTutelaBean.editarItemYSeguimiento(objEst.id, objEst.pos)}" icon="ui-icon-folder-open"/>
                                </p:column>

                                <p:column headerText="Identificador Estado"  sortBy="#{objEst.id}" filterBy="#{objEst.id}">
                                    <f:facet name="filter">    
                                        <p:inputText label="Identificador Estado" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('wtablaEstadoEditarWidget').filter()"/>                 
                                    </f:facet> 
                                    <h:outputText value="#{objEst.id}" title="#{objEst.id}" />
                                </p:column>

                                <p:column headerText="" filterBy="#{objEst.maeEstadoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Estado" onchange="PF('wtablaEstadoEditarWidget').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{objEst.maeEstadoValor}" title="#{objEst.maeEstadoValor}"/>
                                </p:column>
                                
                                <p:column headerText="Items Resueltos" sortBy="#{obj.cantidadItems}" style="width: 50px; text-align: center">
                                    <i class="pi pi-circle-on" title="Total" style="color: green"/>
                                    <h:outputText value="#{obj.cantidadItems}" title="#{obj.cantidadItems}"/>
                                    <br/>
                                    <i class="pi pi-circle-on" title="Cerrados o resueltos" style="color: #{obj.establecerColorItemsCerrados()}"/>
                                    <h:outputText value="#{obj.cantidadItemsCerrados}" title="#{obj.cantidadItemsCerrados}"/>
                                </p:column>

                                <p:column headerText="" filterBy="#{objEst.maeProcesoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Proceso" onchange="PF('wtablaEstadoEditarWidget').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{objEst.maeProcesoValor}" title="#{objEst.maeProcesoValor}"/>
                                </p:column>

                                <p:column headerText="Responsable" sortBy="#{objEst.responsableGnUsuarioId.nombre}" filterBy="#{objEst.responsableGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Responsable" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('wtablaEstadoEditarWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objEst.responsableGnUsuarioId.nombre}" title="#{objEst.responsableGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Abogado" sortBy="#{objEst.abogadoGnUsuarioId.nombre}" filterBy="#{objEst.abogadoGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Abogado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('wtablaEstadoEditarWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objEst.abogadoGnUsuarioId.nombre}" title="#{objEst.abogadoGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Fecha Notificación" sortBy="#{objEst.fechaNotificacion}">   
                                    <h:outputText value="#{objEst.fechaNotificacion}" title="#{objEst.fechaNotificacion}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Modificar" type="button" onclick="modificarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="modificarRemote" action="#{tuTutelaBean.modificar}" update="frmEditar" />
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--GESTION-->
            <p:dialog widgetVar="dialogoGestion" appendTo="@(body)" modal="true" width="90%" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Gestión</b>
                </header>
                <h:form id="frmAuditoriaGestionar" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{tuTutelaBean.objeto.tuPersona.datosAuditoria}"/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{tuTutelaBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmGestion">
                        <p:panel id="pGestionPersona" header="PERSONA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton title="Historial Personas" actionListener="#{tuTutelaBean.verHistorialPersona(tuTutelaBean.objeto.tuPersona.numeroDocumento)}" icon="ui-icon-folder-open"/>
                                <p:commandButton id="auditoriaGestionPersona" class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.tuPersona.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Estado afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeEstadoAfiliadoValor}" />

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeTipoDocumentoValor}" />

                                <p:outputLabel value="Numero documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.numeroDocumento}" />

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.nombres}" />

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.apellidos}" />

                                <p:outputLabel value="Fecha nacimento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.fechaNacimento}" />

                                <p:outputLabel value="Genero" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeGeneroValor}" />

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.direccion}" />

                                <p:outputLabel value="Correo electronico" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.correoElectronico}" />

                                <p:outputLabel value="Ubicación afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.tuPersona.ubicacionAfiliadoId.id)}" />

                            </p:panelGrid>
                            <p:dataTable id="tablaContactoPersona" widgetVar="tablaContactoPersona" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" scrollable="true" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:remoteCommand name="verAgregarContacto" action="#{tuTutelaBean.crearContacto()}" immediate="true" />
                                            <p:commandButton value="Agregar Contacto" type="button" immediate="true" process="@this" onclick="verAgregarContacto()" title="Agregar Contacto"  icon="ui-icon-document"/>
                                        </div>
                                    </div>
                                    <div>
                                        Contactos
                                    </div>
                                </f:facet>

                                <p:column headerText="Número">
                                    <h:outputText value="#{contacto.numeroContacto}" />
                                </p:column>

                                <p:column headerText="Observación">
                                    <h:outputText value="#{contacto.observacion}" />
                                </p:column>
                            </p:dataTable>
                            <p:separator />
                        </p:panel>
                        <p:separator />
                        <p:panel id="gesPanelVerTutela" header="TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmTutela" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="gestionPanelDatosTutela" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Numero tutela" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.id}" />

                                <p:outputLabel value="Numero radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.radicadoNumero}" />

                                <p:outputLabel value="Estado actual" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.maeEstadoValor}" />

                                <p:outputLabel value="Juzgado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.tuJuzgadoId.nombre}" />

                                <p:outputLabel value="Municipio Juzgado" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>
                        <p:separator />
                        <p:panel id="gesPanelVerEstdos" header="ESTADOS DE TUTELA"  style="margin-bottom:10px; width: 120%;" collapsed="false" toggleable="true">
                            <p:dataTable id="tablaGestionTutelaEstado" var="obj" value="#{tuTutelaBean.lazyTuTutelaEstado}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100"  lazy="true"
                                         widgetVar="tablaGestionTutelaEstado"
                                         scrollable="true"
                                         style="font-size:11px;width:100%;max-height: 300px;overflow: scroll;"
                                         rowKey="#{obj.id}" reflow="true">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional3}" value="Agregar Estado" title="Agregar Estado" actionListener="#{tuTutelaBean.crearEstado()}" immediate="true" icon="ui-icon-document"></p:commandButton>
                                        </div>
                                    </div>
                                    <div>
                                        ESTADOS
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionVer}" title="Ver detalle estado" actionListener="#{tuTutelaBean.verEstado(obj.id, obj.pos)}" icon="ui-icon-search"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionAdicional2}" title="Gestionar Estado" actionListener="#{tuTutelaBean.crearTablaItem(obj.id, obj.pos)}" immediate="true" icon="ui-icon-folder-open"/>
                                    <p:commandButton rendered="#{obj.id == null}" title="Eliminar" actionListener="#{tuTutelaBean.borrarServicio(obj.pos)}" icon="ui-icon-trash"/>
                                </p:column>

                                <p:column headerText="Identificador Estado"  sortBy="#{obj.id}" filterBy="#{obj.id}">
                                    <f:facet name="filter">    
                                        <p:inputText label="Identificador Estado" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaGestionTutelaEstado').filter()"/>                 
                                    </f:facet> 
                                    <h:outputText value="#{obj.id}" title="#{obj.id}" />
                                </p:column>
                                
                                <p:column headerText="" filterBy="#{obj.maeEstadoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Estado" onchange="PF('tablaGestionTutelaEstado').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeEstadoValor}" title="#{obj.maeEstadoValor}"/>
                                </p:column>
                                
                                <p:column headerText="Items Resueltos" sortBy="#{obj.cantidadItems}" style="width: 50px; text-align: center">
                                    <i class="pi pi-circle-on" title="Total" style="color: green"/>
                                    <h:outputText value="#{obj.cantidadItems}" title="#{obj.cantidadItems}"/>
                                    <br/>
                                    <i class="pi pi-circle-on" title="Cerrados o resueltos" style="color: #{obj.establecerColorItemsCerrados()}"/>
                                    <h:outputText value="#{obj.cantidadItemsCerrados}" title="#{obj.cantidadItemsCerrados}"/>
                                </p:column>


                                <p:column headerText="" filterBy="#{obj.maeProcesoId}">
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Proceso" onchange="PF('tablaGestionTutelaEstado').filter()" scrollHeight="150" styleClass="custom-filter">
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="tipoEstSol" itemValue="#{tipoEstSol.id}" itemLabel="#{tipoEstSol.nombre}" itemDescription="#{tipoEstSol.descripcion}"/>
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeProcesoValor}" title="#{obj.maeProcesoValor}"/>
                                </p:column>

                                <p:column headerText="Responsable" sortBy="#{obj.responsableGnUsuarioId.nombre}" filterBy="#{obj.responsableGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Responsable" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaGestionTutelaEstado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.responsableGnUsuarioId.nombre}" title="#{obj.responsableGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Abogado" sortBy="#{obj.abogadoGnUsuarioId.nombre}" filterBy="#{obj.abogadoGnUsuarioId.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Abogado" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                    onchange();
                                                    return false;
                                                }" onchange="PF('tablaGestionTutelaEstado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.abogadoGnUsuarioId.nombre}" title="#{obj.abogadoGnUsuarioId.nombre}"/>
                                </p:column>

                                <p:column headerText="Fecha Notificación" sortBy="#{obj.fechaNotificacion}">   
                                    <h:outputText value="#{obj.fechaNotificacion}" title="#{obj.fechaNotificacion}"/>
                                </p:column>                               
                            </p:dataTable>    
                        </p:panel>  
                        <p:separator />
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Guardar" type="button" process="@form" immediate="true" onclick="modificarGestionRemote()" validateClient="true"/>   
                                            <p:remoteCommand name="modificarGestionRemote" action="#{tuTutelaBean.modificarGestion}" update="frmGestion" />
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoGestion').hide()" immediate="true" style="margin-left: 5px;"/>                                           
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR ESTADO-->
            <p:dialog header="Agregar Estado" widgetVar="dialogoCrearServicio" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearEstadoAdicional">
                        <p:panel id="pCrearEstadoAdicional" header="ESTADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrearEstadoAdicional" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Proceso" for="proceso" style="font-weight:bold"/>
                                <p:selectOneMenu id="proceso" label="Proceso" value="#{tuTutelaBean.objEstados.maeProcesoId}"  editable="fase"   required="true" requiredMessage="Proceso: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Estado" for="estado" style="font-weight:bold"/>
                                <p:selectOneMenu id="estado" label="Estado"  value="#{tuTutelaBean.objEstados.maeEstadoId}" editable="fase"   required="true" requiredMessage="Estado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.accionesEstadosAdicionalesTutelas()}" update="labelFallo labelMedidaProvisional labelClaseSancion labelSMLV labelUVT labelClaseArresto labelDiasArresto labelRepresentanteDemandado tipoReparto fallo claseSancion medidaProvisional integridad entregaSucesiva exoneracion smlv uvt claseArresto diasArresto representanteDemandado grupos abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelFallo" value="Sentido del Fallo" for="fallo" style="font-weight:bold"/>
                                <p:selectOneMenu id="fallo" label="Sentido del Fallo" value="#{tuTutelaBean.objEstados.maeTipoFalloId}" editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialFallo}" required="#{tuTutelaBean.campoObligatotioFallo}" requiredMessage="Fallo: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoFallo}" var="estadoFall" itemValue="#{estadoFall.id}" itemLabel="#{estadoFall.nombre}" itemDescription="#{estadoFall.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoFalloAdicional()}" update="integridad entregaSucesiva exoneracion"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Integralidad" for="integridad" style="font-weight:bold"/>
                                <p:selectOneMenu id="integridad" label="Integralidad" value="#{tuTutelaBean.objEstados.integralidad}" editable="fase" required="#{tuTutelaBean.requeridoCampoEstadoIInicialIntegralidad}" requiredMessage="Integralidad: Este campo es obligatorio." disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialIntegralidad}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Entrega Sucesiva" for="entregaSucesiva" style="font-weight:bold"/>
                                <p:selectOneMenu id="entregaSucesiva" label="Entrega Sucesiva" value="#{tuTutelaBean.objEstados.entregaSucesiva}" editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialEntregaSucesiva}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Exoneración" for="exoneracion" style="font-weight:bold"/>
                                <p:selectOneMenu id="exoneracion" label="Exoneración" value="#{tuTutelaBean.objEstados.exoneracion}"  editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialExoneracion}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Fecha Notificación" for="fechaNotificación" style="font-weight:bold"/>
                                <p:calendar id="fechaNotificación" yearRange="c-100:c+1" label="Fecha Notificación" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objEstados.fechaNotificacion}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" required="true" requiredMessage="Fecha Notificación: Este campo es obligatorio.">
                                    <p:ajax event="dateSelect" listener="#{tuTutelaBean.incrementarFechaAdicional()}" update="fechaVencimiento"/>
                                </p:calendar> 

                                <p:outputLabel value="Fecha Vencimiento" for="fechaVencimiento" style="font-weight:bold"/>
                                <p:calendar id="fechaVencimiento" yearRange="c-100:c+1" label="Fecha Vencimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objEstados.fechaVencimiento}" size="7" maxlength="10" required="true" requiredMessage="Fecha Vencimiento: Este campo es obligatorio."></p:calendar> 

                                <p:outputLabel id="labelMedidaProvisional" value="Medida Provisional" for="medidaProvisional" style="font-weight:bold"/>
                                <p:selectOneMenu id="medidaProvisional" label="Medida Provisional" value="#{tuTutelaBean.objEstados.medidadProvisional}" editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialMedidaProvisional}" required="#{tuTutelaBean.campoObligatorioMedidaProvisional}" requiredMessage="Medida Provisional: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelClaseSancion" value="Clase Sanción" for="claseSancion" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseSancion" label="Clase Sanción" value="#{tuTutelaBean.objEstados.maeClaseSancionId}"  editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseSancion}" required="#{tuTutelaBean.campoObligatotioClaseSansion}" requiredMessage="Clase Sanción: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseSancion}" var="estadoClase" itemValue="#{estadoClase.id}" itemLabel="#{estadoClase.nombre}" itemDescription="#{estadoClase.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoClaseSancionAdicional()}" update="labelSMLV labelUVT labelClaseArresto labelDiasArresto smlv uvt claseArresto diasArresto"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelSMLV" value="SMLV" for="smlv" style="font-weight:bold"/>
                                <p:selectOneMenu id="smlv" label="SMLV" value="#{tuTutelaBean.objEstados.maeSmlvId}" editable="fase" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialSMLV}" required="#{tuTutelaBean.campoObligatotioSmlv}" requiredMessage="SMLV: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaSmlv}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelUVT" value="UVT" for="uvt" style="font-weight:bold"/>
                                <p:inputNumber id="uvt" value="#{tuTutelaBean.objEstados.uvt}" size="20" maxlength="18" decimalSeparator="," thousandSeparator="." disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialUVT}" required="#{tuTutelaBean.campoObligatotioUVT}" requiredMessage="UVT: Este campo es obligatorio."/>

                                <p:outputLabel id="labelClaseArresto" value="Clase Arresto" for="claseArresto" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseArresto" label="Clase Arresto" value="#{tuTutelaBean.objEstados.maeClaseArrestoId}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseArresto}" required="#{tuTutelaBean.campoObligatotioClaseArresto}" requiredMessage="Clase Arresto: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseArresto}" var="claseArr" itemValue="#{claseArr.id}" itemLabel="#{claseArr.nombre}" itemDescription="#{claseArr.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelDiasArresto" value="Días Arresto" for="diasArresto" style="font-weight:bold"/>
                                <p:inputText id="diasArresto" value="#{tuTutelaBean.objEstados.diasArresto}" size="7" maxlength="7" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialDiasArresto}" required="#{tuTutelaBean.campoObligatotioDiasArresto}" requiredMessage="Días Arresto: Este campo es obligatorio.">
                                    <p:keyFilter mask="num" />
                                </p:inputText>

                                <p:outputLabel value="Juzgado" for="juzgado" style="font-weight:bold"/>
                                <p:selectOneMenu id="juzgado" label="Juzgado"  value="#{tuTutelaBean.objEstados.tuJuzgadoId.id}" editable="fase"  required="true" requiredMessage="Juzgado: Este campo es obligatorio." disabled="true">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaJuzgados}" var="listJuzgado" itemValue="#{listJuzgado.id}" itemLabel="#{listJuzgado.nombre}" itemDescription="#{listJuzgado.codigo_despacho}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Tipo Reparto" for="tipoReparto" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoReparto" label="Tipo Reparto" value="#{tuTutelaBean.objEstados.tipoReparto}"  editable="fase" style="width: 100px;" requiredMessage="Tipo Reparto: Este campo es obligatorio."  disabled="#{tuTutelaBean.bloquearTipoReparto}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="Automatico" itemValue="false" />
                                    <f:selectItem itemLabel="Manual" itemValue="true" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarGruposAdicionalesTutelas()}" update="grupos abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Grupos" for="grupos" style="font-weight:bold"/>
                                <p:selectOneMenu id="grupos" label="Grupos" value="#{tuTutelaBean.objEstados.tuGrupoId}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialGrupo}" requiredMessage="Grupos: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaGrupos}" var="grupo" itemValue="#{grupo.id}" itemLabel="#{grupo.nombre}" itemDescription="#{grupo.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarUsuariosGruposAdicionalesTutelas()}" update="abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelRepresentanteDemandado" value="Representante Demandado" for="representanteDemandado" style="font-weight:bold"/>
                                <p:selectCheckboxMenu id="representanteDemandado" value="#{tuTutelaBean.objEstados.listaFiltrosRepresentanteDemandado}" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialRepresentanteDemandado}" 
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:500px" required="#{tuTutelaBean.campoObligatotioRepresentanteDemandado}" requiredMessage="Debes seleccionar al menos un Representante Demandado">
                                    <f:selectItems value="#{tuTutelaBean.listaUsuariosRepresentanteDemandado}" var="user" itemLabel="#{user.nombre}" itemValue="#{user.id}"/>
                                </p:selectCheckboxMenu>

                                <p:outputLabel value="Abogado" for="abogado" style="font-weight:bold"/>
                                <p:selectOneMenu id="abogado" label="Abogado" value="#{tuTutelaBean.objEstados.abogadoGnUsuarioId.id}" editable="fase"   required="true" requiredMessage="Abogado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaAbogados}" var="varAbogado" itemValue="#{varAbogado.id}" itemLabel="#{varAbogado.nombre}"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Gestor" for="gestor" style="font-weight:bold"/>
                                <p:selectOneMenu id="gestor" label="Gestor" value="#{tuTutelaBean.objEstados.gestorGnUsuarioId.id}"  editable="fase"   required="true" requiredMessage="Gestor: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaGestores}" var="varGestor" itemValue="#{varGestor.id}" itemLabel="#{varGestor.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Medico" for="medico" style="font-weight:bold"/>
                                <p:selectOneMenu id="medico" label="Medico" value="#{tuTutelaBean.objEstados.medicoGnUsuarioId.id}" editable="fase"  required="true" requiredMessage="Medico: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaMedicos}" var="varMedico" itemValue="#{varMedico.id}" itemLabel="#{varMedico.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Descripción" for="descripcionCrear" style="font-weight:bold"/>
                                <p:inputTextarea id="descripcionCrear" label="Descripción" value="#{tuTutelaBean.objEstados.observacion}" cols="60" maxlength="511" />

                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearEstadosAdicionalAnexos" header="ANEXOS ESTADOS" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEstadosAdicionalAnexos" var="anexSer" value="#{tuTutelaBean.objEstados.tuAdjuntosList}" widgetVar="tablaEstadosAdicionalAnexos" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadServicio}"
                                                  mode="advanced"
                                                  update="tablaEstadosAdicionalAnexos"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS ESTADOS
                                    </div>
                                </f:facet>      
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Borrar" rendered="#{anexSer.id == null}" action="#{tuTutelaBean.borrarAdjuntoEstadoAdicionalMemoria(anexSer.pos)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Adicionar" type="button" onclick="adicionarServicioRemote()" validateClient="true"/>
                                            <p:remoteCommand name="adicionarServicioRemote" action ="#{tuTutelaBean.adicionarEstado}" update="frmCrearEstadoAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearServicio').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR ESTADO-->
            <p:dialog header="Editar Estado" widgetVar="dialogoEditarEstado" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarEstadoAdicional">
                        <p:panel id="pEditarEstadoAdicional" header="ESTADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">  
                                <p:remoteCommand name="verInfoAuditoriaEstado" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objEstados.auditoriaStrHTML)}" immediate="true"/>
                                <p:commandButton id="auditoriaEstadoAdicional" class="btnAuditoria" type="button" immediate="true" process="@this" onclick="verInfoAuditoriaEstado()" icon="ui-icon-comment" title="Auditoría." />
                            </p:outputPanel>
                            <p:panelGrid id="panelEditarEstadoAdicional" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Proceso" for="proceso" style="font-weight:bold"/>
                                <p:selectOneMenu id="proceso" label="Proceso" value="#{tuTutelaBean.objEstados.maeProcesoId}" editable="fase"  required="true" requiredMessage="Proceso: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoProceso}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Estado" for="estado" style="font-weight:bold"/>
                                <p:selectOneMenu id="estado" label="Estado"  value="#{tuTutelaBean.objEstados.maeEstadoId}"  editable="fase" required="true" requiredMessage="Estado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoTutela}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                    <p:ajax listener="#{tuTutelaBean.accionesEstadosAdicionalesTutelas()}" update="labelFallo labelMedidaProvisional labelClaseSancion labelSMLV labelUVT labelClaseArresto labelDiasArresto labelRepresentanteDemandado fallo claseSancion medidaProvisional integridad entregaSucesiva exoneracion smlv uvt tipoReparto claseArresto diasArresto representanteDemandado abogado grupos gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelFallo" value="Sentido del Fallo" for="fallo" style="font-weight:bold"/>
                                <p:selectOneMenu id="fallo" label="Sentido del Fallo" value="#{tuTutelaBean.objEstados.maeTipoFalloId}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialFallo}" required="#{tuTutelaBean.campoObligatotioFallo}" requiredMessage="Fallo: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaEstadoFallo}" var="estadoFall" itemValue="#{estadoFall.id}" itemLabel="#{estadoFall.nombre}" itemDescription="#{estadoFall.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoFalloAdicional()}" update="integridad entregaSucesiva exoneracion"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Integralidad" for="integridad" style="font-weight:bold"/>
                                <p:selectOneMenu id="integridad" label="Integralidad" value="#{tuTutelaBean.objEstados.integralidad}" editable="fase" required="#{tuTutelaBean.requeridoCampoEstadoIInicialIntegralidad}" requiredMessage="Integralidad: Este campo es obligatorio."  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialIntegralidad}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Entrega Sucesiva" for="entregaSucesiva" style="font-weight:bold"/>
                                <p:selectOneMenu id="entregaSucesiva" label="Entrega Sucesiva" value="#{tuTutelaBean.objEstados.entregaSucesiva}" editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialEntregaSucesiva}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Exoneración" for="exoneracion" style="font-weight:bold"/>
                                <p:selectOneMenu id="exoneracion" label="Exoneración" value="#{tuTutelaBean.objEstados.exoneracion}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialExoneracion}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Fecha Notificación" for="fechaNotificación" style="font-weight:bold"/>
                                <p:calendar id="fechaNotificación" yearRange="c-100:c+1" label="Fecha Notificación" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objEstados.fechaNotificacion}" size="7" maxlength="10" required="true" requiredMessage="Fecha Notificación: Este campo es obligatorio.">
                                    <p:ajax event="dateSelect" listener="#{tuTutelaBean.incrementarFechaAdicional()}" update="fechaVencimiento"/>
                                </p:calendar> 

                                <p:outputLabel value="Fecha Vencimiento" for="fechaVencimiento" style="font-weight:bold"/>
                                <p:calendar id="fechaVencimiento" yearRange="c-100:c+1" label="Fecha Vencimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objEstados.fechaVencimiento}" size="7" maxlength="10" required="true" requiredMessage="Fecha Vencimiento: Este campo es obligatorio."></p:calendar> 

                                <p:outputLabel id="labelMedidaProvisional" value="Medida Provisional" for="medidaProvisional" style="font-weight:bold"/>
                                <p:selectOneMenu id="medidaProvisional" label="Medida Provisional" value="#{tuTutelaBean.objEstados.medidadProvisional}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialMedidaProvisional}" required="#{tuTutelaBean.campoObligatorioMedidaProvisional}" requiredMessage="Medida Provisional: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="No" itemValue="false" />
                                    <f:selectItem itemLabel="Si" itemValue="true" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelClaseSancion" value="Clase Sanción" for="claseSancion" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseSancion" label="Clase Sanción" value="#{tuTutelaBean.objEstados.maeClaseSancionId}" editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseSancion}" required="#{tuTutelaBean.campoObligatotioClaseSansion}" requiredMessage="Clase Sanción: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseSancion}" var="estadoClase" itemValue="#{estadoClase.id}" itemLabel="#{estadoClase.nombre}" itemDescription="#{estadoClase.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.habilitarCamposTipoClaseSancionAdicional()}" update="labelSMLV labelUVT labelClaseArresto labelDiasArresto smlv uvt claseArresto diasArresto"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelSMLV" value="SMLV" for="smlv" style="font-weight:bold"/>
                                <p:selectOneMenu id="smlv" label="SMLV" value="#{tuTutelaBean.objEstados.maeSmlvId}"  editable="fase"  disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialSMLV}" required="#{tuTutelaBean.campoObligatotioSmlv}" requiredMessage="SMLV: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaSmlv}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelUVT" value="UVT" for="uvt" style="font-weight:bold"/>
                                <p:inputNumber id="uvt" value="#{tuTutelaBean.objEstados.uvt}" size="20" maxlength="18" decimalSeparator="," thousandSeparator="." disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialUVT}" required="#{tuTutelaBean.campoObligatotioUVT}" requiredMessage="UVT: Este campo es obligatorio."/>

                                <p:outputLabel id="labelClaseArresto" value="Clase Arresto" for="claseArresto" style="font-weight:bold"/>
                                <p:selectOneMenu id="claseArresto" label="Clase Arresto" value="#{tuTutelaBean.objEstados.maeClaseArrestoId}"  editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialClaseArresto}" required="#{tuTutelaBean.campoObligatotioClaseArresto}" requiredMessage="Clase Arresto: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaClaseArresto}" var="claseArr" itemValue="#{claseArr.id}" itemLabel="#{claseArr.nombre}" itemDescription="#{claseArr.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel id="labelDiasArresto" value="Días Arresto" for="diasArresto" style="font-weight:bold"/>
                                <p:inputText id="diasArresto" value="#{tuTutelaBean.objEstados.diasArresto}" size="10" maxlength="7" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialDiasArresto}" required="#{tuTutelaBean.campoObligatotioDiasArresto}" requiredMessage="Días Arresto: Este campo es obligatorio.">
                                    <p:keyFilter mask="num" />
                                </p:inputText>      

                                <p:outputLabel value="Juzgado" for="juzgado" style="font-weight:bold"/>
                                <p:selectOneMenu id="juzgado" value="#{tuTutelaBean.objEstados.tuJuzgadoId.id}"
                                                 filter="true" filterMatchMode="contains"    required="true" requiredMessage="Juzgado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaJuzgados}" var="juzga" itemValue="#{juzga.id}" itemLabel="#{juzga.nombre}" itemDescription="#{juzga.codigo_despacho}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Tipo Reparto" for="tipoReparto" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoReparto" label="Tipo Reparto" value="#{tuTutelaBean.objEstados.tipoReparto}" requiredMessage="Tipo Reparto: Este campo es obligatorio."  editable="fase"  >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItem itemLabel="Automatico" itemValue="false" />
                                    <f:selectItem itemLabel="Manual" itemValue="true" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarGruposAdicionalesTutelas()}" update="grupos abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Grupos" for="grupos" style="font-weight:bold"/>
                                <p:selectOneMenu id="grupos" label="Grupos" value="#{tuTutelaBean.objEstados.tuGrupoId}" editable="fase"   disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialGrupo}" requiredMessage="Grupos: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{tuTutelaBean.listaGrupos}" var="grupo" itemValue="#{grupo.id}" itemLabel="#{grupo.nombre}" itemDescription="#{grupo.descripcion}" />
                                    <p:ajax event="itemSelect" listener="#{tuTutelaBean.consultarUsuariosGruposAdicionalesTutelas()}" update="abogado gestor medico"/>
                                </p:selectOneMenu>

                                <p:outputLabel id="labelRepresentanteDemandado" value="Representante Demandado" for="representanteDemandado" style="font-weight:bold"/>
                                <p:selectCheckboxMenu id="representanteDemandado" value="#{tuTutelaBean.objEstados.listaFiltrosRepresentanteDemandado}" disabled="#{tuTutelaBean.deshabilitarCampoEstadoInicialRepresentanteDemandado}" 
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:500px" required="#{tuTutelaBean.campoObligatotioRepresentanteDemandado}" requiredMessage="Debes seleccionar al menos un Representante Demandado">
                                    <f:selectItems value="#{tuTutelaBean.listaUsuariosRepresentanteDemandado}" var="user" itemLabel="#{user.nombre}" itemValue="#{user.id}"/>
                                </p:selectCheckboxMenu>

                                <p:outputLabel value="Abogado" for="abogado" style="font-weight:bold"/>
                                <p:selectOneMenu id="abogado" label="Abogado" value="#{tuTutelaBean.objEstados.abogadoGnUsuarioId.id}"  editable="fase"  required="true" requiredMessage="Abogado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaAbogados}" var="varAbogado" itemValue="#{varAbogado.id}" itemLabel="#{varAbogado.nombre}"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Gestor" for="gestor" style="font-weight:bold"/>
                                <p:selectOneMenu id="gestor" label="Gestor" value="#{tuTutelaBean.objEstados.gestorGnUsuarioId.id}" editable="fase" required="true" requiredMessage="Gestor: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaGestores}" var="varGestor" itemValue="#{varGestor.id}" itemLabel="#{varGestor.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Medico" for="medico" style="font-weight:bold"/>
                                <p:selectOneMenu id="medico" label="Medico" value="#{tuTutelaBean.objEstados.medicoGnUsuarioId.id}"  editable="fase" required="true" requiredMessage="Medico: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaMedicos}" var="varMedico" itemValue="#{varMedico.id}" itemLabel="#{varMedico.nombre}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Responsable" for="responsable" style="font-weight:bold"/>
                                <p:autoComplete id="responsable" dropdown="true" required="true" value="#{tuTutelaBean.objEstados.responsableGnUsuarioId}" completeMethod="#{tuTutelaBean.completarUsuarios}" requiredMessage="Responsable Este campo es obligatorio." 
                                                var="tipMot" itemValue="#{tipMot}" itemLabel="#{tipMot.nombre}" forceSelection="true" converter="usuarioConverterTuTutela"  >               
                                </p:autoComplete>

                                <p:outputLabel value="Descripción" for="descripcionCrear" style="font-weight:bold"/>
                                <p:inputTextarea id="descripcionCrear" label="Descripción" value="#{tuTutelaBean.objEstados.observacion}" cols="60" maxlength="511" />

                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearServicioAnexos" header="ANEXOS ESTADOS" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaAnexosServicios" var="anexSer" value="#{tuTutelaBean.objEstados.tuAdjuntosList}" widgetVar="tablaAnexosServicios" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadServicio}"
                                                  mode="advanced"
                                                  update="tablaAnexosServicios"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                </f:facet>  
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 0)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>


                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">                                
                                            <p:commandButton value="Modificar" type="button" onclick="modificarServicioRemote()" validateClient="true"/>
                                            <p:remoteCommand name="modificarServicioRemote" action="#{tuTutelaBean.modificarEstado()}" update="frmEditarEstadoAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarEstado').hide()" immediate="true" style="margin-left: 5px;"/>                                       
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>     
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR ITEM Y SEGUIMIENTO-->
            <p:dialog header="AGREGAR ITEM Y SEGUIMIENTO" widgetVar="dialogoTablaItem" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearTablaItem">
                        <p:panel id="gesPanelVerTutela" header="TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmTutela" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="gesPanelDatosTutela" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Numero tutela" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.id}" />

                                <p:outputLabel value="Numero radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.radicadoNumero}" />

                                <p:outputLabel value="Estado actual" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.maeEstadoValor}" />

                                <p:outputLabel value="Municipio tutela" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearTablaItem" rendered="#{tuTutelaBean.habilitarPanelItem}" header="ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">  
                            <p:dataTable  id="tablaItemMostrar" var="itemsIn" value="#{tuTutelaBean.objEstados.listaTuTutelaItem}" widgetVar="tablaItem" scrollable="true" scrollHeight="100" paginatorPosition="bottom" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" immediate="true" action="#{tuTutelaBean.consultarTecnologia()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" immediate="true" action="#{tuTutelaBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" immediate="true" action="#{tuTutelaBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" immediate="true" action="#{tuTutelaBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}" immediate="true" action="#{tuTutelaBean.consultarNoprocedimiento()}" icon="ui-corner-all" title="Agregar No Procedimiento"/>
                                        </div>
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionAdicional1 and itemsIn.id != null}" title="Editar Item" actionListener="#{tuTutelaBean.editarItemGestion(itemsIn.id, itemsIn.pos)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{itemsIn.id == null}" title="Eliminar" action="#{tuTutelaBean.borrarItem(itemsIn.pos)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Prestación">
                                    <h:outputText value="#{itemsIn.maeTipoPrestacionValor}"/>
                                </p:column>
                                <p:column headerText="Estado">
                                    <h:outputText value="#{itemsIn.maeEstadoItemValor}"/>
                                </p:column>
                                <p:column headerText="Causa">
                                    <h:outputText value="#{itemsIn.maeCausaTutelaValor}"/>
                                </p:column>
                                <p:column headerText="Presentación">
                                    <h:outputText value="#{itemsIn.maePresentacionValor}"/>
                                </p:column>
                                <p:column headerText="Tecnología">
                                    <h:outputText value="#{itemsIn.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Fecha Cumplimiento">
                                    <h:outputText value="#{itemsIn.fechaCumplimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearSeguimiento" header="SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaSeguimientoMostrar" var="serviciosIn" value="#{tuTutelaBean.objEstados.tuSeguimientosList}" widgetVar="tablaItem" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton  value="Agregar Seguimiento" title="Agregar Seguimiento" actionListener="#{tuTutelaBean.crearSeguimiento()}" immediate="true" icon="ui-icon-document"/>
                                            <p:commandButton rendered="#{tuTutelaBean.accionAdicional1}"  title="Descargar Memorial" actionListener="#{tuTutelaBean.crearDocumentoEstados(obj.id)}" icon="ui-icon-arrowthickstop-1-s"/>
                                        </div>
                                    </div>
                                    <div>
                                        SEGUIMIENTO
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionVer and serviciosIn.id != null}" title="Ver" actionListener="#{tuTutelaBean.verSeguimiento(serviciosIn.id)}" icon="ui-icon-search"/>
                                    <p:commandButton rendered="#{serviciosIn.id == null}" title="Eliminar" action="#{tuTutelaBean.borrarSeguimiento(serviciosIn.pos)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Seguimiento">
                                    <h:outputText value="#{serviciosIn.maeTipoSeguimientoValor}"/>
                                </p:column>
                                <p:column headerText="Observación">
                                    <h:outputText value="#{serviciosIn.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Seguimiento">
                                    <h:outputText value="#{serviciosIn.fechaSeguimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>   
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Adicionar" type="button" onclick="adicionarServicioRemote()" validateClient="true"/>
                                            <p:remoteCommand name="adicionarServicioRemote" action ="#{tuTutelaBean.adicionarTablaEstado}" update="tablaItemMostrar"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoTablaItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR ITEM Y SEGUIMIENTO-->
            <p:dialog header="EDITAR ITEM Y SEGUIMIENTO" widgetVar="dialogoEditarItemYSeguimiento" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarItemYSeguimiento">
                        <p:panel id="gesPanelEditarItemYSeguimiento" header="TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmTutela" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="gesPanelDatosTutela" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Numero tutela" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.id}" />

                                <p:outputLabel value="Numero radicado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.radicadoNumero}" />

                                <p:outputLabel value="Estado actual" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objeto.actualTuTutelaEstadoId.maeEstadoValor}" />

                                <p:outputLabel value="Municipio tutela" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarTablaItem" header="ITEM" rendered="#{tuTutelaBean.habilitarPanelItem}" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEditarItem" var="serviciosIn" value="#{tuTutelaBean.objEstados.listaTuTutelaItem}" widgetVar="tablaEditarItem" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionEditar}" title="Editar Item" actionListener="#{tuTutelaBean.editarItem(serviciosIn.id, serviciosIn.pos)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarItemDb(serviciosIn.id)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Prestación">
                                    <h:outputText value="#{serviciosIn.maeTipoPrestacionValor}"/>
                                </p:column>
                                <p:column headerText="Causa">
                                    <h:outputText value="#{serviciosIn.maeCausaTutelaValor}"/>
                                </p:column>
                                <p:column headerText="Presentación">
                                    <h:outputText value="#{serviciosIn.maePresentacionValor}"/>
                                </p:column>
                                <p:column headerText="Tecnología">
                                    <h:outputText value="#{serviciosIn.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Fecha Cumplimiento">
                                    <h:outputText value="#{serviciosIn.fechaCumplimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarSeguimiento" header="SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEditarSeguimiento" var="serviciosIn" value="#{tuTutelaBean.objEstados.tuSeguimientosList}" widgetVar="tablaEditarSeguimiento" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionEditar}" title="Editar Seguimiento" actionListener="#{tuTutelaBean.editarSeguimiento(serviciosIn.id, serviciosIn.pos)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarSeguimientodb(serviciosIn.id)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Seguimiento">
                                    <h:outputText value="#{serviciosIn.maeTipoSeguimientoValor}"/>
                                </p:column>
                                <p:column headerText="Observación">
                                    <h:outputText value="#{serviciosIn.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Seguimiento">
                                    <h:outputText value="#{serviciosIn.fechaSeguimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Modificar" type="button" onclick="modificarTablaEstadoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="modificarTablaEstadoRemote" action ="#{tuTutelaBean.modificarTablaEstado}" update="frmEditarItemYSeguimiento"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarItemYSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR ITEM-->
            <p:dialog header="Agregar Item" widgetVar="dialogoCrearItem" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearItemAdicional">
                        <p:panel id="pCrearItemAdicional" header="ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrearItemAdicional">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo Prestación" for="tipoPresentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoPresentacion" label="Tipo Presentación" value="#{tuTutelaBean.objTutulaItem.maeTipoPrestacionId}" editable="fase"   required="true" requiredMessage="Tipo Presentación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoPresentacion}" var="tipoPresentacion" itemValue="#{tipoPresentacion.id}" itemLabel="#{tipoPresentacion.nombre}" itemDescription="#{tipoPresentacion.descripcion}" />
                                            <p:ajax event="itemSelect" listener="#{tuTutelaBean.cargarListaCausaTutela()}" update="tutelaCausa"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Causa" for="tutelaCausa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tutelaCausa" label="Causa" value="#{tuTutelaBean.objTutulaItem.maeCausaTutelaId}" editable="fase"  required="true" requiredMessage="Causa: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{tuTutelaBean.listaTutelaCausa}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Presentación" for="presentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="presentacion" label="Presentación" value="#{tuTutelaBean.objTutulaItem.maePresentacionId}" editable="fase" required="true" requiredMessage="Presentación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaPresentacion}" var="presenta" itemValue="#{presenta.id}" itemLabel="#{presenta.nombre}" itemDescription="#{presenta.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo de Servicio" for="tipoServicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoServicio" label="Tipo de Servicio" value="#{tuTutelaBean.objTutulaItem.maeTipoServicioId}" editable="fase" required="true" requiredMessage="Tipo de Servicio: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoServicio}" var="tipoServicio" itemValue="#{tipoServicio.id}" itemLabel="#{tipoServicio.nombre}" itemDescription="#{tipoServicio.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Envio" for="fechaEnvio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaEnvio" yearRange="c-100:c+1" label="Fecha Envio" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaEnvio}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" /> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Orden Medica" for="fechaCita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaCita" yearRange="c-100:c+1" label="Fecha Orden Medica" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCita}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" required="#{tuTutelaBean.campoObligatorioItem}" requiredMessage="Fecha Orden Medica: Este campo es obligatorio." /> 
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Respuesta" for="fechaRespuesta" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaRespuesta" yearRange="c-100:c+1" label="Fecha Respuesta" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaRespuesta}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Cumplimiento" for="fechaCumplimiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaCumplimiento" yearRange="c-100:c+1" label="Fecha Cumplimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCumplimiento}" size="7" maxlength="10" /> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputText  id="email" label="Correo Electrónico" value="#{tuTutelaBean.objTutulaItem.correoDestinatario}"  maxlength="64" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cantidad" for="cantidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputText id="cantidad" value="#{tuTutelaBean.objTutulaItem.cantidad}" size="7" maxlength="7" required="#{tuTutelaBean.campoObligatorioItem}" requiredMessage="Cantidad: Este campo es obligatorio.">
                                            <p:keyFilter mask="num" />
                                        </p:inputText>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                        <p:inputTextarea id="descripcion" label="Descripción" value="#{tuTutelaBean.objTutulaItem.observacion}" cols="60" maxlength="511" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Procedimiento *" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="infoTegnologia" value="#{tuTutelaBean.objTutulaItem.maTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Prescripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:commandButton immediate="true" action="#{tuTutelaBean.consultarSedesPrescripcion()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="sedePrescripcion" value="#{tuTutelaBean.objTutulaItem.prescripcionCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Destino" for="aplicaDestino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="aplicaDestino" value="#{tuTutelaBean.objTutulaItem.aplicaDestino}" onLabel="Si" offLabel="No"
                                                   onIcon="ui-icon-check" offIcon="ui-icon-close"  style="width:60px" required="true" requiredMessage="Aplica Destino: Este campo es obligatorio.">
                                            <p:ajax event="change" listener="#{tuTutelaBean.validarAplicaDestinoTutelaItem()}" update="btnAddDestino,sedeServicio"/>
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Destino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:commandButton id="btnAddDestino" disabled="#{!tuTutelaBean.objTutulaItem.aplicaDestino}" immediate="true" action="#{tuTutelaBean.consultarSedesDestino()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                          <p:outputLabel id="sedeServicio" value="#{tuTutelaBean.objTutulaItem.destinoCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Asignación" for="aplicaAsignacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="aplicaAsignacion" onIcon="ui-icon-check" offIcon="ui-icon-close"  style="width:60px" onLabel="Si" offLabel="No" value="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" >
                                            <p:ajax event="change"  listener="#{tuTutelaBean.actualizarAsignacion()}"  update="tipoAsignacion,estadoSolicitud,usuarioAsignado"></p:ajax>
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo de Asignación" for="tipoAsignacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoAsignacion" label="Tipo de Asignación" value="#{tuTutelaBean.objTutulaItem.maeTipoAsignacionId}" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Tipo de Asignación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoAsignacion}" var="tipoAsignacion" itemValue="#{tipoAsignacion.id}" itemLabel="#{tipoAsignacion.nombre}" itemDescription="#{tipoAsignacion.descripcion}" />
                                            <p:ajax event="change"  listener="#{tuTutelaBean.actualizarListaUsuariosPorRol()}"  update="usuarioAsignado"></p:ajax>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado de Solicitud" for="estadoSolicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="estadoSolicitud" label="Estado de Solicitud" value="#{tuTutelaBean.objTutulaItem.maeEstadoItemId}" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Estado de Solicitud: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoSolicitud}" var="estadoSolicitud" itemValue="#{estadoSolicitud.id}" itemLabel="#{estadoSolicitud.nombre}" itemDescription="#{estadoSolicitud.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Asignado" for="usuarioAsignado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="usuarioAsignado" label="Usuario Asignado" value="#{tuTutelaBean.objTutulaItem.gnUsuarioAsignadoId.id}" filter="yes" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Usuario Asignado: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaUsuarios}" var="usuarios" itemValue="#{usuarios.id}" itemLabel="#{usuarios.nombre}" itemDescription="#{usuarios.nombre}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearTablaDiagnostico" header="DIAGNOSTICO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaCrearDiagnostico" var="serviciosIn" value="#{tuTutelaBean.objTutulaItem.tuTutelaDiagnosticosId}" widgetVar="tablaCrearDiagnostico" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton title="Agregar Diagnostico" actionListener="#{tuTutelaBean.consultarListaMaDiagnosticos()}" immediate="true" icon="ui-icon-document">
                                            </p:commandButton>
                                        </div>
                                    </div>
                                    <div>
                                        DIAGNOSTICO
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{serviciosIn.id == null}" title="Eliminar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(serviciosIn.id, serviciosIn.pos, 4)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Codigo">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Principal" style="text-align: center;">
                                    <p:selectBooleanCheckbox disabled="true" value="#{serviciosIn.esPrincipal}"/>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{serviciosIn.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel widgetVar="panelCrearAutorizaciones" id="panelCrearAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Autorización" rendered="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion.size() == 0}" actionListener="#{tuTutelaBean.verListarAnexo4()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="autorizacion" value="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaCrearAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >

                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(0, autorizacion.pos, 5)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column> 
                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.maServicioHabilitadoCodigo}">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoCodigo}" title="#{autorizacion.maServicioHabilitadoCodigo}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.maServicioHabilitadoValor}">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoValor}" title="#{autorizacion.maServicioHabilitadoValor}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.prestadorNombre}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNombre}" title="#{autorizacion.prestadorNombre}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.prestadorNumeroDocumento}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNumeroDocumento}" title="#{autorizacion.prestadorNumeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>                                                          
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearItemAdicionalAnexos" header="ANEXOS ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaItemdicionalAnexos" var="anexSer" value="#{tuTutelaBean.objTutulaItem.tuAdjuntosList}" widgetVar="tablaItemdicionalAnexos" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadItem}"
                                                  mode="advanced"
                                                  update="tablaItemdicionalAnexos"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS ITEM
                                    </div>
                                </f:facet>      
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Borrar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 2)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>              
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Adicionar" type="button" onclick="adicionarItemRemote()" validateClient="true"/>
                                            <p:remoteCommand name="adicionarItemRemote" action ="#{tuTutelaBean.adicionarItem}" update="frmCrearItemAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR ITEM 2 -->
            <p:dialog header="Editar Item" widgetVar="dialogoEditarItem" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarItemAdicional">
                        <p:panel id="pEditarItemAdicional" header="ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelEditarItemAdicional">           
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo Prestación" for="tipoPresentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoPresentacion" label="Tipo Presentación" value="#{tuTutelaBean.objTutulaItem.maeTipoPrestacionId}" editable="fase"   required="true" requiredMessage="Tipo Presentación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoPresentacion}" var="tipoPresentacion" itemValue="#{tipoPresentacion.id}" itemLabel="#{tipoPresentacion.nombre}" itemDescription="#{tipoPresentacion.descripcion}" />
                                            <p:ajax event="itemSelect" listener="#{tuTutelaBean.cargarListaCausaTutela()}" update="tutelaCausa"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Causa" for="tutelaCausa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tutelaCausa" label="Causa" value="#{tuTutelaBean.objTutulaItem.maeCausaTutelaId}" editable="fase"   required="true" requiredMessage="Tipo Presentación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{tuTutelaBean.listaTutelaCausa}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Presentación" for="presentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="presentacion" label="Presentación" value="#{tuTutelaBean.objTutulaItem.maePresentacionId}" editable="fase"   required="true" requiredMessage="Presentación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaPresentacion}" var="presenta" itemValue="#{presenta.id}" itemLabel="#{presenta.nombre}" itemDescription="#{presenta.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Envio" for="fechaEnvio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaEnvio" yearRange="c-100:c+1" label="Fecha Envio" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaEnvio}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" /> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Orden Medica" for="fechaCita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:calendar id="fechaCita" yearRange="c-100:c+1" label="Fecha Orden Medica" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCita}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" required="#{tuTutelaBean.campoObligatorioItem}" requiredMessage="Fecha Orden Medica: Este campo es obligatorio." />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Respuesta" for="fechaRespuesta" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaRespuesta" yearRange="c-100:c+1" label="Fecha Respuesta" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaRespuesta}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10"></p:calendar> 
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Cumplimiento" for="fechaCumplimiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:calendar id="fechaCumplimiento" yearRange="c-100:c+1" label="Fecha Cumplimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCumplimiento}" size="7" maxlength="10" /> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText  id="email" label="Correo Electrónico" value="#{tuTutelaBean.objTutulaItem.correoDestinatario}"   maxlength="64" style="width: 90%" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cantidad" for="cantidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputText id="cantidad" value="#{tuTutelaBean.objTutulaItem.cantidad}" size="7" maxlength="7" required="true" requiredMessage="Cantidad: Este campo es obligatorio.">
                                            <p:keyFilter mask="num" />
                                        </p:inputText>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                        <p:inputTextarea id="descripcion" label="Descripción" value="#{tuTutelaBean.objTutulaItem.observacion}" cols="60" maxlength="511" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Procedimiento *" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarTecnologia()}" icon="ui-icon-clipboard" disabled="true" title="Agregar Procedimiento"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarMedicamento()}" icon="ui-icon-heart" disabled="true" title="Agregar Medicamento"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarInsumo()}" icon="ui-icon-tag" disabled="true" title="Agregar Insumo"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarPaquete()}" icon="ui-icon-cart" disabled="true" title="Agregar Paquete"/>
                                    </p:column>
                                    <p:column class="ui-g-8">
                                        <p:outputLabel id="infoTegnologia" value="#{tuTutelaBean.objTutulaItem.maTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Prescripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:commandButton immediate="true" action="#{tuTutelaBean.consultarSedesPrescripcion()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                         <p:outputLabel id="sedePrescripcion" value="#{tuTutelaBean.objTutulaItem.prescripcionCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Destino" for="aplicaDestino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="aplicaDestino" value="#{tuTutelaBean.objTutulaItem.aplicaDestino}" onLabel="Si" offLabel="No"
                                                   onIcon="ui-icon-check" offIcon="ui-icon-close"  style="width:60px" required="true" requiredMessage="Aplica Destino: Este campo es obligatorio.">
                                            <p:ajax event="change" listener="#{tuTutelaBean.validarAplicaDestinoTutelaItem()}" update="btnAddDestinoUpd,sedeServicio"/>
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Destino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:commandButton id="btnAddDestinoUpd" disabled="#{!tuTutelaBean.objTutulaItem.aplicaDestino}" immediate="true" action="#{tuTutelaBean.consultarSedesDestino()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="sedeServicio" value="#{tuTutelaBean.objTutulaItem.destinoCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarTablaDiagnostico" header="DIAGNOSTICO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEditarDiagnostico" var="serviciosIn" value="#{tuTutelaBean.objTutulaItem.tuTutelaDiagnosticosId}" widgetVar="tablaEditarDiagnostico" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton title="Agregar Diagnostico" actionListener="#{tuTutelaBean.consultarListaMaDiagnosticos()}" immediate="true" icon="ui-icon-document">
                                            </p:commandButton>
                                        </div>
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionEditar and serviciosIn.id != null}" title="Editar" actionListener="#{tuTutelaBean.editarDiagnosticoDb(serviciosIn.id)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarDiagnosticoDb(serviciosIn.id, serviciosIn.pos)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Codigo">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Principal" style="text-align: center;">
                                    <p:selectBooleanCheckbox disabled="true" value="#{serviciosIn.esPrincipal}"/>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{serviciosIn.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelEditarAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Autorización" rendered="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion.size() == 0}" actionListener="#{tuTutelaBean.verListarAnexo4()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="autorizacion" value="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaEditarAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" rendered="#{tuTutelaBean.accionBorrar}" action="#{tuTutelaBean.borrarAutorizacionDb(autorizacion.id, autorizacion.pos)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column> 
                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.maServicioHabilitadoCodigo}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoCodigo}" title="#{autorizacion.maServicioHabilitadoCodigo}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.maServicioHabilitadoValor}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoValor}" title="#{autorizacion.maServicioHabilitadoValor}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.prestadorNombre}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNombre}" title="#{autorizacion.prestadorNombre}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.prestadorNumeroDocumento}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNumeroDocumento}" title="#{autorizacion.prestadorNumeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Id Anexo 4" sortBy="#{autorizacion.id}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.id}" title="#{autorizacion.id}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>                                                          
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarItemAdicionalAnexos" header="ANEXOS ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaItemdicionalAnexos" var="anexSer" value="#{tuTutelaBean.objTutulaItem.tuAdjuntosList}" widgetVar="tablaItemdicionalAnexos" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadItem}"
                                                  mode="advanced"
                                                  update="tablaItemdicionalAnexos"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS ITEM
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Borrar" rendered="#{tuTutelaBean.accionBorrar}" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 2)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>


                            </p:dataTable>
                        </p:panel>              
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Modificar" type="button" onclick="modificarItemRemote()" validateClient="true"/>
                                            <p:remoteCommand name="modificarItemRemote" action ="#{tuTutelaBean.modificarItem}" update="frmEditarItemAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR ITEM GESTION-->
            <p:dialog header="Editar Item" widgetVar="dialogoEditarItemGestion" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarItemAdicionalGestion">
                        <p:panel id="pEditarItemAdicional" header="ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelEditarItemAdicional" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo Prestación" for="tipoPresentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoPresentacion" label="Tipo Presentación" value="#{tuTutelaBean.objTutulaItem.maeTipoPrestacionId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Tipo Presentación: Este campo es obligatorio.">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoPresentacion}" var="tipoPresentacion" itemValue="#{tipoPresentacion.id}" itemLabel="#{tipoPresentacion.nombre}" itemDescription="#{tipoPresentacion.descripcion}" />
                                            <p:ajax event="itemSelect" listener="#{tuTutelaBean.cargarListaCausaTutela()}" update="tutelaCausa"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Causa" for="tutelaCausa" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tutelaCausa" label="Causa" value="#{tuTutelaBean.objTutulaItem.maeCausaTutelaId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Causa: Este campo es obligatorio.">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{tuTutelaBean.listaTutelaCausa}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Presentación" for="presentacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="presentacion" label="Presentación" value="#{tuTutelaBean.objTutulaItem.maePresentacionId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Presentación: Este campo es obligatorio.">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaPresentacion}" var="presenta" itemValue="#{presenta.id}" itemLabel="#{presenta.nombre}" itemDescription="#{presenta.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Envio" for="fechaEnvio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaEnvio" yearRange="c-100:c+1" label="Fecha Envio" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaEnvio}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Orden Medica" for="fechaCita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaCita" yearRange="c-100:c+1" label="Fecha Orden Medica" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCita}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" required="#{tuTutelaBean.campoObligatorioItem}" requiredMessage="Fecha Orden Medica: Este campo es obligatorio." />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Respuesta" for="fechaRespuesta" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:calendar id="fechaRespuesta" yearRange="c-100:c+1" label="Fecha Respuesta" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaRespuesta}" maxdate="#{tuTutelaBean.fechaActual}" size="7" maxlength="10" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Cumplimiento" for="fechaCumplimiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:calendar id="fechaCumplimiento" yearRange="c-100:c+1" label="Fecha Cumplimiento" navigator="true" pattern="yyyy-MM-dd"  value="#{tuTutelaBean.objTutulaItem.fechaCumplimiento}" size="7" maxlength="10" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText  id="email" label="Correo Electrónico" value="#{tuTutelaBean.objTutulaItem.correoDestinatario}" size="30" maxlength="64" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cantidad" for="cantidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputText id="cantidad" value="#{tuTutelaBean.objTutulaItem.cantidad}" size="7" maxlength="7" required="true" requiredMessage="Cantidad: Este campo es obligatorio.">
                                            <p:keyFilter mask="num" />
                                        </p:inputText>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                        <p:inputTextarea id="descripcion" label="Descripción" value="#{tuTutelaBean.objTutulaItem.observacion}" cols="60" maxlength="511" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Procedimiento *" style="font-weight:bold"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarTecnologia()}" icon="ui-icon-clipboard" disabled="true" title="Agregar Procedimiento"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarMedicamento()}" icon="ui-icon-heart" disabled="true" title="Agregar Medicamento"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarInsumo()}" icon="ui-icon-tag" disabled="true" title="Agregar Insumo"/>
                                        <p:commandButton rendered="#{tuTutelaBean.accionListar}" immediate="true" action="#{tuTutelaBean.consultarPaquete()}" icon="ui-icon-cart" disabled="true" title="Agregar Paquete"/>
                                    </p:column>
                                    <p:column class="ui-g-8">
                                        <p:outputLabel id="infoTegnologia" value="#{tuTutelaBean.objTutulaItem.maTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Prescripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:commandButton immediate="true" action="#{tuTutelaBean.consultarSedesPrescripcion()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-6">
                                        <p:outputLabel id="sedePrescripcion" value="#{tuTutelaBean.objTutulaItem.prescripcionCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Destino" for="aplicaDestino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="aplicaDestino" value="#{tuTutelaBean.objTutulaItem.aplicaDestino}" onLabel="Si" offLabel="No"
                                                   onIcon="ui-icon-check" offIcon="ui-icon-close"  style="width:60px" required="true" requiredMessage="Aplica Destino: Este campo es obligatorio.">
                                            <p:ajax event="change" listener="#{tuTutelaBean.validarAplicaDestinoTutelaItem()}" update="btnAddDestinoGes,sedeServicio"/>
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Destino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:commandButton id="btnAddDestinoGes" disabled="#{!tuTutelaBean.objTutulaItem.aplicaDestino}" immediate="true" action="#{tuTutelaBean.consultarSedesDestino()}" 
                                                 icon="ui-icon-home" style="float:right" title="Seleccionar sede"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Sede" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel id="sedeServicio" value="#{tuTutelaBean.objTutulaItem.destinoCntPrestadorSedeNombre}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Aplica Asignación" for="aplicaAsignacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectBooleanButton id="aplicaAsignacion" onIcon="ui-icon-check" offIcon="ui-icon-close"  style="width:60px" onLabel="Si" offLabel="No" value="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" >
                                            <p:ajax event="change"  listener="#{tuTutelaBean.actualizarAsignacion()}"  update="tipoAsignacion,estadoSolicitud,usuarioAsignado"></p:ajax>
                                        </p:selectBooleanButton>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo de Asignación" for="tipoAsignacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="tipoAsignacion" label="Tipo de Asignación" value="#{tuTutelaBean.objTutulaItem.maeTipoAsignacionId}" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Tipo de Asignación: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaTipoAsignacion}" var="tipoAsignacion" itemValue="#{tipoAsignacion.id}" itemLabel="#{tipoAsignacion.nombre}" itemDescription="#{tipoAsignacion.descripcion}" />
                                            <p:ajax event="change"  listener="#{tuTutelaBean.actualizarListaUsuariosPorRol()}"  update="usuarioAsignado"></p:ajax>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado de Solicitud" for="estadoSolicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:selectOneMenu id="estadoSolicitud" label="Estado de Solicitud" value="#{tuTutelaBean.objTutulaItem.maeEstadoItemId}" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Estado de Solicitud: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaEstadoSolicitud}" var="estadoSolicitud" itemValue="#{estadoSolicitud.id}" itemLabel="#{estadoSolicitud.nombre}" itemDescription="#{estadoSolicitud.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Asignado" for="usuarioAsignado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="usuarioAsignado" label="Usuario Asignado" value="#{tuTutelaBean.objTutulaItem.gnUsuarioAsignadoId.id}" filter="yes" editable="fase" disabled="#{!tuTutelaBean.objTutulaItem.aplicaAsignacion}" required="#{tuTutelaBean.objTutulaItem.aplicaAsignacion}" requiredMessage="Usuario Asignado: Este campo es obligatorio." style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{tuTutelaBean.listaUsuarios}" var="usuarios" itemValue="#{usuarios.id}" itemLabel="#{usuarios.nombre}" itemDescription="#{usuarios.nombre}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>

                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelEditarItemGestion" header="Gestión de Items" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaCrearItemGestion" var="gestionItem" value="#{tuTutelaBean.objTutulaItem.tuTutelaItemGestionesList}" widgetVar="tablaEditarItemGestion" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <p:column headerText="Estado">
                                    <h:outputText value="#{gestionItem.maeEstadoItemValor}"/>
                                </p:column>
                                <p:column headerText="Observación">
                                    <h:outputText value="#{gestionItem.observacionCorta}"/>
                                    <p:commandButton rendered="#{gestionItem.observacion.length() > 30 }" actionListener="#{tuTutelaBean.mostrarMensaje(gestionItem.observacion)}" icon="ui-icon-comment"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Crea">
                                    <h:outputText value="#{gestionItem.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{gestionItem.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarTablaDiagnostico" header="DIAGNOSTICO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEditarDiagnostico" var="serviciosIn" value="#{tuTutelaBean.objTutulaItem.tuTutelaDiagnosticosId}" widgetVar="tablaEditarDiagnostico" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <f:facet name="header">
                                    <div style="position:relative; width:60%; height:27px;">
                                        <div style="position:absolute; left:0px; bottom:0px;">
                                            <p:commandButton title="Agregar Diagnostico" actionListener="#{tuTutelaBean.consultarListaMaDiagnosticos()}" immediate="true" icon="ui-icon-document">
                                            </p:commandButton>
                                        </div>
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionAdicional1 and serviciosIn.id != null}" title="Editar" actionListener="#{tuTutelaBean.editarDiagnosticoGestionDb(serviciosIn.id)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarDiagnosticoDb(serviciosIn.id, serviciosIn.pos)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Codigo">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Principal" style="text-align: center;">
                                    <p:selectBooleanCheckbox disabled="true" value="#{serviciosIn.esPrincipal}"/>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{serviciosIn.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelEditarGestionAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="left" >
                                    <p:commandButton title="Agregar Autorización" rendered="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion.size() == 0}" actionListener="#{tuTutelaBean.verListarAnexo4()}" immediate="true" icon="ui-icon-document"/>
                                </f:facet>
                                <f:facet name="right">
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="autorizacion" value="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaEditarGestionAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >
                                <p:column style="text-align: center;" exportable="false">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton title="Borrar" rendered="#{tuTutelaBean.accionAdicional1}" action="#{tuTutelaBean.borrarAutorizacionGestionDb(autorizacion.id, autorizacion.pos)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.maServicioHabilitadoCodigo}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoCodigo}" title="#{autorizacion.maServicioHabilitadoCodigo}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.maServicioHabilitadoValor}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoValor}" title="#{autorizacion.maServicioHabilitadoValor}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.prestadorNombre}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNombre}" title="#{autorizacion.prestadorNombre}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.prestadorNumeroDocumento}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNumeroDocumento}" title="#{autorizacion.prestadorNumeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Id Anexo 4" sortBy="#{autorizacion.id}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.id}" title="#{autorizacion.id}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>                                                          
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarItemAdicionalAnexos" header="ANEXOS ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaItemdicionalAnexos" var="anexSer" value="#{tuTutelaBean.objTutulaItem.tuAdjuntosList}" widgetVar="tablaItemdicionalAnexos" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadItem}"
                                                  mode="advanced"
                                                  update="tablaItemdicionalAnexos"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS ITEM
                                    </div>
                                </f:facet>      
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Borrar" rendered="#{tuTutelaBean.accionAdicional1}" action="#{tuTutelaBean.borrarAdjuntoMemoriaGestion(anexSer.id, anexSer.pos, 2)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>              
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Modificar" type="button" onclick="modificarItemRemote()" validateClient="true"/>
                                            <p:remoteCommand name="modificarItemRemote" action ="#{tuTutelaBean.modificarItemGestion}" update="frmEditarItemAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarItemGestion').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR ESTADO SEGUIMIENTO-->
            <p:dialog header="Editar Seguimiento" widgetVar="dialogoEditarSeguimiento" appendTo="@(body)" modal="true" width="80%" >
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditarSeguimiento">
                        <p:panel id="pEditarSeguimiento" header="SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmAuditoria" style="margin-top: -5px; text-align: right;">
                                <p:commandButton id="auditoriaEditarSeguimiento" class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objEstadosSeguimiento.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelEditarSeguimiento" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo Seguimiento" for="tipoSeguimiento" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoSeguimiento" label="Tipo Seguimiento" value="#{tuTutelaBean.objEstadosSeguimiento.maeTipoSeguimientoId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Tipo Seguimiento: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaTipoSeguimiento}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Notificado" style="font-weight:bold" rendered="#{tuTutelaBean.objEstadosSeguimiento.tipoSeguimientoEnviarAsignacion > 0}"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.responsableGnUsuarioId.nombre}" rendered="#{tuTutelaBean.objEstadosSeguimiento.tipoSeguimientoEnviarAsignacion > 0}"/>

                                <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                <p:inputTextarea id="descripcion" label="Descripción" value="#{tuTutelaBean.objEstadosSeguimiento.observacion}" cols="60" maxlength="511" />

                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pEditarSeguimientoAnexos" header="ADJUNTO SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaEditarAnexosSeguimiento" var="anexSer" value="#{tuTutelaBean.objEstadosSeguimiento.tuAdjuntosList}" widgetVar="tablaEditarAnexosSeguimiento" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="inptAnexo" label="Agregar Adjunto Seguimiento" uploadLabel="Subir"  cancelLabel="Cancelar"  
                                                  fileLimitMessage="Máximo número de archivos excedido, los permitidos son: #{tuTutelaBean.maxCantAnexos}" 
                                                  invalidFileMessage="Tipo inválido de archivo"  
                                                  invalidSizeMessage="Tamaño de archivo no permitido, el tamaño límite es : #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()}."
                                                  listener="#{tuTutelaBean.handleFileUploadSeguimiento}" 
                                                  mode="advanced" 
                                                  dragDropSupport="true" auto="false" 
                                                  sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}"
                                                  multiple="true"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/">
                                        <f:attribute name="tipoSeguimiento" value="edicion" />
                                    </p:fileUpload>  

                                    <div>
                                        ADJUNTOS SEGUIMIENTOS
                                    </div>
                                </f:facet>  

                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column> 
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>  
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton rendered="#{tuTutelaBean.accionBorrar}" title="Borrar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 3)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Modificar" type="button" onclick="modificarRemoteSeguimiento()" validateClient="true"/>
                                            <p:remoteCommand name="modificarRemoteSeguimiento" action="#{tuTutelaBean.modificarSeguimiento()}" update="frmEditarSeguimiento" />
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditarSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>                            
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>     
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR SEGUIMIENTO-->
            <p:dialog header="Agregar Seguimiento" widgetVar="dialogoCrearSeguimiento" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearSeguimientoAdicional">
                        <p:panel id="pCrearSeguimientoAdicional" header="SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrearSeguimientoAdicional" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo Seguimiento" for="tipoSeguimiento" style="font-weight:bold"/>
                                <p:selectOneMenu id="tipoSeguimiento" label="Tipo Seguimiento" value="#{tuTutelaBean.objEstadosSeguimiento.maeTipoSeguimientoId}" editable="fase" required="true" requiredMessage="Tipo Seguimiento: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaTipoSeguimiento}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombre}" itemDescription="#{smlv.descripcion}" />
                                    <p:ajax listener="#{tuTutelaBean.eventoAgregarListaEnviarA()}"/>
                                </p:selectOneMenu>

                                <p:panelGrid  id="panelEnviar" columns="2" layout="grid" styleClass="showcase-text-align-center" rendered="#{tuTutelaBean.objEstadosSeguimiento.tipoSeguimientoEnviarAsignacion > 0}">
                                    <p:outputLabel value="Tipo Envio" for="tipoEnvio" style="font-weight:bold"/>
                                    <p:selectOneMenu id="tipoEnvio" value="#{tuTutelaBean.objEstadosSeguimiento.idUsuarioSeguimientoEnviarAsignacion}"  label="Tipo Seguimiento" editable="fase" style="width: 100px;" required="true" requiredMessage="Tipo Envio: Este campo es obligatorio.">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />   
                                        <f:selectItems value="#{tuTutelaBean.listaTuGrupoUsuarios}" var="tuGrupoUsuario" itemValue="#{tuGrupoUsuario.usuario.id}" itemLabel="#{tuGrupoUsuario.usuario.nombre}" itemDescription="#{tuGrupoUsuario.usuario.nombre}" />
                                    </p:selectOneMenu>
                                </p:panelGrid>

                                <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>
                                <p:inputTextarea id="descripcion" label="Descripción" value="#{tuTutelaBean.objEstadosSeguimiento.observacion}" cols="60"/>

                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pCrearSeguimientoAdicionalAnexos" header="ANEXOS SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaSeguimientoAdicionalAnexos" var="anexSer" value="#{tuTutelaBean.objEstadosSeguimiento.tuAdjuntosList}" widgetVar="tablaSeguimientoAdicionalAnexos" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                           
                                <f:facet name="header">
                                    <p:fileUpload id="anexo4" label="Agregar archivo" uploadLabel="Subir" cancelLabel="Cancelar"
                                                  fileLimitMessage="Máximo número de archivos excedido (#{tuTutelaBean.maxCantAnexos})"
                                                  invalidFileMessage="Tipo de archivo Iinválido"
                                                  invalidSizeMessage="El Tamaño de archivo permitido es hasta #{tuTutelaBean.convertirBytesParaMegasTamAdjunto()} ."
                                                  listener="#{tuTutelaBean.handleFileUploadSeguimiento}"
                                                  mode="advanced"
                                                  update="tablaSeguimientoAdicionalAnexos"
                                                  dragDropSupport="true" auto="false" multiple="true"
                                                  fileLimit="#{tuTutelaBean.maxCantAnexos}" sizeLimit="#{tuTutelaBean.sizeLimitByAnexo}"
                                                  allowTypes="/(\.|\/)(pdf|jpe?g|png)$/" /> 
                                    <div>
                                        ADJUNTOS SEGUIMIENTO
                                    </div>
                                </f:facet>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet> 
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                    <p:commandButton title="Eliminar" action="#{tuTutelaBean.borrarAdjuntoSMemoria(anexSer.id, anexSer.pos, 3)}" icon="ui-icon-trash" immediate="true">
                                        <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>              
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Adicionar" type="button" onclick="adicionarSeguimientoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="adicionarSeguimientoRemote" action ="#{tuTutelaBean.adicionarSeguimiento}" update="frmCrearSeguimientoAdicional"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--VER ESTADO TUTELA-->
            <p:dialog header="VER ESTADO" widgetVar="dialogoVerEstado" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:520px">
                    <h:form id="frmVerEstado">
                        <p:panel id="panelVerEstado" header="VER DATOS DEL ESTADO DE TUTELA" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:outputPanel class="frmEstado" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosEstado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Estado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeEstadoValor}" />

                                <p:outputLabel value="Proceso" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeProcesoValor}" />

                                <p:outputLabel value="Clase Sancion" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeClaseSancionValor}" />

                                <p:outputLabel value="Clase de Arresto" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeClaseArrestoValor}"/>

                                <p:outputLabel value="Sentido del Fallo" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeTipoFalloValor}"/>

                                <p:outputLabel value="Dias de Arresto" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.diasArresto}"/>

                                <p:outputLabel value="SMVL" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.maeSmlvValor}"/>

                                <p:outputLabel value="UVT" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.uvt}"/>

                                <p:outputLabel value="Entrega sucesiva" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.entregaSucesivaStr}"/>

                                <p:outputLabel value="Exoneración" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.exoneracionStr}"/>

                                <p:outputLabel value="Integralidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.integralidadStr}"/>

                                <p:outputLabel value="Medida Provisional" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.medidadProvisionalStr}"/>

                                <p:outputLabel value="Fecha Notificaión" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objEstados.fechaNotificacion}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Fecha Vencimiento" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objEstados.fechaVencimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Observacion" style="font-weight:bold"/>
                                <f:facet name="filter">
                                    <p:inputText label="Observacion" />
                                </f:facet>
                                <h:outputText value="#{tuTutelaBean.objEstados.observacion}"/>

                                <p:outputLabel value="Municipio Juzgado" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <p:outputLabel value="Juzgado" for="juzgado" style="font-weight:bold"/>
                                <p:outputLabel  id="juzgado" value="#{tuTutelaBean.objEstados.tuJuzgadoId.nombre}"/>

                                <p:outputLabel value="Usuario Responsable" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.responsableGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Gestor" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.gestorGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Abogado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.abogadoGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Medico" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstados.medicoGnUsuarioId.nombre}"/>


                            </p:panelGrid>
                            <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                            </h:panelGroup>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelVerServiciosTutela" header="VER ITEMS DEL ESTADO DE TUTELA" rendered="#{tuTutelaBean.habilitarPanelItem}" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="obj" value="#{tuTutelaBean.objEstados.listaTuTutelaItem}" paginator="false" rows="50" scrollable="true" scrollHeight="100"
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="10,30,50,100" id="tablaEstados" paginatorPosition="bottom"
                                         widgetVar="tablaServiciosTutelasWidget" tableStyle=""
                                         rowKey="#{obj.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionVer}" title="Ver Detalle Item" actionListener="#{tuTutelaBean.verItem(obj.id)}" icon="ui-icon-search"/>
                                </p:column>
                                <p:column headerText="Tipo Prestación">
                                    <h:outputText value="#{obj.maeTipoPrestacionValor}"/>
                                </p:column>
                                <p:column headerText="Estado">
                                    <h:outputText value="#{obj.maeEstadoItemValor}"/>
                                </p:column>
                                <p:column headerText="Causa">
                                    <h:outputText value="#{obj.maeCausaTutelaValor}"/>
                                </p:column>
                                <p:column headerText="Presentación">
                                    <h:outputText value="#{obj.maePresentacionValor}"/>
                                </p:column>
                                <p:column headerText="Tecnología">
                                    <h:outputText value="#{obj.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Fecha Cumplimiento">
                                    <h:outputText value="#{obj.fechaCumplimiento}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pSeguimiento" header="SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="seguimientos" widgetVar="seguimientos" var="seguimientoIn" value="#{tuTutelaBean.objEstados.tuSeguimientosList}" scrollable="true" emptyMessage="No se encontraron registros">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>    
                                    <p:commandButton rendered="#{tuTutelaBean.accionVer}" title="Ver" actionListener="#{tuTutelaBean.verSeguimiento(seguimientoIn.id)}" icon="ui-icon-search"/>
                                </p:column>
                                <p:column headerText="Estado">
                                    <f:facet name="filter">
                                        <p:inputText label="Estado"/>
                                    </f:facet>
                                    <h:outputText value="#{seguimientoIn.maeTipoSeguimientoValor}"/>
                                </p:column>
                                <p:column headerText="Observacion">
                                    <f:facet name="filter">
                                        <p:inputText label="Observacion" />
                                    </f:facet>
                                    <h:outputText value="#{seguimientoIn.observacion}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pVerEstadoAdjunto" header="ADJUNTOS ESTADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaAnexosEstados" var="anexSer" value="#{tuTutelaBean.objEstados.tuAdjuntosList}" widgetVar="tablaAnexosEstados" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                                
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>  
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerEstado').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--VER ITEM-->
            <p:dialog header="Ver Item" widgetVar="dialogoVerItem" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:520px">
                    <h:form id="frmVerItem">
                        <p:panel id="panelVerEstado" header="Item" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver datos del item"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmEstado" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objTutulaItem.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosEstado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo Prestación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maeTipoPrestacionValor}" />

                                <p:outputLabel value="Causa" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maeCausaTutelaValor}" />

                                <p:outputLabel value="Presentación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maePresentacionValor}" />

                                <p:outputLabel value="Fecha Envio" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objTutulaItem.fechaEnvio}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Fecha Orden Medica" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objTutulaItem.fechaCita}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Fecha Respuesta" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objTutulaItem.fechaRespuesta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Fecha Cumplimiento" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objTutulaItem.fechaCumplimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Correo Electrónico" for="email" style="font-weight:bold"/>
                                <p:outputLabel id="email" value="#{tuTutelaBean.objTutulaItem.correoDestinatario}" />

                                <p:outputLabel value="Cantidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.cantidad}" />

                                <p:outputLabel value="Observacion" style="font-weight:bold"/>
                                <p:inputTextarea value="#{tuTutelaBean.objTutulaItem.observacion}" cols="60" maxlength="30048" disabled="true"/>

                                <p:outputLabel value="Procedimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maTecnologiaValor}" />

                                <p:outputLabel value="Prescripción" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.prescripcionCntPrestadorSedeNombre}" />

                                <p:outputLabel value="Aplica Destino" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.aplicaDestinoStr}" />
                                
                                <p:outputLabel value="Destino" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.destinoCntPrestadorSedeNombre}" />

                                <p:outputLabel value="Observacion IPS" style="font-weight:bold"/>
                                <p:inputTextarea value="#{tuTutelaBean.objTutulaItem.observacionIps}" cols="60" maxlength="30048" disabled="true"/>

                                <p:outputLabel value="Aplica Asignación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.aplicaAsignacionStr}" />
                                
                                <p:outputLabel value="Tipo Asignación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maeTipoAsignacionValor}" />
                                
                                <p:outputLabel value="Estado de Solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.maeEstadoItemValor}" />
                                
                                <p:outputLabel value="Usuario Asignado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objTutulaItem.gnUsuarioAsignadoId.nombre}" />
                                
                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelVerItemGestion" header="Gestión de Items" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaCrearItemGestion" var="gestionItem" value="#{tuTutelaBean.objTutulaItem.tuTutelaItemGestionesList}" widgetVar="tablaVerItemGestion" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <p:column headerText="Estado">
                                    <h:outputText value="#{gestionItem.maeEstadoItemValor}"/>
                                </p:column>
                                <p:column headerText="Observación">
                                    <h:outputText value="#{gestionItem.observacionCorta}"/>
                                    <p:commandButton rendered="#{gestionItem.observacion.length() > 30 }" actionListener="#{tuTutelaBean.mostrarMensaje(gestionItem.observacion)}" icon="ui-icon-comment"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Crea">
                                    <h:outputText value="#{gestionItem.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{gestionItem.usuarioCrea}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelVerDiagnostico" header="INFORMACION DEL DIAGNOSTICO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaCrearDiagnostico" var="serviciosIn" value="#{tuTutelaBean.objTutulaItem.tuTutelaDiagnosticosId}" widgetVar="tablaCrearDiagnostico" scrollable="true" scrollHeight="100" emptyMessage="No se encontraron registros">
                                <p:column headerText="Codigo">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{serviciosIn.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Principal" style="text-align: center;">
                                    <p:selectBooleanCheckbox disabled="true" value="#{serviciosIn.esPrincipal}"/>
                                </p:column>
                                <p:column headerText="Usuario crea">
                                    <h:outputText value="#{serviciosIn.usuarioCrea}" />
                                </p:column>
                                <p:column headerText="Auditoria" style="text-align: center;">
                                    <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(serviciosIn.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="panelVerAutorizaciones" header="Autorización" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable var="autorizacion" value="#{tuTutelaBean.objTutulaItem.registrosAuditoriaAutorizacion}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaAutorizaciones" lazy="false"
                                         widgetVar="tablaWidgetAutorizacion"
                                         style="font-size:11px;"
                                         rowKey="#{autorizacion.id}" >

                                <p:column  headerText="Código servicio" sortBy="#{autorizacion.maServicioHabilitadoCodigo}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoCodigo}" title="#{autorizacion.maServicioHabilitadoCodigo}"/>
                                </p:column>
                                <p:column  headerText="Número autorización" sortBy="#{autorizacion.numeroAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.numeroAutorizacion}" title="#{autorizacion.numeroAutorizacion}"/>
                                </p:column>
                                <p:column  headerText="Nombre del servicio" sortBy="#{autorizacion.maServicioHabilitadoValor}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.maServicioHabilitadoValor}" title="#{autorizacion.maServicioHabilitadoValor}"/>
                                </p:column>
                                <p:column  headerText="Prestador" sortBy="#{autorizacion.prestadorNombre}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNombre}" title="#{autorizacion.prestadorNombre}"/>
                                </p:column>
                                <p:column  headerText="Nit Prestador" sortBy="#{autorizacion.prestadorNumeroDocumento}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.prestadorNumeroDocumento}" title="#{autorizacion.prestadorNumeroDocumento}"/>
                                </p:column>
                                <p:column  headerText="Id Anexo 4" sortBy="#{autorizacion.id}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.id}" title="#{autorizacion.id}"/>
                                </p:column>
                                <p:column  headerText="Fecha Autorización" sortBy="#{autorizacion.fechaAutorizacion}" style="text-align: center">
                                    <h:outputText value="#{autorizacion.fechaAutorizacion}" title="#{autorizacion.fechaAutorizacion}"/>
                                </p:column>                                                          
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pVerServicioAdjunto" header="ADJUNTOS ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaAnexosServicios" var="anexSer" value="#{tuTutelaBean.objTutulaItem.tuAdjuntosList}" widgetVar="tablaAnexosServicios" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                                
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>  
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--VER ESTADO SEGUIMIENTO-->
            <p:dialog header="Ver Seguimiento" widgetVar="dialogoVerSeguimiento" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:520px">
                    <h:form id="frmVerSeguimiento">
                        <p:panel id="panelVerSeguimiento" header="Tutela" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <f:facet name="header">
                                <h:outputLabel value="Ver datos del estado de tutela"></h:outputLabel>
                            </f:facet>
                            <p:outputPanel class="frmEstado" style="margin-top: -5px; text-align: right;">
                                <p:commandButton  class="btnAuditoria" action="#{tuTutelaBean.getAuditoria(tuTutelaBean.objEstadosSeguimiento.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid id="panelDatosEstado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid" 
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Estado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.maeEstadoValor}" />

                                <p:outputLabel value="Proceso" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.maeProcesoValor}" />

                                <p:outputLabel value="Clase sancion" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.maeClaseSancionValor}" />

                                <p:outputLabel value="Clase de arresto" style="font-weight:bold" />
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.maeClaseArrestoValor}"/>

                                <p:outputLabel value="Tipo de fallo" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.maeTipoFalloValor}"/>

                                <p:outputLabel value="Cuantia" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.cuantia}"/>

                                <p:outputLabel value="Dias de arresto" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.diasArresto}"/>

                                <p:outputLabel value="UVT" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.uvt}"/>

                                <p:outputLabel value="Entrega sucesiva" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.entregaSucesivaStr}"/>

                                <p:outputLabel value="Exoneración" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.exoneracionStr}"/>

                                <p:outputLabel value="Impugnación" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.impugnacionStr}"/>

                                <p:outputLabel value="Integralidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.integralidadStr}"/>

                                <p:outputLabel value="medida provisional" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.medidadProvisionalStr}"/>

                                <p:outputLabel value="Cantidad de servicios" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.cantidadServicio}"/>

                                <p:outputLabel value="Fecha notificaión" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.fechaNotificacion}"/>

                                <p:outputLabel value="Fecha vencimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.fechaVencimiento}"/>

                                <p:outputLabel value="Observacion" style="font-weight:bold"/>
                                <f:facet name="filter">
                                    <p:inputText label="Observacion" />
                                </f:facet>
                                <h:outputText value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.observacion}"/>

                                <p:outputLabel value="Municipio tutela" for="ubicacion" style="font-weight:bold"/>
                                <p:outputLabel  id="ubicacion" value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.gnUbicacionId.id)}"/>

                                <p:outputLabel value="Usuario responsable" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.responsableGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Gestor" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.gestorGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Abogado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.abogadoGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Medico" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.medicoGnUsuarioId.nombre}"/>

                                <h:panelGroup layout="block" id="facturasSeguimiento" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel header="INFORMACION DEL SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="verPanelDatosEstadoSeguimiento" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo Seguimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.maeTipoSeguimientoValor}" />

                                <p:outputLabel value="Fecha Seguimiento" style="font-weight:bold"/>
                                <h:outputText value="#{tuTutelaBean.objEstadosSeguimiento.fechaSeguimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>

                                <p:outputLabel value="Notificado" style="font-weight:bold"/>
                                <p:outputLabel value="#{tuTutelaBean.objEstadosSeguimiento.tuTutelaEstadosId.responsableGnUsuarioId.nombre}"/>

                                <p:outputLabel value="Observación" style="font-weight:bold"/>
                                <p:inputTextarea value="#{tuTutelaBean.objEstadosSeguimiento.observacion}" cols="60" maxlength="30048" disabled="true"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panel id="pVerSeguimientoAdjunto" header="ADJUNTOS SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable  id="tablaAnexosSeguimiento" var="anexSer" value="#{tuTutelaBean.objEstadosSeguimiento.tuAdjuntosList}" widgetVar="tablaAnexosSeguimiento" scrollable="true" scrollHeight="80" emptyMessage="No se encontraron registros">                                                                
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{anexSer.nombreArchivo}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{anexSer.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>  
                                    <p:commandButton action="#{tuTutelaBean.descargarAnexo(anexSer)}"
                                                     icon="ui-icon-arrowthickstop-1-s" styleClass="btn-primary" title="Descargar anexo"
                                                     ajax="false" process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--SEDES IPS DESTINO-->
            <p:dialog header="Consultar Sedes Destino" widgetVar="dialogoIpsDestino" appendTo="@(body)" modal="true" style="max-width: 70%; max-height: 80%; min-height:70vh!important;" dynamic="true">
                <p:scrollPanel mode="native" style="padding-bottom: 0px !important;">
                    <h:form id="frmPrestadorIpsDestino">
                        <h:panelGroup id ="hPanelIpsDestino">
                            <p:panelGrid id="panelIpsDestino" columns="1">
                                
                                    <p:dataTable id="tablaRegistrosIpsDestino" 
                                                 widgetVar="tablaWidgetIPS" 
                                                 var="objIPS" 
                                                 value="#{tuTutelaBean.lazySedes}" 
                                                 rowKey="#{objIPS.id}"
                                                 rows="#{tuTutelaBean.tamanoPagina}" 
                                                 paginator="true" 
                                                 lazy="true" 
                                                 reflow="true" 
                                                 currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="5,10,30,50,100" 
                                                 emptyMessage= "No se encontraron registros" 
                                                 selectionMode="single">
                                        <p:ajax event="rowSelect" listener="#{tuTutelaBean.onRowSelectIpsDestino}" />
                                        <p:column headerText="Código Habilitacion" filterBy="#{objIPS.codigoHabilitacionSede}">
                                            <f:facet name="filter">
                                                <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIPS').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.codigoHabilitacionSede}"/>
                                        </p:column>
                                        <p:column headerText="Tipo Documento" filterBy="#{objIPS.cntPrestador.maeTipoDocumentoValor}">
                                            <f:facet name="filter">
                                                <p:selectOneMenu onchange="PF('tablaWidgetIPS').filter()">
                                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                    <f:selectItems value="#{tuTutelaBean.listaTiposDocumentoEmpresa}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                                </p:selectOneMenu>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.cntPrestador.maeTipoDocumentoValor}"/>
                                        </p:column>
                                        <p:column headerText="Numero Documento" filterBy="#{objIPS.cntPrestador.numeroDocumento}">
                                            <f:facet name="filter">
                                                <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIPS').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.cntPrestador.numeroDocumento}"/>
                                        </p:column>
                                        <p:column headerText="Razón Social" filterBy="#{objIPS.cntPrestador.razonSocial}">
                                            <f:facet name="filter">
                                                <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIPS').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.cntPrestador.razonSocial}"/>
                                        </p:column>
                                        <p:column headerText="Sede" filterBy="#{objIPS.nombreSede}">
                                            <f:facet name="filter">
                                                <p:inputText label="Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIPS').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.nombreSede}"/>
                                        </p:column>
                                        <p:column headerText="Departamento">
                                            <h:outputText value="#{tuTutelaBean.obtenerDepartamento(objIPS.ubicacionId)}"/>
                                        </p:column>
                                        <p:column headerText="Municipio" filterBy="#{obj.ubicacionId}">
                                            <f:facet name="filter">
                                                <p:selectOneMenu onchange="PF('tablaWidgetIPS').filter()" filter="true" filterMatchMode="startsWith">
                                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                    <f:selectItems value="#{tuTutelaBean.ubicaciones}" var="tipoUbiC1" itemValue="#{tipoUbiC1.id}" itemLabel="#{tipoUbiC1.descripcion}" itemDescription="#{tipoUbiC1.descripcion}" />
                                                </p:selectOneMenu>
                                            </f:facet>
                                            <h:outputText value="#{tuTutelaBean.obtenerMunicipio(objIPS.ubicacionId)}"/>
                                        </p:column>
                                        <p:column headerText="Dirección">
                                            <f:facet name="filter">
                                                <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIPS').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{objIPS.direccion}"/>
                                        </p:column>
                                    </p:dataTable>
                               
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="6" style="text-align: center">
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoIpsDestino').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--SEDES PRESCRIPCION-->
            <p:dialog header="Consultar Sedes Prescripción" widgetVar="dialogoPrescripcion" appendTo="@(body)" modal="true" style="max-width: 70%; max-height: 80%; min-height:70vh!important;" dynamic="true">
                  <p:scrollPanel mode="native" style="padding-bottom: 0px !important;">
                    <h:form id="frmPrestadorPrescripcion">
                        <h:panelGroup id ="hPanelPrescripcion">
                            <p:panelGrid id="panelPrescripcion" columns="1">
                                <p:dataTable id="tablaRegistrosPrescripcion" 
                                             widgetVar="tablaWidgetPrescripcion" 
                                             var="objIPS" 
                                             value="#{tuTutelaBean.lazySedes}" 
                                             rowKey="#{objIPS.id}"
                                             rows="#{tuTutelaBean.tamanoPagina}" 
                                             paginator="true" 
                                             lazy="true" 
                                             reflow="true" 
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" 
                                             selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{tuTutelaBean.onRowSelectPrescripcion}" />
                                    <p:column headerText="Código Habilitacion" filterBy="#{objIPS.codigoHabilitacionSede}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrescripcion').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.codigoHabilitacionSede}"/>
                                    </p:column>
                                    <p:column headerText="Tipo Documento" filterBy="#{objIPS.cntPrestador.maeTipoDocumentoValor}">
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetPrescripcion').filter()">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{tuTutelaBean.listaTiposDocumentoEmpresa}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                            </p:selectOneMenu>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column headerText="Numero Documento" filterBy="#{objIPS.cntPrestador.numeroDocumento}">
                                        <f:facet name="filter">
                                            <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrescripcion').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.cntPrestador.numeroDocumento}"/>
                                    </p:column>
                                    <p:column headerText="Razón Social" filterBy="#{objIPS.cntPrestador.razonSocial}">
                                        <f:facet name="filter">
                                            <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrescripcion').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column headerText="Sede" filterBy="#{objIPS.nombreSede}">
                                        <f:facet name="filter">
                                            <p:inputText label="Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrescripcion').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.nombreSede}"/>
                                    </p:column>
                                    <p:column headerText="Departamento">
                                        <h:outputText value="#{tuTutelaBean.obtenerDepartamento(objIPS.ubicacionId)}"/>
                                    </p:column>
                                    <p:column headerText="Municipio" filterBy="#{obj.ubicacionId}">
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetPrescripcion').filter()" filter="true" filterMatchMode="startsWith">
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{tuTutelaBean.ubicaciones}" var="tipoUbiC1" itemValue="#{tipoUbiC1.id}" itemLabel="#{tipoUbiC1.descripcion}" itemDescription="#{tipoUbiC1.descripcion}" />
                                            </p:selectOneMenu>
                                        </f:facet>
                                        <h:outputText value="#{tuTutelaBean.obtenerMunicipio(objIPS.ubicacionId)}"/>
                                    </p:column>
                                    <p:column headerText="Dirección">
                                        <f:facet name="filter">
                                            <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrescripcion').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objIPS.direccion}"/>
                                    </p:column>
                                </p:dataTable>
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="6" style="text-align: center">
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoPrescripcion').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--CONSULTAR ANEXO 4-->
            <p:dialog header="Consultar Anexo4" widgetVar="dialogoListarAnexo4" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                 <p:scrollPanel mode="native" style="max-height: 400px; padding-bottom: 0px !important;">
                    <h:form id="frmListarAnexo4">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{tuTutelaBean.refrescarListaAnexos4()}" oncomplete="PF('tablaWidgetListarAnexo4').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelListaAnexo4" style="height:auto;" columns="1">
                            <p:dataTable id="tablaListarAnexo4" style="margin: 10px;" var="objAnexo4" widgetVar="tablaWidgetListarAnexo4"
                                         value="#{tuTutelaBean.registrosAnexo4}"
                                         paginator="true" reflow="true" 
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" rows="5"
                                         emptyMessage="No se encontraron registros"
                                         sortBy="#{objAnexo4.fechaHoraCrea}"
                                         rowKey="#{objAnexo4.id}"> 
                                <p:ajax event="rowSelect" listener="#{tuTutelaBean.onRowSelectAutorizacion}" />
                                <p:column style="text-align: center;" exportable="false">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>    
                                        <p:commandButton title="Seleccionar Autorizacion" actionListener="#{tuTutelaBean.onRowSelectAutorizacion(objAnexo4)}" icon="ui-icon-document"/>
                                        <p:commandButton title="Ver detalles" actionListener="#{tuTutelaBean.verListarAnexo4Items(objAnexo4.id)}" icon="ui-icon-search"/>
                                    </p:column>

                                    <p:column headerText="Número autorización" filterBy="#{objAnexo4.id}">
                                        <f:facet name="filter">
                                            <p:inputText label="Número autorización" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.id}"/>
                                    </p:column>

                                    <p:column headerText="Régimen" filterBy="#{objAnexo4.maeRegimenValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Régimen" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maeRegimenValor}"/>
                                    </p:column>

                                    <p:column headerText="Especialidad" filterBy="#{objAnexo4.maEspecialidadValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Especialidad" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maEspecialidadValor}"/>
                                    </p:column>

                                    <p:column headerText="Prestador" filterBy="#{objAnexo4.cntPrestadorSedeId.cntPrestador.razonSocial}">
                                        <f:facet name="filter">
                                            <p:inputText label="Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.cntPrestadorSedeId.cntPrestador.razonSocial}"/>
                                    </p:column>

                                    <p:column headerText="Nit Prestador" filterBy="#{objAnexo4.cntPrestadorSedeId.cntPrestador.numeroDocumento}">
                                        <f:facet name="filter">
                                            <p:inputText label="Nit Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.cntPrestadorSedeId.cntPrestador.numeroDocumento}"/>
                                    </p:column>

                                    <p:column headerText="Ámbito atención" filterBy="#{objAnexo4.maeAmbitoAtencionValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Ámbito atención" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maeAmbitoAtencionValor}"/>
                                    </p:column>
                                    <p:column headerText="Servicio habilitado" filterBy="#{objAnexo4.maServicioHabilitadoValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Servicio habilitado" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4.maServicioHabilitadoValor}"/>
                                    </p:column>  
                            </p:dataTable>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoListarAnexo4').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--CONSULTAR ANEXO 4 ITEMS-->
            <p:dialog header="Consultar Anexo4 Items" widgetVar="dialogoListarAnexo4Items" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px; padding-bottom: 0px !important;">
                    <h:form id="frmListarAnexo4Items">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{tuTutelaBean.refrescarListaAnexos4Items()}" oncomplete="PF('tablaWidgetListarAnexo4Items').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelListaAnexo4Items" style="height:auto;" columns="1">
                            
                                <p:dataTable id="tablaListarAnexo4Items" widgetVar="tablaWidgetListarAnexo4Items" var="objAnexo4Item" value="#{tuTutelaBean.lazyAnexo4Items}" rowKey="#{objAnexo4Item.id}"
                                             rows="#{tuTutelaBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage="No se encontraron registros" selectionMode="single">

                                    <p:column headerText="Número autorización">
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.id}"/>
                                    </p:column>

                                    <p:column headerText="Id Item" filterBy="#{objAnexo4Item.id}">
                                        <f:facet name="filter">
                                            <p:inputText label="Id Item" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.id}"/>
                                    </p:column>

                                    <p:column headerText="Fecha autorización" sortBy="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}" >
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}" title="#{objAnexo4Item.auAnexo4Id.fechaAutorizacion}"/>
                                    </p:column>

                                    <p:column headerText="Prestador" filterBy="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}">
                                        <f:facet name="filter">
                                            <p:inputText label="Prestador" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}" title="#{objAnexo4Item.auAnexo4Id.cntPrestadorSedeId.nombreSede}"/>
                                    </p:column>

                                    <p:column headerText="Código servicio" filterBy="#{objAnexo4Item.maTecnologiaCodigo}">
                                        <f:facet name="filter">
                                            <p:inputText label="Código servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.maTecnologiaCodigo}" title="#{objAnexo4Item.maTecnologiaCodigo}"/>
                                    </p:column>

                                    <p:column headerText="Servicio" filterBy="#{objAnexo4Item.maTecnologiaValor}">
                                        <f:facet name="filter">
                                            <p:inputText label="Servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.maTecnologiaValor}" title="#{objAnexo4Item.maTecnologiaValor}"/>
                                    </p:column>

                                    <p:column headerText="Cantidad" filterBy="#{objAnexo4Item.cantidadAutorizada}">
                                        <f:facet name="filter">
                                            <p:inputText label="Cantidad" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.cantidadAutorizada}" title="#{objAnexo4Item.cantidadAutorizada}"/>
                                    </p:column>

                                    <p:column headerText="Costo servicio" filterBy="#{objAnexo4Item.costoServicio}">
                                        <f:facet name="filter">
                                            <p:inputText label="Costo servicio" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetListarAnexo4Items').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objAnexo4Item.costoServicio}" title="#{objAnexo4Item.costoServicio}">
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                        </h:outputText>
                                    </p:column>

                                </p:dataTable>
                            
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoListarAnexo4Items').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--CONFIRMAR AUTORIZACION-->
            <p:dialog header="Confirmar selección autorización" widgetVar="dialogoEditarAutorizacion" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 550px;">
                    <h:form id="frmEditarAutorizacion">
                        <p:panelGrid id="panelAutorizacion" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">

                            <p:outputLabel value="Código Servicio" style="font-weight:bold"/>
                            <h:outputText value="#{tuTutelaBean.cmAuditoriaAutorizacion.maServicioHabilitadoCodigo}"/>

                            <p:outputLabel value="Servicio" style="font-weight:bold"/>
                            <h:outputText value="#{tuTutelaBean.cmAuditoriaAutorizacion.maServicioHabilitadoValor}"/>

                            <p:outputLabel value="Número autorización" style="font-weight:bold"/>
                            <h:outputText value="#{tuTutelaBean.cmAuditoriaAutorizacion.id}"/>

                            <p:outputLabel value="Fecha autorización" style="font-weight:bold"/>
                            <h:outputText value="#{tuTutelaBean.cmAuditoriaAutorizacion.fechaAutorizacion}"/>

                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar" actionListener="#{tuTutelaBean.agregarAutorizacion()}" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEditarAutorizacion').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog> 
            <!--HISTORIAL PERSONAS-->
            <p:dialog header="HISTORIAL PERSONAS" widgetVar="dialogoHistorialPersonas" appendTo="@(body)" modal="true" style="max-width: 90%;min-height:90vh!important;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px; padding-bottom: 0px !important;">
                    <h:form id="frmHistorialPersonas">
                        <h:panelGroup id ="hPanelHistorialPersonas">
                            <p:panelGrid id="panelHistorialPersonas" style="height:auto;" columns="1">
                               
                                    <p:dataTable id="tablaHistorialPersona" 
                                                 widgetVar="tablaWidgetHistorialPersona" 
                                                 var="obj" 
                                                 value="#{tuTutelaBean.lazyHistorialPersona}" 
                                                 rowKey="#{obj.id}"
                                                 rows="#{tuTutelaBean.tamanoPagina}" 
                                                 paginator="true" 
                                                 lazy="true" 
                                                 reflow="true"
                                                 currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="5,10,30,50,100" 
                                                 emptyMessage= "No se encontraron registros">
                                        <p:column headerText="Tipo Documento" >
                                            <f:facet name="filter">
                                                <p:inputText label="Tipo documento" maxlength="16" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                            onchange();
                                                            return false;
                                                        }" onchange="PF('tablaWidgetHistorialPersona').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{obj.maeTipoDocumentoValor}"/>
                                        </p:column>

                                        <p:column headerText="Documento" filterBy="#{obj.numeroDocumento}">
                                            <f:facet name="filter">
                                                <p:inputText label="Documento" maxlength="16" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                            onchange();
                                                            return false;
                                                        }" onchange="PF('tablaWidgetHistorialPersona').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{obj.numeroDocumento}"/>
                                        </p:column>                   

                                        <p:column headerText="Nombres" sortBy="#{obj.nombres}" filterBy="#{obj.nombres}">
                                            <f:facet name="filter">
                                                <p:inputText label="Nombres" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                            onchange();
                                                            return false;
                                                        }" onchange="PF('tablaWidgetHistorialPersona').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{obj.nombres}" title="#{obj.nombres}"/>
                                        </p:column>

                                        <p:column headerText="Apellidos" sortBy="#{obj.apellidos}" filterBy="#{obj.apellidos}">
                                            <f:facet name="filter">
                                                <p:inputText label="Apellidos" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                            onchange();
                                                            return false;
                                                        }" onchange="PF('tablaWidgetHistorialPersona').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{obj.apellidos}" title="#{obj.apellidos}"/>
                                        </p:column>

                                        <p:column headerText="Estado Persona" filterBy="#{obj.maeEstadoAfiliadoId}" sortBy="#{obj.maeEstadoAfiliadoId}">
                                            <f:facet name="filter">
                                                <p:selectOneMenu onchange="PF('tablaWidgetHistorialPersona').filter()">
                                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                    <f:selectItems value="#{tuTutelaBean.listaTipoEstadoPersona}" var="tipoEstPer" itemValue="#{tipoEstPer.id}" itemLabel="#{tipoEstPer.nombre}" itemDescription="#{tipoEstPer.descripcion}" />
                                                </p:selectOneMenu>
                                            </f:facet>
                                            <h:outputText value="#{obj.maeEstadoAfiliadoValor}"/>
                                        </p:column>

                                        <p:column headerText="Sexo" filterBy="#{obj.maeGeneroId}" sortBy="#{obj.maeGeneroId}">
                                            <f:facet name="filter">
                                                <p:selectOneMenu onchange="PF('tablaWidgetHistorialPersona').filter()">
                                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                    <f:selectItems value="#{tuTutelaBean.listaSexo}" var="tipoSex" itemValue="#{tipoSex.id}" itemLabel="#{tipoSex.nombre}" itemDescription="#{tipoSex.descripcion}" />
                                                </p:selectOneMenu>
                                            </f:facet>
                                            <h:outputText value="#{obj.maeGeneroValor}"/>
                                        </p:column>

                                        <p:column headerText="Contactos" style="text-align: center">         
                                            <p:commandButton title="Ver" actionListener="#{tuTutelaBean.verContactos(obj.id)}" icon="ui-icon-comment"/>                                  
                                        </p:column>

                                        <p:column headerText="Correo electrónico">
                                            <f:facet name="filter">
                                                <p:inputText label="Correo electronico" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                            onchange();
                                                            return false;
                                                        }" onchange="PF('tablaWidgetHistorialPersona').filter()"/>
                                            </f:facet>
                                            <h:outputText value="#{obj.correoElectronico}"/>
                                        </p:column>

                                        <p:column headerText="F.H. Registro" sortBy="#{obj.fechaHoraCrea}" >
                                            <h:outputText value="#{obj.fechaHoraCrea}" title="#{obj.fechaHoraCrea}">
                                                <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:dataTable>
                               
                            </p:panelGrid>
                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="4" style="text-align: center">
                                            <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                                <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoHistorialPersonas').hide()" immediate="true" style="margin-left: 5px;"/>
                                            </h:panelGroup>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid> 
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR CONTACTOS -->
            <p:dialog header="Crear Contacto" widgetVar="dialogoCrearContacto" appendTo="@(body)" modal="true" width="50%" height="50%"> 
                <h:form id="frmCrearContacto">
                    <p:panel id="pCrearContacto" header="Número" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                        <p:panelGrid id="panelCrearContacto" columns="2" layout="grid" styleClass="showcase-text-align-center">

                            <p:outputLabel value="Número" for="numero" style="font-weight:bold"/>
                            <p:inputText id="numero" label="Número" value="#{tuTutelaBean.tuPersonaContacto.numeroContacto}"   maxlength="16" required="true" />
                            <p:keyFilter for="numero" mask="num"/>
                            <spacer></spacer>

                            <p:outputLabel value="Observación" for="observacion" style="font-weight:bold"/>
                            <p:inputText id="observacion" label="Observación" value="#{tuTutelaBean.tuPersonaContacto.observacion}"  maxlength="128" />

                        </p:panelGrid>
                    </p:panel>
                    <p:separator />
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="4" style="text-align: center">
                                    <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                        <p:commandButton value="Adicionar" type="button" onclick="adicionarContactoRemote()" validateClient="true"/>
                                        <p:remoteCommand name="adicionarContactoRemote" action ="#{tuTutelaBean.adicionarContacto}" update="panelCrearContacto"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearContacto').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </h:panelGroup>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>
            <!--Contactos Persona-->
            <p:dialog header="Contactos" widgetVar="dialogoContactosPersona" style="max-width: 90%;min-height:90vh!important;" appendTo="@(body)" modal="true"  dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px; padding-bottom: 0px !important;">
                    <h:form id="frmContactosPersona">
                        <h:panelGroup id ="panelContactosPersonaGruoup">
                            <p:panelGrid id="panelContactoPersona" style="height:auto;" columns="1">
                                <p:dataTable reflow="true" paginator="true" rows="10" rowsPerPageTemplate="10,30,50" id="contacto" widgetVar="contacto" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                    <f:facet name="header">
                                        CONTACTOS PERSONA
                                    </f:facet>
                                    <p:column headerText="Contacto">
                                        <f:facet name="filter">
                                            <p:inputText label="Número"/>
                                        </f:facet>
                                        <h:outputText value="#{contacto.numeroContacto}"/>
                                    </p:column>

                                    <p:column headerText="Observación">
                                        <f:facet name="filter">
                                            <p:inputText label="Documento" />
                                        </f:facet>
                                        <h:outputText value="#{contacto.observacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:panelGrid>
                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="4" style="text-align: center">
                                            <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                                <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoContactosPersona').hide()" immediate="true" style="margin-left: 5px;"/>
                                            </h:panelGroup>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--CAMBIAR RESPONSABLE-->
            <p:dialog header="CAMBIAR RESPONSABLE" widgetVar="dialogoCambiarResponsable" appendTo="@(body)" modal="true" width="60%"> 
                <p:scrollPanel mode="native" style="height:100px;">
                    <h:form id="frmCambiarResponsable">
                        <h:panelGroup id ="panelGrpCambiarResponsable">
                            <p:panelGrid id="panelCambiarResponsable" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:outputLabel value="Responsable" for="responsable" style="font-weight:bold"/>
                                <p:selectOneMenu id="responsable" label="Responsable" value="#{tuTutelaBean.modicarResponsable.responsableGnUsuarioId.id}" editable="fase"  required="true" requiredMessage="Responsable: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaUsuarioGrupos}" var="tuGrupoUsuario" itemValue="#{tuGrupoUsuario.usuario.id}" itemLabel="#{tuGrupoUsuario.usuario.nombre}" itemDescription="#{tuGrupoUsuario.usuario.nombre}" />
                                </p:selectOneMenu>
                            </p:panelGrid>
                            <p:separator />
                            <p:panelGrid  style="width:100%;margin:10px 0px">
                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="4" style="text-align: center">
                                            <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                                <p:commandButton value="Modificar" type="button" onclick="modificarResponsableRemote()" validateClient="true"/>
                                                <p:remoteCommand name="modificarResponsableRemote" action ="#{tuTutelaBean.modificarResponsable}" update="frmCambiarResponsable"/>
                                                <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCambiarResponsable').hide()" immediate="true" style="margin-left: 5px;"/>
                                            </h:panelGroup>
                                        </p:column>
                                    </p:row>
                                </f:facet>
                            </p:panelGrid>
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--AGREGAR DIAGNOSTICO-->
            <p:dialog header="Agregar diagnóstico" widgetVar="dialogoCrearDiagnostico" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 550px;">
                    <h:form id="frmCrearDiagnostico">
                        <p:panelGrid id="panelDiagnosticoLista" columns="2" layout="grid" styleClass="showcase-text-align-center">
                            <p:outputLabel value="Código" for="codigoCrearDiangostico" style="font-weight:bold"/>
                            <p:inputText id="codigoCrearDiangostico" label="Código" value="#{tuTutelaBean.cmAuditoriaDiagnostico.maDiagnosticosCodigo}" size="20" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Nombre" for="nombreCrearDiangostico" style="font-weight:bold"/>
                            <p:inputText id="nombreCrearDiangostico" label="Nombre" value="#{tuTutelaBean.cmAuditoriaDiagnostico.maDiagnosticosValor}" size="70" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Principal" for="principalCrearDiangostico" style="font-weight:bold"/>
                            <p:selectBooleanCheckbox id="principalCrearDiangostico" label="Es Principal" value="#{tuTutelaBean.cmAuditoriaDiagnostico.esPrincipal}"/>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Agregar" actionListener="#{tuTutelaBean.agregarDiagnostico()}"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoCrearDiagnostico').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--EDITAR DIAGNOSTICO-->
            <p:dialog header="Editar diagnóstico" widgetVar="dialogoEditarDiagnostico" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 550px;">
                    <h:form id="frmEditarDiagnostico">
                        <p:panelGrid id="panelEditarDiagnosticoLista" columns="2" layout="grid" styleClass="showcase-text-align-center">

                            <p:outputLabel value="Código" for="codigoEditarDiangostico" style="font-weight:bold"/>
                            <p:inputText id="codigoEditarDiangostico" label="Código" value="#{tuTutelaBean.cmAuditoriaDiagnostico.maDiagnosticosCodigo}" size="20" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Nombre" for="nombreEditarDiangostico" style="font-weight:bold"/>
                            <p:inputText id="nombreEditarDiangostico" label="Nombre" value="#{tuTutelaBean.cmAuditoriaDiagnostico.maDiagnosticosValor}" size="70" maxlength="62" disabled="true"></p:inputText>

                            <p:outputLabel value="Principal" for="principalEditarDiangostico" style="font-weight:bold"/>
                            <p:selectBooleanCheckbox id="principalEditarDiangostico" label="Es Principal" value="#{tuTutelaBean.cmAuditoriaDiagnostico.esPrincipal}"/>

                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Modificar" actionListener="#{tuTutelaBean.modificarDiagnostico()}"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoEditarDiagnostico').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--HISTORIAL TUTELAS-->
            <p:dialog header="HISTORIAL" widgetVar="dialogoHistorialTutelas" appendTo="@(body)" modal="true"> 
                <p:scrollPanel mode="native" style="height:500px;">
                    <h:form id="frmHistorialTutelas">
                        <p:panel id="panelGestionSeguimiento" header="SEGUIMIENTO TUTELA"  style="margin-bottom:10px; width: 100%;" collapsed="false" toggleable="true">
                            <p:dataTable var="objSegui" value="#{tuTutelaBean.lazyTuTutelaSeguimiento}" paginator="true" rows="#{tuTutelaBean.tamanoPagina}" 
                                         emptyMessage="No se encontraron registros"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" id="tablaEditarTutelaEstados" lazy="true"
                                         widgetVar="wtablaEstadoEditarWidget"
                                         scrollable="true"
                                         style="font-size:11px;width:100%;max-height: 300px;overflow: scroll;"
                                         rowKey="#{objSegui.id}" reflow="true">

                                <p:column style="text-align: center">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton rendered="#{tuTutelaBean.accionAdicional6}" title="Ver Observacion" actionListener="#{tuTutelaBean.verSeguimientoObservacion(objSegui.id)}" icon="ui-icon-search"/>

                                </p:column>

                                <p:column headerText="Estado Tutela"  sortBy="#{objSegui.tuTutelaEstadosId.maeEstadoValor}" >
                                    <h:outputText value="#{objSegui.tuTutelaEstadosId.maeEstadoValor}" title="#{objSegui.tuTutelaEstadosId.maeEstadoValor}" />
                                </p:column>

                                <p:column headerText="Usuario Seguimiento" sortBy="#{objSegui.usuarioCrea}">
                                    <h:outputText value="#{objSegui.usuarioCrea}" title="#{objSegui.usuarioCrea}"/>
                                </p:column>

                                <p:column headerText="Documento Afiliado" sortBy="#{objSegui.tuTutelaEstadosId.tuTutelaId.tuPersona.numeroDocumento}">
                                    <h:outputText value="#{objSegui.tuTutelaEstadosId.tuTutelaId.tuPersona.numeroDocumento}" title="#{objSegui.tuTutelaEstadosId.tuTutelaId.tuPersona.numeroDocumento}"/>
                                </p:column>

                                <p:column headerText="Tipo Seguimiento" sortBy="#{objSegui.maeTipoSeguimientoValor}">
                                    <h:outputText value="#{objSegui.maeTipoSeguimientoValor}" title="#{objSegui.maeTipoSeguimientoValor}"/>
                                </p:column>

                                <p:column headerText="Fecha Seguimiento" sortBy="#{objSegui.fechaHoraCrea}" >
                                    <h:outputText value="#{objSegui.fechaHoraCrea}" title="#{objSegui.fechaHoraCrea}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:separator />
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoHistorialTutelas').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--VER SEGUIMIENTO OBSERVACION-->
            <p:dialog header="Ver Observación" widgetVar="dialogoVerSeguimientoObservacion" appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmVerSeguimientoObservacion">
                        <p:panel header="INFORMACION DEL SEGUIMIENTO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="verPanelDatosEstadoSeguimiento" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Observación" style="font-weight:bold"/>
                                <p:inputTextarea value="#{tuTutelaBean.objEstadosSeguimiento.observacion}" cols="60" disabled="true"/>
                            </p:panelGrid>
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoVerSeguimientoObservacion').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- descripciones afiliado genericas -->
            <p:dialog header="Afiliado" widgetVar="dlgInfoAfiliado" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAfiliadoGeneral">
                        <p:panelGrid id="panelAfiliadoGeneral" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">

                            <p:outputLabel value="Estado" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeEstadoAfiliadoValor}" />

                            <p:outputLabel value="Nombres" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.nombres}" />

                            <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.apellidos}" />

                            <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.maeTipoDocumentoCodigo}" />

                            <p:outputLabel value="Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.numeroDocumento}" />

                            <p:outputLabel value="Correo" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.correoElectronico}" />

                            <p:outputLabel value="Dirección" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.direccion}" />

                            <p:outputLabel value="Ubicación" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.getUbicacionRecursiva(tuTutelaBean.objeto.tuPersona.ubicacionAfiliadoId.id)}" />

                            <p:outputLabel value="Contrato" style="font-weight:bold"/>
                            <p:outputLabel value="#{tuTutelaBean.objeto.tuPersona.contratoAfiliacion}" />

                        </p:panelGrid>

                        <p:panel header="Contactos Tutelas" toggleable="true" style="height:auto;">
                            <p:scrollPanel mode="native">
                                <p:dataTable id="tablaContactoPersonaGeneral" widgetVar="tablaContactoPersona" var="contacto" value="#{tuTutelaBean.listaTuPersonaContacto}" scrollable="true" style="margin-bottom:20px;" emptyMessage="No se encontraron registros">
                                    <p:column headerText="Número">
                                        <h:outputText value="#{contacto.numeroContacto}" />
                                    </p:column>
                                    <p:column headerText="Observación">
                                        <h:outputText value="#{contacto.observacion}" />
                                    </p:column>
                                </p:dataTable>
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgInfoAfiliado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- Crear Documento estados-->
            <p:dialog header="Crear Memorial" widgetVar="dialogoCrearDocumentoMemorial" class="modal-no-scroll" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrearDocumentoMemorial">
                        <p:panel id="pCrearDocumentoMemorial" header="DATOS" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrearDocumentoMemorial" columns="6"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-6"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Referencia" for="referencia" style="font-weight:bold"/>
                                <p:selectOneMenu id="referencia" label="Referencia" value="#{tuTutelaBean.documentoMemorial.maeReferenciaId}" editable="fase" style="width: 100px;" required="true" requiredMessage="Referencia: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listaReferencias}" var="proceso" itemValue="#{proceso.id}" itemLabel="#{proceso.nombre}" itemDescription="#{proceso.descripcion}" />
                                </p:selectOneMenu>

                                <p:outputLabel value="Apoderado" for="apoderado" style="font-weight:bold"/>
                                <p:selectOneMenu id="apoderado" label="Apoderado"  value="#{tuTutelaBean.documentoMemorial.tuPersonaApoderado.id}" filter="true" filterMatchMode="contains" editable="fase" style="width: 100px;" required="true" requiredMessage="Apoderado: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listApoderados}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombreCompleto}"  />
                                </p:selectOneMenu>

                                <p:outputLabel value="Asistente" for="asistente" style="font-weight:bold"/>
                                <p:selectOneMenu id="asistente" label="Asistente"  value="#{tuTutelaBean.documentoMemorial.tuPersonaAsistente.id}" filter="true" filterMatchMode="contains" editable="fase" style="width: 100px;" required="true" requiredMessage="Asistente: Este campo es obligatorio.">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tuTutelaBean.listAsistentes}" var="smlv" itemValue="#{smlv.id}" itemLabel="#{smlv.nombreCompleto}"  />
                                </p:selectOneMenu>

                                <p:outputLabel value="Argumentos" for="argumentos" style="font-weight:bold"/>
                                <p:selectCheckboxMenu id="argumentos" value="#{tuTutelaBean.documentoMemorial.listaFiltrosArgumentos}"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:500px" required="true" requiredMessage="Debes seleccionar al menos un argumento">
                                    <f:selectItems value="#{tuTutelaBean.listaArgumentos}" var="user" itemLabel="#{user.nombre}" itemValue="#{user.id}"/>
                                </p:selectCheckboxMenu>

                                <p:outputLabel value="Pretensiones" for="pretensiones" style="font-weight:bold"/>
                                <p:selectCheckboxMenu id="pretensiones" value="#{tuTutelaBean.documentoMemorial.listaFiltrosPretensiones}" 
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:500px" required="true" requiredMessage="Debes seleccionar al menos un pretension">
                                    <f:selectItems value="#{tuTutelaBean.listaPretensiones}" var="user" itemLabel="#{user.nombre}" itemValue="#{user.id}"/>
                                </p:selectCheckboxMenu>

                            </p:panelGrid> 
                        </p:panel>

                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Descargar Documento" title="Imprimir" icon="ui-icon-document" ajax="true" onclick="PrimeFaces.monitorDownload(start, stop);" update="frmCrearDocumentoMemorial">
                                                <p:fileDownload value="#{tuTutelaBean.imprimiMemorial()}" />
                                            </p:commandButton>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrearDocumentoMemorial').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            
            <!-- descripciones genericas -->
            <p:dialog header="Observación" widgetVar="dlgMsg" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:150px">
                    <h:form id="frmObservacion">
                        <p:panelGrid id="panelObservacion" columns="1" layout="grid" styleClass="showcase-text-align-center">
                            <p:inputTextarea  value="#{tuTutelaBean.descripcionGenerica}" readonly="true" style="width:100%"/>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            
            <ui:include src="../maestro/seleccion/sel_diagnosticos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_tecnologias.xhtml" />
            <ui:include src="../maestro/seleccion/sel_medicamentos.xhtml" />
            <ui:include src="../maestro/seleccion/sel_insumos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_paquetes.xhtml" /> 
        </center>
    </ui:define>
</ui:composition>
