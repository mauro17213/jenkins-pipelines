<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="bodyJR">

        <style type="text/css">
            .verde{
                color: #17FF00 !important;
            }
            .naranja{
                color: #FF8300 !important;
            }
            .azul{
                color: #0059FF !important;
            }
            .amarillo{
                color: #FFE800 !important;
            }
            .celeste{
                color: #00FFE4 !important;
            }
            .morado{
                color: #BD00FF !important;
            }
            .rojo{
                color: #FF0000 !important;
            }
            .blanco {
                color: #ffffff !important ;
            }
            .tab-seleccionada {
                color: red;
                background-color: #ccc;
            }

            @keyframes blink {
                0% {
                    opacity: 1;
                }
                50% {
                    opacity: 0;
                }
                100% {
                    opacity: 1;
                }
            }

            .blinking-icon {
                animation: blink 2s infinite;
            }

            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }
            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }
            .ui-state-highlight {
                background-color: #3498db;
                color: #ffffff;
            }
            .stado-tabla {
                background-color: #ffffff;
                color: #3498db;
            }

            .ui-dialog.info-dialog .ui-dialog-titlebar {
                background-color: #ECECEC;
                color: #000000;
            }

            .ui-dialog.info-dialog .ui-dialog-content {
                background-color: #FFFFFF;
            }

        </style>

        <center>

            <p:panel>                 
                <h:form id="frmPrescripciones">
                    <p:toolbar>
                        <f:facet name="left" >
                            <span title="#{mipresBean.modulo.descripcion} #{mipresBean.modulo.nombre}"></span>
                        </f:facet>
                        <f:facet name="right">
                            <p:commandButton rendered="#{mipresBean.accionListar}" title="Refrescar" actionListener="#{mipresBean.refrescar}" icon="ui-icon-refresh"  oncomplete="PF('tablaRegistros').filter();" />
                        </f:facet>
                    </p:toolbar>

                    <p:dataTable var="obj" value="#{mipresBean.lazyRegistros}" paginator="true" rows="#{mipresBean.tamanoPagina}" 
                                 emptyMessage="No se encontraron registros"
                                 currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                                 widgetVar="tablaRegistros"
                                 style="font-size:11px;"
                                 scrollable="true" 
                                 scrollWidth="auto" 
                                 rowKey="#{obj.id}" reflow="true">


                        <p:columnGroup type="header">
                            <p:row>
                                <p:column colspan="1" headerText="Acciones" style="text-align: center; width: 60px;" />
                                <p:column colspan="2" headerText="Prescripción" style="text-align: center; width: 300px;"/>
                                <p:column colspan="5" headerText="Paciente" style="text-align: center; width: 700px;" />
                                <p:column colspan="7" headerText="Item" style="text-align: center; width: 1300px;" />
                            </p:row>
                            <p:row>
                                <p:column headerText="Acciones" style="text-align: center; width: 55px" >
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Prescripción"  filterBy="#{obj.numeroPrescripcion}" style="text-align: center; width: 200px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Prescripción" maxlength="256" style="width: 95%;" />
                                    </f:facet>
                                </p:column> 

                                <p:column headerText="Estado"  filterBy="#{obj.estadoPrescripcion}" style="text-align: center; width: 50px;">   
                                    <f:facet name="filter">
                                        <p:selectOneMenu  style="width: 50%">
                                            <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />                                        
                                            <f:selectItem itemLabel="Modificado" itemValue="1" />
                                            <f:selectItem itemLabel="Anulado" itemValue="2" />
                                            <f:selectItem itemLabel="Activo" itemValue="4" />
                                            <f:selectItem itemLabel="Solicitud Anulacion" itemValue="5" />                                            
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Ámbito"  filterBy="#{obj.codigoAmbitoAtencion}" style="text-align: center; width: 150px;" >
                                    <f:facet name="filter">
                                        <p:selectOneMenu  style="width: 100px">
                                            <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />                                        
                                            <f:selectItem itemLabel="Tutela" itemValue="1" />
                                            <f:selectItem itemLabel="Ambulatorio - Priorizado" itemValue="11" />
                                            <f:selectItem itemLabel="Ambulatorio - No Priorizado" itemValue="12" />
                                            <f:selectItem itemLabel="Hospitalario - Domiciliario" itemValue="21" />
                                            <f:selectItem itemLabel="Hospitalario - Internacion" itemValue="22" />
                                            <f:selectItem itemLabel="Urgencias" itemValue="30" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:column> 

                                <p:column headerText="Nombre"  filterBy="#{obj.primerNombreAfiliado}" style="text-align: center; width: 100px;">                                
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre" maxlength="256" style="width: 95%;"  />
                                    </f:facet>
                                </p:column>
                                <p:column headerText="Apellido"  filterBy="#{obj.primerApellidoAfiliado}" style="text-align: center; width: 100px;">
                                    <f:facet name="filter">
                                        <p:inputText label="Apellido" maxlength="256" style="width: 95%;" />
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Documento"  filterBy="#{obj.numeroDocumentoAfiliado}" style="text-align: center; width: 100px;">                               
                                    <f:facet name="filter">
                                        <p:inputText label="Documento" maxlength="256" style="width: 95%;"  />
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Regimen"  style="text-align: center; width: 70px;" >                                
                                </p:column>

                                <p:column headerText="Tecnologí­a"  filterBy="#{obj.tipoTecnologiaItem}" style="text-align: center; width: 150px;" >
                                    <f:facet name="filter">
                                        <p:selectOneMenu  style="width: 100px">
                                            <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Medicamentos" itemValue="1" />
                                            <f:selectItem itemLabel="Procedimientos" itemValue="2" />
                                            <f:selectItem itemLabel="Dispositivos" itemValue="3" />
                                            <f:selectItem itemLabel="Productos nutricionales" itemValue="4" />
                                            <f:selectItem itemLabel="Servicios Complementarios" itemValue="5" />                                           
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Junta"  filterBy="#{obj.juntaP}" style="text-align: center; width: 150px;" > 
                                    <f:facet name="filter">
                                        <p:selectOneMenu  style="width: 100px">
                                            <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="No requiere" itemValue="1" />
                                            <f:selectItem itemLabel="Pendiente" itemValue="2" />
                                            <f:selectItem itemLabel="Aprobada" itemValue="3" />
                                            <f:selectItem itemLabel="No aprobada" itemValue="4" />                                          
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:column>  

                                <p:column headerText="Estado"  filterBy="#{obj.estadoItem}" style="text-align: center; width: 150px;" > 
                                    <f:facet name="filter">
                                        <p:selectOneMenu  style="width: 100px">
                                            <f:selectItem itemLabel="--" itemValue="#{null}" noSelectionOption="true" />                                           
                                            <f:selectItem itemLabel="Pendiente" itemValue="3" />
                                            <f:selectItem itemLabel="Auditado - Direccionado" itemValue="4" />
                                            <f:selectItem itemLabel="Auditado - No direccionamiento" itemValue="5" />
                                            <f:selectItem itemLabel="Ampliación justificación no pbs insuficiente o invalida" itemValue="6" />
                                            <f:selectItem itemLabel="Avalado Hos_Urg" itemValue="8" />                                           
                                            <f:selectItem itemLabel="Direccionado" itemValue="1" />
                                            <f:selectItem itemLabel="No Direccionado" itemValue="2" />
                                            <f:selectItem itemLabel="Pendiente De Cotizaciòn" itemValue="11" />
                                            <f:selectItem itemLabel="Con Cotización" itemValue="12" />
                                            <f:selectItem itemLabel="Rechazo De Cotización" itemValue="13" />
                                            <f:selectItem itemLabel="Anulado No Direccionamiento" itemValue="14" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                </p:column> 

                                <p:column headerText="Nombre Tecnologia"  filterBy="#{obj.nombreItem}" style="text-align: center; width: 100px;">                                
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre Tecnologia" maxlength="256" style="width: 95%;"  />
                                    </f:facet>
                                </p:column>

                                <p:column headerText="Fecha Prescripción" 
                                          filterBy="#{obj.fechaPrescripcion}" 
                                          style="text-align: center; width: 100px;" 
                                          filterMatchMode="equals">

                                    <f:facet name="filter">
                                        <p:calendar id="fechaFiltro"                                                     
                                                    pattern="yyyy-MM-dd" 
                                                    locale="es"
                                                    navigator="true"
                                                    showOn="focus" >
                                        </p:calendar>
                                    </f:facet>

                                </p:column>



                                <p:column headerText="Fecha hora atiende"  style="text-align: center; width: 20px;">                                
                                </p:column>

                                <p:column headerText="Gestion">
                                    <f:facet name="header">
                                        <h:outputText value="Gestion"/>
                                    </f:facet>
                                </p:column>

                            </p:row>
                        </p:columnGroup>

                        <p:column groupRow="true" style="text-align: center; width: 60px">

                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>                           
                            <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver" actionListener="#{mipresBean.Ver(obj.idPrescripcion)}" icon="ui-icon-search"/>                       


                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>                           
                            <p:commandButton rendered="#{mipresBean.accionAdicional11}" title="Sincronizar Consumos" actionListener="#{mipresBean.reSincronizar(obj.numeroPrescripcion,obj.idPrescripcion,obj.regimenAfiliado)}" icon="pi pi-refresh pi-spin" />                       

                        </p:column>                   

                        <p:column groupRow="true" style="text-align: center; width: 200px;">    
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.numeroPrescripcion}" title="#{obj.numeroPrescripcion}"/>
                        </p:column>   

                        <p:column groupRow="true" style="text-align: center; width: 60px;"> 
                            <div style="width: 120px; display: flex; align-items: center; justify-content: space-between;">
                                <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                                <h:outputText value="#{mipresBean.obtenerTipoEstadoPrescripcion(obj.estadoPrescripcion)}" title="#{mipresBean.obtenerTipoEstadoPrescripcion(obj.estadoPrescripcion)}" style="margin-right: 5px;"/>
                                <i class="pi pi-circle-on #{mipresBean.establecerColorPrecripcion(obj.estadoPrescripcion)}" title="#{mipresBean.obtenerTipoEstadoPrescripcion(obj.estadoPrescripcion)}" style="margin-left: 10px;"></i>
                            </div>
                        </p:column> 

                        <p:column groupRow="true" style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.obtenerAmbito}" title="#{obj.obtenerAmbito}">
                            </h:outputText>
                        </p:column>  


                        <p:column groupRow="true" style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.primerNombreAfiliado} #{obj.segundoNombreAfiliado}" title="#{obj.primerNombreAfiliado}"/>
                        </p:column>
                        <p:column groupRow="true" style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.primerApellidoAfiliado} #{obj.segundoApellidoAfiliado}" title="#{obj.primerApellidoAfiliado}"/>
                        </p:column>
                        <p:column groupRow="true" style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.numeroDocumentoAfiliado}" title="#{obj.numeroDocumentoAfiliado}"/>
                        </p:column>
                        <p:column groupRow="true" style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.regimen}" title="#{obj.regimen}"/>
                        </p:column>
                        <p:column style=" width: 350px;">

                            <div style="width: 120px; display: flex; align-items: center; justify-content: space-between;">
                                <h:outputText value="#{obj.obtenerTipoTecnologia}" title="#{mipresBean.obtenerToolTip(obj.tipoTecnologiaItem)}" style="margin-right: 5px;"/>
                                <i class="pi pi-circle-on #{obj.establecerColorTecnologia()}" title="#{mipresBean.obtenerToolTip(obj.tipoTecnologiaItem)}" style="margin-left: 10px;"></i>
                            </div>
                        </p:column>
                        <p:column >

                            <div style="width: 120px; display: flex; align-items: center; justify-content: space-between;" >
                                <h:panelGroup rendered="#{obj.obtenerJunta != null}">
                                    <h:outputText value="#{obj.obtenerJunta}" title="#{obj.obtenerJunta}" style="margin-right: 5px;"/>
                                    <i class="pi pi-circle-on #{obj.establecerColorJunta()}" title="#{obj.obtenerJunta}" style="margin-left: 10px;"></i>
                                </h:panelGroup>
                            </div>

                        </p:column>

                        <p:column >

                            <div style="width: 120px; display: flex; align-items: center; justify-content: space-between;">                           
                                <h:outputText value="#{obj.estadoStr}" title="#{mipresBean.obtenerToolTipEstado(obj.estadoItem)}" style="margin-right: 5px;"/>
                                <i class="pi pi-circle-on #{obj.establecerColorEstado()}" title="#{mipresBean.obtenerToolTipEstado(obj.estadoItem)}" style=" margin-left: 10px"></i>
                            </div>
                        </p:column>
                        <p:column style="text-align: center; width: 60px">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white; display: none"/>
                            <h:outputText value="#{obj.nombreItem}" title="#{obj.nombreItem}" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" />
                        </p:column>


                        <p:column style="text-align: center;">
                            <h:outputText value="#{obj.idPrescripcion}" title="#{obj.idPrescripcion}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.fechaPrescripcion}" >
                                <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                            </h:outputText>
                        </p:column>     

                        <p:column groupRow="true" style="text-align: center;">  
                            <h:outputText value="#{obj.idItem}" title="#{obj.idItem}" style="color: white;display: none"/>
                            <h:outputText value="#{obj.fechaHoraAtiende}" title="#{obj.fechaHoraAtiende}">
                                <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                            </h:outputText>
                        </p:column>

                        <p:column groupRow="true" style="text-align: center; width: 300px;">
                            <div style="display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 2px; height: 80%;">


                                <div style="display: flex; align-items: center;">
                                    <h:outputText value="#{obj.idItem}" title="#{obj.idItem}" style="color: white; display: none;" />
                                    <p:commandButton title="Gestionar" 
                                                     rendered="#{mipresBean.accionAdicional1 and (obj.estadoPrescripcion == 1 or obj.estadoPrescripcion == 4)}" 
                                                     actionListener="#{mipresBean.gestionar(obj.tipoTecnologiaItem,obj.idItem)}" 
                                                     icon="ui-icon-arrow-4-diag" 
                                                     style="margin-right: 1px;" />
                                </div>

                                <div style="display: flex; align-items: center;">
                                    <h:outputText value="#{obj.idItem}" title="#{obj.idItem}" style="color: white; display: none;" />
                                    <p:commandButton title="Suministros" 
                                                     rendered="#{mipresBean.accionAdicional5}" 
                                                     actionListener="#{mipresBean.verEntregas(obj.idPrescripcion,obj.idItem,obj.tipoTecnologiaItem)}" 
                                                     icon="ui-icon-cart" 
                                                     style="margin-right: 1px;" />
                                </div>


                                <div style="display: flex; align-items: center;">
                                    <h:outputText value="#{obj.idItem}" title="#{obj.idItem}" style="color: white; display: none;" />
                                    <p:commandButton title="Facturación" 
                                                     rendered="#{mipresBean.accionAdicional6}" 
                                                     actionListener="#{mipresBean.verEntregasFactura(obj.idPrescripcion,obj.idItem,obj.tipoTecnologiaItem)}" 
                                                     icon="ui-icon-folder-collapsed" 
                                                     style="margin-right: 1px;" />
                                </div>

                                <div style="display: flex; align-items: center;">
                                    <h:outputText value="#{obj.idItem}" title="#{obj.idItem}" style="color: white; display: none;" />
                                    <p:commandButton title="Liberar Atención" 
                                                     rendered="#{mipresBean.accionAdicional7}" 
                                                     actionListener="#{mipresBean.liberar(obj.idItem,obj.tipoTecnologiaItem)}" 
                                                     icon="ui-icon-power"
                                                     style="margin-right: 1px;" />
                                </div>

                            </div>
                        </p:column>

                    </p:dataTable>
                </h:form>     
            </p:panel>

            <!-- Ver -->
            <p:dialog widgetVar="dialogoVer" appendTo="@(body)" modal="true" style="max-width: 100%;" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Ver</b>
                </header>
                <h:form id="frmAuditoriaVer" class="frmAuditoria" style="margin-top: -20px; text-align: right;">
                    <p:outputPanel style="display: inline-block; margin-left: 3%;" rendered="#{mipresBean.numeroDeTutelas > 0}">
                        <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                        <p:outputLabel value="Paciente Cuenta Con: #{mipresBean.numeroDeTutelas} Tutela/s" style="margin-left: 7px; margin-right: 600px; margin-top: 50px"/>
                    </p:outputPanel>

                    <p:outputPanel style="display: inline-block; " rendered="#{mipresBean.mostrarAlertaPrimeraV}">
                        <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                        <p:outputLabel value="Alerta: prescripción por primera vez " style="margin-left: 5px;margin-right: 100px;margin-top: 50px"/>
                    </p:outputPanel>
                    <p:outputLabel id="labelDatosAuditoria" style="margin-right: 2%" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria}"/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{mipresBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height: 400px;">
                    <h:form id="frmVer">
                        <p:panel header="Prescripción" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                              

                                <p:outputLabel value="Número Prescripción"  style="font-weight:bold"/>                             
                                <p:outputLabel value="#{mipresBean.prescripcion.numeroPrescripcion}"/>                                   

                                <p:outputLabel value="Fecha Prescripción" style="font-weight:bold"/>                               
                                <p:outputLabel value="#{mipresBean.prescripcion.fechaPrescripcion}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Hora Prescripción" style="font-weight:bold"/>                                    
                                <h:outputLabel value="#{mipresBean.prescripcion.horaPrescripcion}">
                                    <f:convertDateTime type="date" pattern="HH:mm" timeZone="America/Bogota"/>
                                </h:outputLabel>

                                <p:outputLabel value="Ámbito" style="font-weight:bold"/>  
                                <p:outputLabel value="#{mipresBean.obtenerAmbito(mipresBean.prescripcion.codAmbAte)}"/>

                                <p:outputLabel value="Enfermedad Huérfana"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código Enfermedad Huérfana"  style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana}"/>                                 

                                <p:outputLabel value="Código Diagnóstico Principal" style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/> 

                                <p:outputLabel value="Estado"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerTipoEstadoPrescripcion(mipresBean.prescripcion.estado)}"/> 

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliado" header="Información del Paciente" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    


                                <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.obtenerTipoDocumentoPersona(mipresBean.prescripcion.asegAfiliado.maeTipoDocumento)}"/>                                        

                                <p:outputLabel value="Número Documento"  style="font-weight:bold"/>                              
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.numeroDocumento}"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos"  style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>                                     
                                <h:outputText value="#{mipresBean.obtenerTipoGenero(mipresBean.prescripcion.asegAfiliado.genero)}"/>

                                <p:outputLabel value="Fecha Nacimiento"  style="font-weight:bold"/>                                                                 
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>                                                                    
                                <h:outputText value="#{mipresBean.obtenerEdad(mipresBean.prescripcion.asegAfiliado.fechaNacimiento)}"/>

                                <p:outputLabel value="Régimen"  style="font-weight:bold"/>                                                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.regimen == '1' ? 'Subsidiado' : mipresBean.prescripcion.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Estado Afiliación" style="font-weight:bold"/>                                                                    
                                <p:outputLabel value="#{mipresBean.obtenerEstadoAfiliacion(mipresBean.prescripcion.asegAfiliado.maeEstadoAfiliacion)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Ubicación"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerMunicipio(mipresBean.prescripcion.asegAfiliado.residenciaUbicacion.id)}" />

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.telefonoFijo}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.telefonoMovil}"/>

                                <p:outputLabel value="Estado Civil" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.maeEstadoCivilValor}"/>

                                <p:outputLabel value="Grupo Poblacional"  style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.maeMetodologiaGrupoPoblacionalValor}"/>

                                <p:outputLabel value="E-mail" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.email}"/>

                                <p:outputLabel value="Portabilidad"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.tienePortabilidadStr}"/>

                                <p:outputLabel value="Municipio Portabilidad"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.municipioPortabilidad}"/>

                                <p:outputLabel value="Derechos Verificados" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.derechosVerificados}"/>

                                <p:outputLabel value="Identificación Madre Del Paciente"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliadoMadreDocumento}"/>                                    

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPS" header="Información IPS"  style="margin:10px 0px;" toggleable="true" collapsed="#{!mipresBean.prescripcion.recobrante == false}">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Nit"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.prestadorNumeroDocumento}"/>

                                <p:outputLabel value="Direccion" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcion.cntPrestadorSede.direccion}"/>


                                <p:outputLabel value="Razón Social" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.prestadorRazonSocial}"/>

                                <p:outputLabel value="Código Habilitación"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.sedeCodigoHabilitacion}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.cntPrestadorSede.ubicacion.nombre}"/>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntPrestadorSede.ubicacion.ubicacionPadre.nombre}"/>

                                <p:outputLabel value="Teléfono Administrativo"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.cntPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Teléfono Citas"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntPrestadorSede.telefonoCitas}"/>                                   
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlProfesional" header="Profesional" style="margin:10px 0px;" toggleable="true" >
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Tipo Documento"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número Documento"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.documento}"  />

                                <p:outputLabel value="Primer Nombre" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.primerNombre}"/>

                                <p:outputLabel value="Segundo Nombre"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.segundoNombre}"/>

                                <p:outputLabel value="Primer Apellido"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.primerApellido}"/>

                                <p:outputLabel value="Segundo Apellido"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcion.cntProfesional.registroMedico}" style="width: 94%;"/>                                   
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlRecobrante" header="Generalidades / Recobrante" rendered="#{mipresBean.prescripcion.recobrante == true}" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelRecobrante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Fallo"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fallo}"/>

                                <p:outputLabel value="Tipo Tutela"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.tipoTutela}"/>

                                <p:outputLabel value="Fecha Fallo" style="font-weight:bold"/>                                                                   
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fechaFallo}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha 1ra Instancia"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fechaPrimeraInstancia}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha 2da Instancia"  style="font-weight:bold"/>                                                                    
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fechaSegundaInstancia}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Corte" style="font-weight:bold"/>                                                                      
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fechaCorte}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Desacatoa"  style="font-weight:bold"/>                                                                   
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.fechaDesacato}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Código Diagnostico Principal"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.maDiagnosticoMotivaPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnostico Principal"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.maDiagnosticoMotivaPrincipalValor}"/>

                                <p:outputLabel value="Diagnostico 2"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.maDiagnosticoMotiva2Valor}"/>

                                <p:outputLabel value="Diagnostico 3"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.maDiagnosticoMotiva3Valor}"/>

                                <p:outputLabel value="Criterio 1 Definido Corte Contitucional"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobrante.criterio1Corte)}"/>

                                <p:outputLabel value="Criterio 2 Definido Corte Contitucional"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobrante.criterio2Corte)}"/>

                                <p:outputLabel value="Criterio 3 Definido Corte Contitucional" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobrante.criterio3Corte)}"/>

                                <p:outputLabel value="Criterio 4 Definido Corte Contitucional" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobrante.criterio4Corte)}"/>
                            </p:panelGrid>
                            <p:spacer/>
                            <p:panelGrid id="panelRecobrante2" columns="2"                                         
                                         style="border:0px none; background-color:transparent;" styleClass="ui-panelgrid-blank ui-fluid">                                 

                                <p:outputLabel value="Aclaración Fallo Tutela"  style="font-weight:bold; width: 30%"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.aclaracionFallo}"/>                               

                                <p:outputLabel value="Justificación Medica"  style="font-weight:bold; width: 30%"/>                                            
                                <p:outputLabel value="#{mipresBean.prescripcionRecobrante.justificacionMedica}" />

                            </p:panelGrid>
                        </p:panel>
                        <p:panel header="Tecnologí­as" style="margin-bottom:10px;" >
                            <f:facet name="header">
                                <h:outputText value="Tecnologí­as" />
                                <p:commandButton icon="ui-icon-print" title="TRANSCRIPCION PLAN DE MANEJO" actionListener="#" style="float:right; margin-right: 10px;" />
                            </f:facet>
                            <p:dataTable var="dto" value="#{mipresBean.listaPrescripcionDto}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDirec"
                                         widgetVar="tablaWidgetDTO" style="font-size:11px;"
                                         rowKey="#{dto.id}">                                
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver Item" actionListener="#{mipresBean.verItem(dto.id,dto.tipoTecnologiaId,1)}" icon="ui-icon-search"/> 
                                </p:column>
                                <p:column headerText="Consecutivo" style="text-align: center;">
                                    <p:outputLabel value="#{dto.consecutivo}"/>
                                </p:column>
                                <p:column headerText="Tipo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{dto.tipoTecnologia}"/>
                                </p:column>                               
                                <p:column headerText="Tipo Prestación" style="text-align: center;">
                                    <p:outputLabel value="#{dto.tipoPrestacion}"/>
                                </p:column>                               
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <p:outputLabel value="#{dto.nombreTecnologiaPrescripta}" title="#{dto.nombreTecnologiaPrescripta}" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"/>
                                </p:column>
                                <p:column headerText="Duración Tratamiento Ordenado" style="text-align: center;">
                                    <p:outputLabel value="#{dto.duracionTratamientoOrdenado}"/>
                                </p:column>
                                <p:column headerText="Cantidad Total Prescrita" style="text-align: center;">                                    
                                    <p:outputLabel  value="#{mipresBean.calcularDecimales(dto.cantidadTotalPrescrita)}" />                                  
                                </p:column>
                                <p:column headerText="Código Tecnologí­a" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.codigoTecnologia}"/>
                                </p:column>
                                <p:column headerText="Nombre Tecnologí­a" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.nombreTecnologia}"/>
                                </p:column>
                                <p:column headerText="Código Tecnologí­a Avalada EPS" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.codigoTecnologiaAvalEps}"/>
                                </p:column>
                                <p:column headerText="Nombre Tecnologí­a Avalada EPS" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.nombreTecnologiaAvalEps}"/>
                                </p:column>                                
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historicos" style="margin-bottom:10px;" >
                            <f:facet name="header">
                                <h:outputText value="Historicos" />
                                <p:commandButton icon="ui-icon-search" title="Ver Historicos" actionListener="#{mipresBean.verH(mipresBean.prescripcion.asegAfiliado.numeroDocumento,mipresBean.prescripcion.id)}" style="float:right; margin-right: 10px;" />
                            </f:facet>
                        </p:panel>

                        <p:panel id="pnlAnulado" header="Anulación" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAnulacion}" >
                            <p:panelGrid id="panelAnulado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerEstadoAnulacion(mipresBean.mpPrescripcionAnulada.estado)}"/>                                        

                                <p:outputLabel value="Tipo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.obtenerTipoAnulacion(mipresBean.mpPrescripcionAnulada.tipo)}"/>                                       

                                <p:outputLabel value="Justificación"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.justificacion}"/>

                                <p:outputLabel value="Observacion"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.observacion}"/>                                

                                <p:outputLabel value="Usuario Solicita"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.usuarioSolicita}"/>  
                                <p:outputLabel value="Fecha Solicitud"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.fechaHoraSolicitud}"/>  

                                <p:outputLabel value="Usuario Anula"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.usuarioAnula}"/>  
                                <p:outputLabel value="Fecha Anulacion"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.mpPrescripcionAnulada.fechaHoraAnulacion}"/> 
                            </p:panelGrid>                            
                        </p:panel> 

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>                       
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Historico -->
            <p:dialog header="Historicos" widgetVar="dialogoVerHistoricoNuevo" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmHistori">                       
                        <p:panel header="Historicos" style="margin-bottom:10px;" toggleable="true" collapsed="false" >
                            <p:scrollPanel mode="native" style="height: 100%">
                                <p:accordionPanel id="dynamicAccordion" multiple="false" widgetVar="dynamicAccordionVar" cache="false" activeIndex="-1">
                                    <c:forEach var="prescripcion" items="#{mipresBean.prescripcionListaHistoricos}">
                                        <p:tab title="Prescripción #{prescripcion.numeroPrescripcion} ----- #{mipresBean.fechaFormat(prescripcion.fechaPrescripcion)} ----- #{mipresBean.horaFormat(prescripcion.horaPrescripcion)}"  >

                                            <p:commandButton id="verH" class="verH" action="#{mipresBean.verHistoricoP(prescripcion.id)}" icon="ui-icon-search" title="Ver Prescripsión" style="margin-top: 10px;margin-bottom: 10px;" />


                                            <p:panelGrid id="panelHistoricoPrescr" columns="4"
                                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                                         layout="grid"
                                                         styleClass="ui-panelgrid-blank ui-fluid"
                                                         style="border:0px none; background-color:transparent;">    

                                                <p:outputLabel value="Fecha Prescripción"  style="font-weight:bold"/>                                                        
                                                <p:outputLabel value="#{prescripcion.fechaPrescripcion}">
                                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                                </p:outputLabel>

                                                <p:outputLabel value="Hora De Prescripción"  style="font-weight:bold"/>                                                       
                                                <p:outputLabel value="#{mipresBean.horaFormat(prescripcion.horaPrescripcion)}" />

                                                <p:outputLabel value="Profesional"  style="font-weight:bold"/>                                                        
                                                <p:outputLabel value="#{prescripcion.cntProfesional.primerNombre} #{prescripcion.cntProfesional.segundoNombre}
                                                               #{prescripcion.cntProfesional.primerApellido} #{prescripcion.cntProfesional.segundoApellido} ( #{prescripcion.cntProfesional.documento} )" />

                                                <p:outputLabel value="Ámbito Atención"  style="font-weight:bold"/>                                                       
                                                <p:outputLabel value="#{mipresBean.obtenerAmbitoHis(prescripcion.codAmbAte)}" /> 

                                                <p:outputLabel value="Ips"  style="font-weight:bold"/>                                                        
                                                <p:outputLabel value="#{prescripcion.prestadorRazonSocial} ( #{prescripcion.prestadorNumeroDocumento} )" /> 

                                                <p:outputLabel value="Dx Principal" style="font-weight:bold" />                                                       
                                                <p:outputLabel value="#{prescripcion.maDiagnosticoPrincipalCodigo} ( #{prescripcion.maDiagnosticoPrincipalValor} )" /> 

                                            </p:panelGrid>                                           
                                        </p:tab>
                                    </c:forEach>
                                </p:accordionPanel>  
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerHistoricoNuevo').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Afiliado -->
            <p:dialog header="Afiliado" widgetVar="dlgInfoAfiliado" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAfiliadoGeneral">
                        <p:panelGrid id="panelAfiliadoGeneral" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">    

                            <p:outputLabel value="Estado"  style="font-weight:bold"/>                                  
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.maeEstadoAfiliacionValor}" />

                            <p:outputLabel value="Nombres"  style="font-weight:bold"/>                                    
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.nombres}" />

                            <p:outputLabel value="Apellidos"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.apellidos}" />

                            <p:outputLabel value="Tipo Documento"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.maeTipoDocumentoCodigo}" />

                            <p:outputLabel value="Documento"  style="font-weight:bold"/>                                    
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.numeroDocumento}" />

                            <p:outputLabel value="Correo"  style="font-weight:bold"/>                                    
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.email}" />

                            <p:outputLabel value="Dirección"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.direccionResidencia}" />

                            <p:outputLabel value="Ubicación"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.obtenerMunicipio(mipresBean.prescripcion.asegAfiliado.residenciaUbicacion.id)}" />

                            <p:outputLabel value="Regimen"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.maeRegimenValor}" />

                            <p:outputLabel value="Contrato"  style="font-weight:bold"/>                                   
                            <p:outputLabel value="#{mipresBean.prescripcion.asegAfiliado.idAfiliado}" />                                
                        </p:panelGrid>
                        <p:panel header="Contactos" toggleable="true" style="height:auto;">
                            <p:scrollPanel mode="native">
                                <p:dataTable id="tablaContactosGeneralAseg" var="contacto" value="#{mipresBean.prescripcion.asegAfiliado.listaAsegAfiliadoContacto}" widgetVar="tablaContactosGestionarAseg" scrollable="true" emptyMessage="No se encontraron registros">
                                    <p:column headerText="Número Contacto">
                                        <h:outputText value="#{contacto.numeroContacto}"/>
                                    </p:column>
                                    <p:column headerText="Tipo">
                                        <h:outputText value="#{contacto.maeTipoContactoValor}"/>
                                    </p:column>
                                    <p:column headerText="Observación">
                                        <h:outputText value="#{contacto.observacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgInfoAfiliado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver medicamento 1-->
            <p:dialog header="Detalle Medicamentos" widgetVar="dialogoVerItemMM" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemMM" class="frmAuditoriaMM" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaMM" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemMM">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Principios Activos" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descripcionMedicamentoPrincipioActivo}"/>

                                <p:outputLabel value="Forma Farmacéutica"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.codigoFormulaFarmaceutica , 7)}"/>

                                <p:outputLabel value="Ví­a Administración"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.codigoViaAdministracion , 3)}"/>

                                <p:outputLabel value="Dosis"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.dosis)} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.dosisUnidadMedida , 1)} "/>

                                <p:outputLabel value="Frecuencia Administración"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numeroFrecuenciaAdministracion}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionMedicamento.codigoFrecuenciaAdministracion)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cantidadTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionMedicamento.duracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Formulada"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.cantidadTotalFormulada)}  #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.unidadFarmaceuticaCantidadTotal , 2)}"/>

                                <p:outputLabel value="Indicaciones Especiales"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.optenerIndicacionesEspeciales(mipresBean.prescripcionMedicamento.indicacionesEspeciales)}"/>

                            </p:panelGrid>
                            <p:panelGrid columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Indicaciones o recomendaciones para el paciente"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.indicacionRecibida}"/>
                            </p:panelGrid>

                        </p:panel>

                        <p:panel header="Principios activos" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tienePrincipioActivo}">
                            <p:dataTable var="dto" value="#{mipresBean.listaPrincipiosActivos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosPA"
                                         widgetVar="tablaWidgetPA" style="font-size:11px;"
                                         rowKey="#{dto.id}">                                
                                <p:column headerText="Consecutivo" style="text-align: center;">
                                    <p:outputLabel value="#{dto.consecutivoOrden}"/>
                                </p:column>
                                <p:column headerText="Código Principio Activo" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.codigoPrincipioActivo , 4 )}"/>
                                </p:column>                               
                                <p:column headerText="Consecutivo Cantidad" style="text-align: center;">
                                    <p:outputLabel value="#{dto.concecutivoCantidad}"/>
                                </p:column>                               
                                <p:column headerText="Medida Concentración" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.unidadMedidaConcentracion , 1)}"/>
                                </p:column>
                                <p:column headerText="Cantidad Contenido" style="text-align: center;">
                                    <p:outputLabel value="#{dto.cantidadContenido}"/>
                                </p:column>
                                <p:column headerText="Unidad Cantidad Contenido" style="text-align: center;">                                    
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.unidadCantidadContenido , 1)}"/>                                  
                                </p:column>                                     
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Indicacion/es UNIRS" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.listaMpIndicacionUnirs.size() > 0 }">
                            <p:dataTable var="direc1" value="#{mipresBean.listaMpIndicacionUnirs}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO78"
                                         widgetVar="tablaWidgetDirec2" style="font-size:11px;"
                                         rowKey="#{direc1.id}">    

                                <p:column headerText="Código" style="text-align: center;">
                                    <p:outputLabel value="#{direc1.codigoIndicacion}"/>
                                </p:column>                                                            
                                <p:column headerText="Indicación" style="text-align: center;">
                                    <p:outputLabel value="#{direc1.mpCodigoUnirsId.indicacion}"/>
                                </p:column>                    

                            </p:dataTable>
                        </p:panel>

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    


                                <p:outputLabel value="Estado Junta"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionMedicamento.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionTecJunta}">                                   
                                </p:outputLabel>                                   

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.diagnosticoEnfermedadHuerfana? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado2Valor}"/>                                    
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                       

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionMedicamento.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Tipo Medicamento"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerTipoTecnologia(mipresBean.prescripcionMedicamento.tipoMedicamento)}"/>                                        

                                <p:outputLabel value="Estado Junta Profesionales"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>

                            <p:panelGrid id="panelJustificado2" columns="2"                                        
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No PBS"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionNoPbs}"/>  

                                <p:outputLabel value="Medicamento financiado por el PBS con cargo a la UCP?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cubiertoPbsCargoUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Medicamento se encuentra en fase experimental?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Ya utilizo  medicamento  existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Medicamento PBS utilizado"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.medPbsUtilizado}"/>                                     

                                <p:outputLabel value="Ya descarto el medicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descMedPbsUpc ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descarto porque se prevén reacciones adversas o intolerancia por el paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descartó por que existen indicaciones o contradicciones expresas?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descarto porque no existe alternativa en el PBS?"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoAlternativa ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Lo descarto porque tiene mejor evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica? "  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>  

                                <p:outputLabel value="La indicación o uso previsto del medicamento está registrado/aprobado por la autoridad competente clí­nica?"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.regAprobAutClin ? 'Si' : 'No'}"/>

                                <p:outputLabel value="El medicamento aparece en la lista de uso no indicado en el registro sanitario UNIRS?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.listaNoUsoSanitarioUnirs ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Existe evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                 

                            </p:panelGrid>
                        </p:panel>                         

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO77"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>  
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO88"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">   

                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT99"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Auditoria" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAuditoria}">
                            <p:dataTable var="aud" value="#{mipresBean.listaPrescripcionAuditoriaRespaldo}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOLista"
                                         widgetVar="tablaWidgetHLista" style="font-size:11px;"
                                         rowKey="#{aud.id}">                               
                                <p:column headerText="Nota Auditoria" style="text-align: center;">
                                    <p:outputLabel value="#{aud.notaAuditoria}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoAuditado(aud.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{aud.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{aud.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>


                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO7"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemMM').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver producto nutricional 4-->
            <p:dialog header="Detalle Producto Nutricional" widgetVar="dialogoVerItemM" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemM" class="frmAuditoriaM" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaM" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemM">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Producto Nutricional"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.maeProductosNutricionalesValor}"/>

                                <p:outputLabel value="Via Administración"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerViaAdminPNutri(mipresBean.prescripcionMedicamento.codigoViaAdministracion)}"/>


                                <p:outputLabel value="Dosis"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.dosis)} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.dosisUnidadMedida , 1)} "/>

                                <p:outputLabel value="Frecuencia Administración"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numeroFrecuenciaAdministracion}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionMedicamento.codigoFrecuenciaAdministracion)}"/>

                                <p:outputLabel value="Duración Tratamiento"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cantidadTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionMedicamento.duracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Formulada"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.cantidadTotalFormulada)}  #{mipresBean.optenerPresentacionPNutri(mipresBean.prescripcionMedicamento.unidadFarmaceuticaCantidadTotal)}"/>

                                <p:outputLabel value="Indicaciones Especiales"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerIndicacionesEspeciales(mipresBean.prescripcionMedicamento.indicacionesEspeciales)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.indicacionRecibida}"/>

                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcion.codigoEnfermedadHuerfana , 6)} "/>


                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.diagnosticoEnfermedadHuerfana  ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado2Valor}"/>                              
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnljunta" header="Información junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionMedicamento.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                           
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionTecJunta}" >                                   
                                </p:outputLabel>  
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No PBS"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionNoPbs}"/>

                                <p:outputLabel value="Tipo Producto Nutricional"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.tipoProductoNutricional , 5)}"/> 

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionMedicamento.tipoPrestacion)}"/>                                        

                            </p:panelGrid>

                            <p:panelGrid id="panelJustificado2" columns="2"                                         
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                      

                                <p:outputLabel value="Producto nutricional se encuentra en fase experimental?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Producto nutricional esta registrado por INVIMA?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.registroInvima ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Producto nutricional esta cubierto por el PBS con cargo a la UCP?"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cubiertoPbsCargoUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Ya utilizo el nutricional o médicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Lo utilizó y no se obtuvieron resultados clí­nicos o paraclí­nicos satí­sfactorios en el termino previsto de sus indicaciones?"  style="font-weight:bold"/>                                 
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.resultSatisPrev ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Lo utilizó y se obtuvieron reacciones adversas o intolerancia para el paciente"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.reaccionesAdversasPaciente ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Ya descarto el medicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descMedPbsUpc ? 'Si' : 'No'}"/>    

                                <p:outputLabel value="Lo descartó por que existen indicaciones o contradicciones expresas?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Lo descarto porque tiene mejor evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica? "  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                                               

                                <p:outputLabel value="Es diagnostico VIH"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoVih ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Es diagnostico Cancer"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoCancer ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico desnutrición proteico calórica en menores de 5 años?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoDesnutricion ? 'Si' : 'No'}"/>

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO779"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>   
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO889"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">

                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT999"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Auditoria" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAuditoria}">
                            <p:dataTable var="aud" value="#{mipresBean.listaPrescripcionAuditoriaRespaldo}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOLista"
                                         widgetVar="tablaWidgetHLista" style="font-size:11px;"
                                         rowKey="#{aud.id}">                               
                                <p:column headerText="Nota Auditoria" style="text-align: center;">
                                    <p:outputLabel value="#{aud.notaAuditoria}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoAuditado(aud.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{aud.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{aud.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO3"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                      
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemM').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Procedimientos 2-->
            <p:dialog header="Detalles Procedimiento" widgetVar="dialogoVerItemT" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemT" class="frmAuditoriaT" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaT" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemT">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Cups"   style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.maTecnologiaCodigo} - #{mipresBean.prescripcionTecnologia.maTecnologiaValor}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionTecnologia.cantidadFormulada)}  #{mipresBean.prescripcionMedicamento.codFormulada}"/>

                                <p:outputLabel value="Frecuencia Uso"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.frecuenciaDeUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionTecnologia.codigoUnidadTiempoFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.cantidadDuracionTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionTecnologia.codigoPeriodoDuracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Total"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.cantidadTotal}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.indicacionesPaciente}"/>                                  
                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcion.codigoEnfermedadHuerfana , 6)} "/>


                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado2Valor}"/>  

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnljunta" header="Información junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionTecnologia.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionTecnologia.modJunta)}"/>                                                  

                                <p:outputLabel value="Fecha Acta"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>                                 

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.justificacionTecJunta}">                                   
                                </p:outputLabel>  
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">

                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                        

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionTecnologia.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.obtenerEstadoJuntaProfesional(mipresBean.prescripcionTecnologia.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.justificacionNoPbs}"/> 

                                <p:outputLabel value="Tiene cups"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.tieneCups ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Es una combinación de CUPS?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.combinacionCups ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El procedimiento esta en fase experimental?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="El procedimiento  esta financiado por el PBS con cargo a la UPC?"   style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.financiadoPbsUpc ? 'Si' : 'No'}"/>                                       

                                <p:outputLabel value="Utilizo lo existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Procedimiento PBS utilizado?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.pbsUtilizado ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Descarto lo existente en el PBS con cargo a la UPC"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descProcedPbsCargoUpc ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Procedimiento PBS descartado"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.procePbsDescartado ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Lo descartó por que no existe alternativa en el PBS?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descartoNoExistePbs ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Lo descartó porque tiene mejor evidencia cientifica disponible sobre seguridad eficacia y efectividad clí­nica?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Existe evidencia cientifica disponible sobre seguridad eficacioa y efectividad clí­nica?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                            

                                <p:outputLabel value="El procedimiento prescrito se realizará en colombia?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.procRealizaraCol ? 'Si' : 'No'}"/>   

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO778"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}">  
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>    
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO888"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}"> 

                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT998"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Auditoria" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAuditoria}">
                            <p:dataTable var="aud" value="#{mipresBean.listaPrescripcionAuditoriaRespaldo}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOLista"
                                         widgetVar="tablaWidgetHLista" style="font-size:11px;"
                                         rowKey="#{aud.id}">                               
                                <p:column headerText="Nota Auditoria" style="text-align: center;">
                                    <p:outputLabel value="#{aud.notaAuditoria}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoAuditado(aud.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{aud.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{aud.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>


                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO11"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemT').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Dispositivos 3-->
            <p:dialog header="Detalle Dispositivo(s)" widgetVar="dialogoVerItemII" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true">

                <h:form id="frmAuditoriaVerItemII" class="frmAuditoriaII" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaII" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemII">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Nombre Dispositivo"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.maeDispositivosCodigo} - #{mipresBean.prescripcionInsumo.maeDispositivosNombre}"/>

                                <p:outputLabel value="Tipo De Transporte"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoTransporte(mipresBean.prescripcionInsumo.tipoTransporte)}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidadFormulada}"/>

                                <p:outputLabel value="Frecuencia De Uso"    style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.frecuenciaUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionInsumo.codFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidad}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionInsumo.codPerDurTrat)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.indicacionesRecomendaciones}"/>

                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado2Valor}"/>  

                            </p:panelGrid>
                        </p:panel>   

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionInsumo.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionTecJunta}">                                   
                                </p:outputLabel>                                    

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                       

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionInsumo.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionNoPbs}"/>  


                                <p:outputLabel value="El uso del servicio es cosmético o suntuario?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.usoServCosmeticoSuntuario ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio se prestará en colombia?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servicioPrestaraColombia ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio esta registrado por la autoridad competente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servRegistradoAutCompetente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio corresponde a la condición clí­nica y diagnóstico del paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servCondicionClinDiagPaciente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Existe evidencia disponible sobre seguridad eficacia y efectividad?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                

                            </p:panelGrid>
                        </p:panel> 

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO773"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}">  
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column> 
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO883"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}"> 

                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>
                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT993"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Auditoria" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAuditoria}">
                            <p:dataTable var="aud" value="#{mipresBean.listaPrescripcionAuditoriaRespaldo}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOLista"
                                         widgetVar="tablaWidgetHLista" style="font-size:11px;"
                                         rowKey="#{aud.id}">                               
                                <p:column headerText="Nota Auditoria" style="text-align: center;">
                                    <p:outputLabel value="#{aud.notaAuditoria}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoAuditado(aud.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{aud.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{aud.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>


                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO1"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                      
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemII').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Complementario 5 -->
            <p:dialog header="Detalle Complementarios" widgetVar="dialogoVerItemI" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">

                <h:form id="frmAuditoriaVerItemI" class="frmAuditoriaI" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaI" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemI">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Servicio Complementario"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.maeServiciosComplementariosNombre}"/>

                                <p:outputLabel value="Cantidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.desimalConvertido(mipresBean.prescripcionInsumo.cantidadTotalEntrega)}" />

                                <p:outputLabel value="Descripción"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.descripcionServicioComplementario}"/>

                                <p:outputLabel value="Tipo De Transporte"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoTransporte(mipresBean.prescripcionInsumo.tipoTransporte)}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidadFormulada}"/>

                                <p:outputLabel value="Frecuencia De Uso"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.frecuenciaUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionInsumo.codFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidad}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionInsumo.codPerDurTrat)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.indicacionesRecomendaciones}"/>                                    
                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal" style="font-weight:bold"/>  
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal" style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"  style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcion.maDiagnosticoRelacionado2Valor}"/>  
                            </p:panelGrid>
                        </p:panel>     

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionInsumo.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                              
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionTecJunta}">                                   
                                </p:outputLabel>                                      
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionInsumo.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>                                       


                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionNoPbs}"/>       


                                <p:outputLabel value="El uso del servicio es cosmético o suntuario?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.usoServCosmeticoSuntuario ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio se prestará en colombia?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servicioPrestaraColombia ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio esta registrado por la autoridad competente?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servRegistradoAutCompetente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio corresponde a la condición clí­nica y diagnóstico del paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servCondicionClinDiagPaciente ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Existe evidencia disponible sobre seguridad eficacia y efectividad?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO772"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO882"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}"> 


                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT992"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Auditoria" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneAuditoria}">
                            <p:dataTable var="aud" value="#{mipresBean.listaPrescripcionAuditoriaRespaldo}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOLista"
                                         widgetVar="tablaWidgetHLista" style="font-size:11px;"
                                         rowKey="#{aud.id}">                               
                                <p:column headerText="Nota Auditoria" style="text-align: center;">
                                    <p:outputLabel value="#{aud.notaAuditoria}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoAuditado(aud.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{aud.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{aud.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>


                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO5"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>                      

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemI').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="" widgetVar="" modal="true" resizable="false" width="500">

            </p:dialog>

            <!-- Atencion -->
            <p:dialog header="Respuesta Direccionamiento"
                      widgetVar="dlgRespuesta"
                      closable="false"
                      modal="true"
                      resizable="false"                     
                      appendTo="@(body)"
                      dynamic="true"                      
                      responsive="true"
                      position="center"
                      styleClass="dialog-auto-size">

                <h:form id="idcontenidoRespuesta">
                    <h:panelGrid id="contenidoRespuesta" columns="1" style="word-wrap: break-word; max-width: 600px;">
                        <h:outputText value="#{mipresBean.respuestaSeleccionada}" escape="false"
                                      style="white-space: pre-line;" />
                    </h:panelGrid>

                    <p:panelGrid id="panelCrear" style="width:100%; margin:10px 0;">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6" style="text-align: center;">                                   
                                    <p:commandButton value="Salir" type="button"
                                                     onclick="PF('dlgRespuesta').hide()" 
                                                     immediate="true" style="margin-left: 5px;" />
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>



            <!-- INICIO DIALOGO Direccionamiento -->        
            <p:dialog header="GENERAR DIRECCIONAMIENTO" widgetVar="dlgDireccionamiento" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="auto" height="auto" dynamic="true" onHide="cerrarModalGestionar()" >
                <p:scrollPanel mode="native" style="height:400px"> 
                    <p:panel style=" height: 30px; width: 100%; " >
                        <p:outputPanel style="display: inline-block; margin-left: 20px;" rendered="#{mipresBean.numeroDeTutelas > 0}">
                            <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                            <p:outputLabel value="Paciente Cuenta Con: #{mipresBean.numeroDeTutelas} Tutela/s" style="margin-left: 20px; margin-right: 200px; margin-top: 50px"/>
                        </p:outputPanel>
                        <p:outputPanel style="display: inline-block; " rendered="#{mipresBean.mostrarAlertaPrimeraV}">
                            <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                            <p:outputLabel value="Alerta: prescripción por primera vez " style="margin-left: 5px;margin-right: 100px;margin-top: 50px"/>
                        </p:outputPanel>
                    </p:panel>
                    <h:form id="frmDireccionamiento">                        
                        <p:panel id="panelCrearDireccionamiento" header="DIRECCIONAMIENTO" style="margin-bottom:10px" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="right">
                                    <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver" actionListener="#{mipresBean.verDesdeGestion()}" icon="ui-icon-search"/>                        
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelDireccionamiento" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Tipo Tecnologí­a" for="TipoTecnologia"  style="font-weight:bold"/>                                    
                                <p:outputLabel id="TipoTecnologia" value="#{mipresBean.obtenerTipoTecnologia(mipresBean.direccionamiento.tipoTecnologia)}">
                                </p:outputLabel>

                                <p:outputLabel value="Tecnologí­a" for="tecn"  style="font-weight:bold"/>                                    
                                <p:outputLabel id="tecn" value="#{mipresBean.objeto.nombreItem}">
                                </p:outputLabel>

                                <p:outputLabel value="Total A Entregar" for="totalentrega"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="totalentrega" value="#{mipresBean.direccionamiento.entregaTotal}">
                                </p:outputLabel>

                                <p:outputLabel value="Sub Entrega" for="subentrega"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="subentrega"  value="#{mipresBean.direccionamiento.subEntrega}">
                                </p:outputLabel>

                                <p:outputLabel value="Cantidad Entregas Sugerida" for="canentrega"  style="font-weight:bold"/>                                    
                                <p:outputLabel id="canentrega"  value="#{mipresBean.numeroDeEntregasCalculada}">
                                </p:outputLabel>

                                <p:outputLabel value="Disponible Para Direccionar" for="disentrega"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="disentrega"  value="#{mipresBean.calculoEntregaDisponible}">
                                </p:outputLabel>                                   
                            </p:panelGrid>   
                        </p:panel>

                        <p:panel id="pAfiliado" header="AFILIADO" widgetVar="dialogoaf" style="width:auto;height:auto;"  >
                            <p:panelGrid id="panelCrearaf" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Tipo Documento" for="doc"   style="font-weight:bold"/>                                   
                                <p:outputLabel id="doc"  value="#{mipresBean.objeto.tipoDocumentoAfiliado}">
                                </p:outputLabel>

                                <p:outputLabel value="Número Documento" for="Ndoc"   style="font-weight:bold"/>                                   
                                <p:outputLabel id="Ndoc"  value="#{mipresBean.objeto.numeroDocumentoAfiliado}">
                                </p:outputLabel>

                                <p:outputLabel value="Nombre/s" for="name"   style="font-weight:bold"/>                                   
                                <p:outputLabel id="name"  value="#{mipresBean.objeto.primerNombreAfiliado}  #{mipresBean.objeto.segundoNombrePrestador}">
                                </p:outputLabel>

                                <p:outputLabel value="Apellido/s" for="sname"   style="font-weight:bold"/>                                    
                                <p:outputLabel id="sname"  value="#{mipresBean.objeto.primerApellidoAfiliado}  #{mipresBean.objeto.segundoApellidoAfiliado}">
                                </p:outputLabel>                                   
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="panelCodDirecciona" header="TECNOLOGIA" style="margin-bottom:10px" >
                            <p:toolbar>
                                <f:facet name="right">
                                    <p:commandButton id="btnMaMedicamento" immediate="true" action="#{mipresBean.consultarMaMedicamento()}" disabled="#{mipresBean.activarBotonMed}" icon="ui-icon-plusthick" title="Maestra Medicamentos"  />
                                    <p:commandButton id="btnMatecnologia" immediate="true" action="#{mipresBean.consultarMaTecnologia()}" disabled="#{mipresBean.activarBotonTec}" icon="ui-icon-gear" title="Maestra Tecnologias"  />
                                    <p:commandButton id="btnMaMpTecnologia" immediate="true" action="#{mipresBean.consultarMpMaTecnologia()}" disabled="#{mipresBean.activarBotonMpTec}" icon="ui-icon-flag" title="Tecnologias Homologadas"  />
                                    <p:commandButton id="btnMaInsumo" immediate="true" action="#{mipresBean.consultarMaInsumo}" disabled="#{mipresBean.activarBotonIns}" icon="ui-icon-circle-arrow-n" title="Maestra Insumos"  /> 
                                    <p:commandButton id="btnMaPaquete" immediate="true" action="#{mipresBean.consultarMaPaquete}" disabled="#{mipresBean.activarBotonIns}" icon="ui-icon-copy" title="Paquetes"  />
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelCodaTecnologia" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código" for="codDireCups"  style="font-weight:bold"/>                                                                       
                                <p:outputLabel id="codDireCups"   style="width: 300px;" value="#{mipresBean.direccionamiento.codigoMpEntrega}" >
                                </p:outputLabel>

                                <p:outputLabel value="Descripción" for="DesDireCups"  style="font-weight:bold"/>                                                                          
                                <p:outputLabel id="DesDireCups"  value="#{mipresBean.direccionamiento.codigoMpPropio}" >
                                </p:outputLabel>  

                            </p:panelGrid>   
                        </p:panel>

                        <p:panel id="panelCrearDireccionamientoPrestador" header="PRESTADOR" style="margin-bottom:10px" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="right">                                    
                                    <p:commandButton id="botonConsultarPrestadorCon"  immediate="true" action="#{mipresBean.consultarCntPrestador(mipresBean.idSeleccionTecnologia,mipresBean.tipoSeleccionTecnologia)}" icon="ui-icon-folder-open" title="Prestadores Por Contrato"  />
                                    <p:commandButton id="botonSolicitarCotizacion" 
                                                     immediate="true"
                                                     action="#{mipresBean.solicitarCotizacion(mipresBean.objeto.idPrescripcion, mipresBean.objeto.idItem, mipresBean.objeto.tipoTecnologiaItem)}"
                                                     icon="ui-icon-transferthick-e-w"
                                                     title="Solicitar Cotización"
                                                     styleClass="ui-button-warning"
                                                     update="@form">
                                        <p:confirm header="Confirmación"
                                                   message="¿Está seguro de que desea enviar a cotizar?"
                                                   icon="pi pi-exclamation-triangle"/>
                                    </p:commandButton>
                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Sí" type="button" styleClass="ui-confirmdialog-yes ui-button-success" icon="pi pi-check"/>
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no ui-button-secondary" icon="pi pi-times"/>
                                    </p:confirmDialog>
                                    <p:commandButton id="botonConsultarPrestadorCotizacion" immediate="true" action="#{mipresBean.asignarCotizacion(mipresBean.objeto.idPrescripcion, mipresBean.objeto.idItem, mipresBean.objeto.tipoTecnologiaItem)}" icon="ui-icon-contact" title="Listar Cotizacion" rendered="#{mipresBean.objetoCotizacionDetalle.estado == 12 or mipresBean.objetoCotizacionDetalle.estado == 14 or mipresBean.objetoCotizacionDetalle.estado == 17 or mipresBean.objetoCotizacionDetalle.estado == 19}" />
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelDireccionamientoPrestador" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Razón Social" for="RazonSocial"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="RazonSocial"  value="#{mipresBean.direccionamiento.nombreSede}" >
                                </p:outputLabel>

                                <p:outputLabel value="Código Prestador"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="codigoprestador"  value="#{mipresBean.direccionamiento.prestadorNumeroDocumentoStr}">
                                </p:outputLabel>

                                <p:outputLabel value="Cod Habilitación Sede" for="codHSede"  style="font-weight:bold"/>                                  
                                <p:outputLabel id="codHSede"  value="#{mipresBean.direccionamiento.codigoHabilitacionSede}">
                                </p:outputLabel>

                                <p:outputLabel value="Teléfono Administrativo" for="teladm"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="teladm"  value="#{mipresBean.direccionamiento.telefonoAdministrativoSede}">
                                </p:outputLabel>

                                <p:outputLabel value="Correo" for="Correo"  style="font-weight:bold"/>                                    
                                <p:outputLabel id="Correo" value="#{mipresBean.direccionamiento.correoElectronicoSede}" >
                                </p:outputLabel>                                  
                            </p:panelGrid>   
                        </p:panel>


                        <p:panel header="DIRECCIONADOS" style="margin-bottom:10px;"  >   
                            <p:growl id="mensajes" widgetVar="growlWidget" life="2000" showDetail="false"/>
                            <p:toolbar>
                                <f:facet name="right">
                                    <p:commandButton rendered="#{mipresBean.accionAdicional10}" title="Sincronizar Direccionamientos"
                                                     action="#{mipresBean.sincronizarDireccionamiento()}"
                                                     icon="ui-icon-refresh" immediate="true"/>  
                                    <p:commandButton rendered="#{mipresBean.accionAdicional12 and mipresBean.borradoLogico}" title="Borrado De Direccionamientos"
                                                     action="#{mipresBean.borradoLogico()}"
                                                     icon="ui-icon-trash" immediate="true"/> 
                                </f:facet>
                            </p:toolbar>
                            <p:dataTable var="direccionados" value="#{mipresBean.direccionamientoDireccionado}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDireccionados"
                                         widgetVar="tablaWidgetDirecionados" style="font-size:11px;"
                                         rowKey="#{direccionados.id}">                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direccionados.estado)}"/>
                                </p:column> 
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direccionados.respuestaDireccionamiento}"                                               
                                        title="#{direccionados.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direccionados.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>

                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direccionados.justificacionDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direccionados.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direccionados.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direccionados.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Valor Contratado"  style="text-align: center;">                           
                                    <p:outputLabel value="#{direccionados.valorTecContratada}" >
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direccionados.consecutivoEntrega}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direccionados.entregaTotal}"/>
                                </p:column>                               
                                <p:column headerText="Accion" style="text-align: center;">
                                    <p:commandButton id="botonDir" immediate="true"
                                                     action="#{mipresBean.anularDirec(direccionados.id, direccionados.estado)}" rendered="#{direccionados.estado  == 1}" icon="ui-icon-alert" title="Anular"  />

                                    <p:commandButton id="botonDirA" immediate="true"
                                                     action="#{mipresBean.direccionarAnulado(direccionados)}"  rendered="#{direccionados.estado == 0 }" icon="ui-icon-transferthick-e-w" title="Direccionar"  />

                                </p:column>                                 
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>

                        </p:panel>




                        <p:panel id="panelListaDireccionamiento" header="ENTREGAS" style="margin-bottom:10px; height: auto" >
                            <p:toolbar>
                                <f:facet name="left">
                                    <div style="display: flex; align-items: center; justify-content: space-between;">
                                        <p:outputLabel value="Disponible para direccionar" style="font-weight:bold; margin-right: 40px; font-size: 14px; margin-bottom: 10px;margin-top: 8px" />
                                        <p:outputLabel id="disentrega2" value="#{mipresBean.calculoEntregaDisponible}" style="color: green; font-weight:bold; font-size: 16px; margin-bottom: 10px; margin-top: 8px" />
                                    </div>
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelCrearParcial2" columns="6"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:commandButton value="Agregar Entrega" actionListener="#{mipresBean.agregarNuevaEntrega()}" style="align-content: center"/>                                  

                                <p:outputLabel  value="Es Entrega Parcial"   style="font-weight:bold"/>                            
                                <p:selectBooleanButton id="botonParcialV" value="#{mipresBean.direccionamiento.esEntregaParcial}" onLabel="Si" offLabel="No" style="width:6rem" >
                                    <p:ajax  listener="#{mipresBean.entregaParcial()}" />
                                </p:selectBooleanButton>

                                <p:outputLabel  value="Es Entrega Diferida"   style="font-weight:bold"/>                                    
                                <p:selectBooleanButton id="botonParcialVe" value="#{mipresBean.direccionamiento.esEntregaDiferida}" onLabel="Si" offLabel="No" style="width:6rem" >
                                    <p:ajax  listener="#{mipresBean.entregaDiferida()}" />
                                </p:selectBooleanButton>

                            </p:panelGrid>
                            <p:scrollPanel mode="native" style="height: auto">
                                <p:dataTable var="direc1" value="#{mipresBean.listadireccionamientos}" rendered="#{mipresBean.mostrarPanelSinFecha}"
                                             emptyMessage="No se encontraron registros" id="tablaRegistrosDirec2"
                                             widgetVar="tablaWidgetDirec" style="font-size:11px; height: auto;" editable="true"
                                             rowKey="#{direc1.id}">
                                    <p:ajax event="rowEdit" listener="#{mipresBean.onRowEdit}" />
                                    <p:ajax event="rowEditCancel" listener="#{mipresBean.onRowCancel}"  />

                                    <p:column headerText="Prestador" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc1.nombreSede}" />                                            
                                    </p:column>

                                    <p:column headerText="Nota De Direccionamiento" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc1.justificacionDireccionamiento}" />
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:inputTextarea value="#{direc1.justificacionDireccionamiento}" maxlength="400" />
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="Cantidad Max. Entrega" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc1.entregaTotal}" />
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:inputText value="#{direc1.entregaTotal}" >

                                                </p:inputText>
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="Fecha Max. Entrega" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc1.fechaMaxEntrega}">
                                                    <f:convertDateTime pattern="yyyy-MM-dd" />
                                                </p:outputLabel>
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:calendar value="#{direc1.fechaMaxEntrega}" pattern="yyyy-MM-dd"  mindate="#{mipresBean.asignarMinDate()}" maxdate="#{mipresBean.asignarMaxDate()}"/>
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="No Entrega" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc1.consecutivoEntrega}" />                                           
                                    </p:column>

                                    <p:column headerText="Valor Contratado"  style="text-align: center;">                           
                                        <p:outputLabel value="#{direc1.valorTecContratada}" >
                                            <f:convertNumber pattern="$ #,###"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column headerText="Sub Entrega" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc1.subEntrega}" />                                          
                                    </p:column>



                                    <p:column headerText="Editar" style="text-align: center;">
                                        <p:rowEditor editTitle="Editar" cancelTitle="Cancelar" saveTitle="Guardar" />                                       
                                    </p:column>
                                    <p:column headerText="Acciones" style="text-align: center;">
                                        <p:commandButton id="botonQuitarProgramacion" immediate="true"
                                                         action="#{mipresBean.quitarProgramacion(direc1)}" icon="ui-icon-trash" title="Quitar"  />                                      

                                        <p:commandButton title="Direccionar" ajax="true"
                                                         style="margin-right: 15px;"  icon="ui-icon-transferthick-e-w" 
                                                         rendered="#{direc1.consecutivoEntrega == mipresBean.consecutivoDireccionado}" 
                                                         actionListener="#{mipresBean.guardarDireccionamientoIndividual(direc1,1)}"/>                                      

                                    </p:column>

                                </p:dataTable>

                                <p:dataTable var="direc" value="#{mipresBean.listadireccionamientos}" rendered="#{mipresBean.mostrarPanelConFecha}"
                                             emptyMessage="No se encontraron registros" id="tablaRegistrosDirec"
                                             widgetVar="tablaWidgetDirec" style="font-size:11px; height: auto;" editable="true"
                                             rowKey="#{direc.id}">
                                    <p:ajax event="rowEdit" listener="#{mipresBean.onRowEdit}" update="tablaRegistrosDirec" rendered="#{mipresBean.validoParaEditar}"/>
                                    <p:ajax event="rowEditCancel" listener="#{mipresBean.onRowCancel}" update="tablaRegistrosDirec" />

                                    <p:column headerText="Prestador" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc.nombreSede}" />                                            
                                    </p:column>

                                    <p:column headerText="Nota De Direccionamiento" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc.justificacionDireccionamiento}" />
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:inputTextarea value="#{direc.justificacionDireccionamiento}" maxlength="400" />                                                
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="Cantidad Max. Entrega" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc.entregaTotal}" />
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:inputText value="#{direc.entregaTotal}">

                                                </p:inputText>
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="Fecha Max. Entrega" style="text-align: center;">
                                        <p:cellEditor>
                                            <f:facet name="output">
                                                <p:outputLabel value="#{direc.fechaMaxEntrega}">
                                                    <f:convertDateTime pattern="yyyy-MM-dd" />
                                                </p:outputLabel>
                                            </f:facet>
                                            <f:facet name="input">
                                                <p:calendar value="#{direc.fechaMaxEntrega}" pattern="yyyy-MM-dd"  mindate="#{mipresBean.asignarMinDate()}" maxdate="#{mipresBean.asignarMaxDate()}"/>
                                            </f:facet>
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column headerText="No Entrega" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc.entregaCantidad}" />                                           
                                    </p:column>


                                    <p:column headerText="Valor Contratado"  style="text-align: center;">                           
                                        <p:outputLabel value="#{direc.valorTecContratada}" >
                                            <f:convertNumber pattern="$ #,###"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column headerText="Sub Entrega" style="text-align: center;">                                       
                                        <p:outputLabel value="#{direc.subEntrega}" />                                          
                                    </p:column>

                                    <p:column headerText="Editar" style="text-align: center;">
                                        <p:rowEditor editTitle="Editar" cancelTitle="Cancelar" saveTitle="Guardar" />                                       
                                    </p:column>
                                    <p:column headerText="Acciones" style="text-align: center;">
                                        <p:commandButton id="botonQuitarProgramacion" immediate="true"
                                                         action="#{mipresBean.quitarProgramacion(direc)}" icon="ui-icon-trash" title="Quitar"  />
                                    </p:column>

                                </p:dataTable>

                                <p:panelGrid id="panelCrearParcial" rendered="#{mipresBean.mostrarPanelParcial}" columns="2"
                                             columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="border:0px none; background-color:transparent;"> 

                                    <p:outputLabel value="Causas Entrega Parcial" for="parcial"  style="font-weight:bold"/>                                        
                                    <p:selectOneMenu id="parcial" value="#{mipresBean.direccionamiento.codigoEntregaParcial}"
                                                     filter="true" filterMatchMode="contains"  style="width: 300px;" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{mipresBean.causasNoDireccionamientoParcial}" /> 
                                    </p:selectOneMenu>                                                                   
                                </p:panelGrid>

                                <p:panelGrid id="panelCrearDiferida"  rendered="#{mipresBean.mostrarPanelDiferido}" columns="2"
                                             columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="border:0px none; background-color:transparent;"> 

                                    <p:outputLabel value="Causas Entrega Diferida" for="difer"  style="font-weight:bold"/>                                       
                                    <p:selectOneMenu id="difer" value="#{mipresBean.direccionamiento.codigoEntregaDiferida}"
                                                     filter="true" filterMatchMode="contains"  style="width: 300px;" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{mipresBean.causasNoDireccionamientoDiferido}" /> 
                                        <p:ajax event="change" listener="#{mipresBean.buscarAsociada(mipresBean.numeroPrescripcionStr)}" />
                                    </p:selectOneMenu>

                                </p:panelGrid>

                                <p:panelGrid id="panelasociadapres" rendered="#{mipresBean.mostrarPrescripcionAsociada}" columns="2"
                                             columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                             layout="grid"
                                             styleClass="ui-panelgrid-blank ui-fluid"
                                             style="border:0px none; background-color:transparent;"> 

                                    <p:outputLabel value="Número Prescripción Asociada"   style="font-weight:bold"/>                                       
                                    <p:selectOneMenu id="presAsociada" label="presAsociada" value="#{mipresBean.direccionamiento.numeroPrescripcionAso}">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{mipresBean.listaPrescripcionesAsociadas}" />
                                        <p:ajax event="change" listener="#{mipresBean.validarPrescripcionAso}" />
                                    </p:selectOneMenu>  
                                </p:panelGrid>
                                <p:panelGrid id="panelasociadapres2" rendered="#{mipresBean.mostrarTablaItems}" columns="1" styleClass="estado-tabla">
                                    <p:dataTable var="dtoo" value="#{mipresBean.listaPrescripcionDtoRespaldo}" emptyMessage="No se encontraron registros" id="tablaDTO"
                                                 widgetVar="tablaDTOR" styleClass="myDataTableStyle" rowKey="#{dtoo.id}" class="estado-tabla" reflow="false" selectionMode="single">

                                        <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectTecnologiaDirec}" />


                                        <p:column headerText="Acciones" style="text-align: center; border: 1px solid #ddd;">
                                            <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver Item" actionListener="#{mipresBean.verItemOrigenGestion(dtoo.id,dtoo.tipoTecnologiaId,2)}" icon="ui-icon-search"/> 
                                        </p:column>
                                        <p:column headerText="Consecutivo" style="text-align: center; border: 1px solid #ddd;">
                                            <p:outputLabel value="#{dtoo.consecutivo}"/>
                                        </p:column>
                                        <p:column headerText="Tipo Tecnologí­a" style="text-align: center; border: 1px solid #ddd;">
                                            <p:outputLabel value="#{dtoo.tipoTecnologia}"/>
                                        </p:column>                               
                                        <p:column headerText="Tipo Prestación" style="text-align: center; border: 1px solid #ddd;">
                                            <p:outputLabel value="#{dtoo.tipoPrestacion}"/>
                                        </p:column>                               
                                        <p:column headerText="Nombre" style="text-align: center; border: 1px solid #ddd;">
                                            <p:outputLabel value="#{dtoo.nombreTecnologiaPrescripta}"/>
                                        </p:column>
                                        <p:column headerText="Duración Tratamiento Ordenado" style="text-align: center; border: 1px solid #ddd;">
                                            <p:outputLabel value="#{dtoo.duracionTratamientoOrdenado}"/>
                                        </p:column>
                                        <p:column headerText="Cantidad Total Prescrita" style="text-align: center; border: 1px solid #ddd;">                                    
                                            <p:outputLabel  value="#{mipresBean.calcularDecimales(dtoo.cantidadTotalPrescrita)}" />                                  
                                        </p:column>
                                        <p:column headerText="Código Tecnologí­a" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                            <p:outputLabel value="#{dtoo.codigoTecnologia}"/>
                                        </p:column>
                                        <p:column headerText="Nombre Tecnologí­a" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                            <p:outputLabel value="#{dtoo.nombreTecnologia}"/>
                                        </p:column>
                                        <p:column headerText="Código Tecnologí­a Avalada EPS" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                            <p:outputLabel value="#{dtoo.codigoTecnologiaAvalEps}"/>
                                        </p:column>
                                        <p:column headerText="Nombre Tecnologí­a Avalada EPS" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                            <p:outputLabel value="#{dtoo.nombreTecnologiaAvalEps}"/>
                                        </p:column>                                
                                    </p:dataTable>                                   
                                </p:panelGrid>
                                <p:panel id="envioAuto" header="Envio Automatico" rendered="#{mipresBean.mostrarPanelDiferido}" widgetVar="dialogoEnvio" style="width:auto;height:auto;"  >

                                    <p:panelGrid id="panelCrearEnvioAuto" columns="4"
                                                 columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                                 layout="grid"
                                                 styleClass="ui-panelgrid-blank ui-fluid"
                                                 style="border:0px none; background-color:transparent;"> 

                                        <p:outputLabel value="Envio Automatico" for="env" />

                                        <p:selectBooleanCheckbox id="env" value="#{mipresBean.direccionamiento.envioCorreoAuto}">
                                        </p:selectBooleanCheckbox>    

                                        <p:outputLabel value="Fecha Envio Automatico" />
                                        <p:calendar value="#{mipresBean.direccionamiento.fechaEnvioAuto}" pattern="yyyy-MM-dd"  mindate="#{mipresBean.asignarMinDate()}" maxdate="#{mipresBean.asignarMaxDate()}"/>


                                    </p:panelGrid>
                                </p:panel>
                                <p:panel id="pJuzgadoCrear" header="UBICACION" widgetVar="dialogojuz" style="width:auto;height:auto;"  >

                                    <p:panelGrid id="panelCrearJuzgado" columns="2"
                                                 columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                                 layout="grid"
                                                 styleClass="ui-panelgrid-blank ui-fluid"
                                                 style="border:0px none; background-color:transparent;"> 

                                        <p:outputLabel value="Ubicaciones" for="ubicacionProces" />

                                        <p:selectOneMenu id="ubicacionProces" value="#{mipresBean.direccionamiento.ubicacionSedeId}"
                                                         filter="true" filterMatchMode="contains"  style="width: 300px;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                            <f:selectItems value="#{mipresBean.ubicaciones}" var="ubi" itemValue="#{ubi.id}" itemLabel="#{ubi.nombre}" itemDescription="#{ubi.descripcion}" />                                           
                                            <p:ajax event="change" listener="#{mipresBean.asignarUbicacion(mipresBean.direccionamiento.ubicacionSedeId)}" />
                                        </p:selectOneMenu>                     
                                    </p:panelGrid>
                                </p:panel>
                                <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                                    <f:facet name="footer">
                                        <p:row>
                                            <p:column colspan="6" style="text-align: center">
                                                <p:commandButton 
                                                    value="Enviar todo" 
                                                    type="button" 
                                                    onclick="validarListaRemote()" 
                                                    style="margin-right: 15px;" 
                                                    disabled="#{mipresBean.listadireccionamientos.size() == 0}" 
                                                    />                                             
                                                <p:remoteCommand name="validarListaRemote" action="#{mipresBean.validarLista}" process="@this" />
                                                <p:remoteCommand name="guardarRemote" action ="#{mipresBean.guardar}" />

                                                <p:commandButton 
                                                    value="Cerrar" 
                                                    type="button"  
                                                    action="#{mipresBean.cerrarModalGestionar()}" 
                                                    onclick="PF('dlgDireccionamiento').hide()" 
                                                    immediate="true" 
                                                    style="margin-left: 15px;"
                                                    />                                               

                                            </p:column>
                                        </p:row>
                                    </f:facet>
                                </p:panelGrid>



                            </p:scrollPanel>
                        </p:panel>


                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Atencion -->
            <p:dialog header="Atención" widgetVar="dialogValidacion" closable="false" appendTo="@(body)" modal="true">
                <h:form id="frmConfirma">
                    <p:panelGrid id="panelConfirma" columns="1" layout="grid" styleClass="showcase-text-align-center">
                        <h:outputText value="Al parecer, hay registros sin descripción de direccionamiento. ¿Desea continuar?" />
                    </p:panelGrid>
                    <p:panelGrid style="width: 100%;">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton 
                                        value="Sí" 
                                        action="#{mipresBean.guardar}"                                          
                                        oncomplete="PF('dialogValidacion').hide()" 
                                        style="margin-right: 10px;"
                                        />
                                    <p:commandButton 
                                        value="No" 
                                        onclick="PF('dialogValidacion').hide()" 
                                        type="button" 
                                        />
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>

            <!--Lista prestador-->
            <p:dialog header="CONSULTAR PRESTADOR" widgetVar="dialogoPrestadorLista" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmPrestadorLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarPrestador()}" oncomplete="PF('tablaWidgetPrestador').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelAfiliadoLista" columns="1"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;"> 

                            <p:dataTable id="tablaRegistrosPrestador" widgetVar="tablaWidgetPrestador" var="pres" value="#{mipresBean.lazyPrestador}" rowKey="#{pres.id}"
                                         rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectPrestador}" />
                                <p:column headerText="Número Documento" filterBy="#{pres.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroSede" label="Número Documento" maxlength="32" style="width: 95%;" onchange="PF('tablaWidgetPrestador').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{pres.numeroDocumento}"/>
                                </p:column>  
                                <p:column headerText="Razón Social" filterBy="#{pres.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroSede" label="Razón Social" maxlength="256" style="width: 95%;" onchange="PF('tablaWidgetPrestador').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{pres.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Cod Min Salud" filterBy="#{pres.codigoMinSalud}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroSede" label="Cod Min Salud" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetPrestador').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{pres.codigoMinSalud}"/>
                                </p:column>                                  
                            </p:dataTable>

                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista prestador sede-->
            <p:dialog header="CONSULTAR PRESTADOR" widgetVar="dialogoPrestadorSedeLista" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmPrestadorSedeLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarPrestadorSede()}" oncomplete="PF('tablaWidgetSede').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelPrestadorSedeLista" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaRegistrosSede" widgetVar="tablaWidgetSede" var="objSede" value="#{mipresBean.lazyPrestadorSede}" rowKey="#{objSede.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectSede}" />

                                    <p:column headerText="Código Habilitación"  filterBy="#{objSede.codigoHabilitacionSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="CodigoHabilitación" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetSede').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objSede.codigoHabilitacionSede}"/>
                                    </p:column>

                                    <p:column headerText="Código Prestador" filterBy="#{objSede.codigoPrestador}">                                        
                                        <h:outputText value="#{objSede.codigoPrestador}"/>
                                    </p:column>                           

                                    <p:column headerText="Razón Social"  filterBy="#{objSede.nombreSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="RazonScial" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetSede').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objSede.nombreSede}"/>
                                    </p:column>

                                    <p:column headerText="Direccion" filterBy="#{objSede.direccion}">
                                        <f:facet name="filter">
                                            <p:inputText class="filtroSede" label="Direccion" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetSede').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objSede.direccion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista prestador sede anulado-->
            <p:dialog header="CONSULTAR PRESTADOR" widgetVar="dialogoPrestadorSedeListaAnulado" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmPrestadorSedeListaAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarContratoDetalleAnulado()}" oncomplete="PF('tablaWidgetSedeAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelPrestadorSedeListaAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaRegistrosSedeAnulado" widgetVar="tablaWidgetSedeAnulado" var="objSede" value="#{mipresBean.lazyPrestadorSede}" rowKey="#{objSede.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectSedeAnulado}" />

                                    <p:column headerText="Código Habilitación"  filterBy="#{objSede.codigoHabilitacionSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="CodigoHabilitación" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetSede').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objSede.codigoHabilitacionSede}"/>
                                    </p:column>

                                    <p:column headerText="Código Prestador" filterBy="#{objSede.codigoPrestador}">                                        
                                        <h:outputText value="#{objSede.codigoPrestador}"/>
                                    </p:column>                           

                                    <p:column headerText="Razón Social"  filterBy="#{objSede.nombreSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="RazonScial" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetSede').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objSede.nombreSede}"/>
                                    </p:column>

                                    <p:column headerText="Direccion" filterBy="#{objSede.direccion}">
                                        <f:facet name="filter">
                                            <p:inputText class="filtroSede" label="Direccion" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetSede').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objSede.direccion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista contrato detalle-->
            <p:dialog header="CONSULTAR PRESTADOR CON CONTRATOS" widgetVar="dialogoPrestadorSedeListaContratos" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmPrestadorContrato">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarContratoDetalle()}" oncomplete="PF('tablaWidgetContrato').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelPrestadorContrato" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaRegistrosContrato" widgetVar="tablaWidgetContrato" var="objContratoD" value="#{mipresBean.lazyContratoDetalle}" rowKey="#{objContratoD.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectSedeContrato}" />

                                    <p:column headerText="Nombre"  filterBy="#{objContratoD.cntContratoSede.cntPrestadorSede.nombreSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Nombre" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetContrato').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objContratoD.cntContratoSede.cntPrestadorSede.nombreSede} - #{objContratoD.cntContrato.cntPrestador.razonSocial}" />

                                    </p:column>

                                    <p:column headerText="Código Habilitación"  filterBy="#{objContratoD.cntContratoSede.cntPrestadorSede.codigoHabilitacionSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="CodigoHabilitación" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetContrato').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objContratoD.cntContratoSede.cntPrestadorSede.codigoHabilitacionSede}"/>
                                    </p:column>

                                    <p:column headerText="Código Prestador" >                                        
                                        <h:outputText value="#{objContratoD.cntContratoSede.cntPrestadorSede.codigoPrestador}"/>
                                    </p:column>   

                                    <p:column headerText="Valor Contratado" style="text-align: center; width: auto;">                                     
                                        <h:outputText value="#{objContratoD.valorContratado}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Direccion">                                       
                                        <h:outputText value="#{objContratoD.cntContratoSede.cntPrestadorSede.direccion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista contrato detalle Anulado-->
            <p:dialog header="CONSULTAR PRESTADOR CON CONTRATOS" widgetVar="dialogoPrestadorSedeListaContratosAnulado" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmPrestadorContratoAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarContratoDetalleAnulado()}" oncomplete="PF('tablaWidgetContratoAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelPrestadorContratoAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaRegistrosContrato" widgetVar="tablaWidgetContratoAnulado" var="objContratoAnulado" value="#{mipresBean.lazyContratoDetalle}" rowKey="#{objContratoAnulado.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectSedeContratoAnulado}" />

                                    <p:column headerText="Nombre"  filterBy="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.nombreSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Nombre" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetContratoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.nombreSede}  - #{objContratoAnulado.cntContrato.cntPrestador.razonSocial}" />
                                    </p:column>

                                    <p:column headerText="Código Habilitación"  filterBy="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.codigoHabilitacionSede}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="CodigoHabilitación" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetContratoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.codigoHabilitacionSede}"/>
                                    </p:column>

                                    <p:column headerText="Código Prestador" >                                        
                                        <h:outputText value="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.codigoPrestador}"/>
                                    </p:column>   

                                    <p:column headerText="Valor Contratado" style="text-align: center; width: auto;">                                     
                                        <h:outputText value="#{objContratoAnulado.valorContratado}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Direccion">                                       
                                        <h:outputText value="#{objContratoAnulado.cntContratoSede.cntPrestadorSede.direccion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Gestionar-->
            <p:dialog header="GESTIONAR" widgetVar="dlgGestion" position="center" appendTo="@(body)" class="modal-no-scroll"  modal="true"  
                      width="80%" height="30%" dynamic="true" onHide="cerrarModalGestionar()" >
                <h:form id="frmgestionopciones">
                    <p:panelGrid id="panelgestionopciones" style="border:0px none; background-color:transparent;height: auto; width: auto; text-align: center" columns="3" layout="grid"
                                 styleClass="ui-panelgrid-blank ui-fluid"
                                 >  
                        <p:panel header="Auditar" style="margin-bottom: 20px; height: 200px; width: 100%; text-align: center">
                            <h:outputText value="" style="text-align: center; font-size: 24px; font-weight: bold;" />
                            <br />
                            <h:outputText value="Esta opción permite registrar la " style="text-align: center; font-size: 16px;" />
                            <br />
                            <h:outputText value="auditoria de la tecnlogia" style="text-align: center; font-size: 16px;" />
                            <br />
                            <p:commandButton value="Auditar" rendered="#{mipresBean.accionAdicional2 and mipresBean.mostrarBotonAuditar}" action="#{mipresBean.auditar(mipresBean.objeto)}" 
                                             onclick="PF('dlgGestion').hide()" style="text-align: center; width: 50%;margin-top: 30px"/>
                        </p:panel>

                        <p:panel header="Direccionamiento" style="margin-bottom: 20px; height: 200px; width: 100%; text-align: center">
                            <h:outputText value="" style="text-align: center; font-size: 24px; font-weight: bold;" />
                            <br />
                            <h:outputText value="Esta opción permite realizar" style="text-align: center; font-size: 16px;" />
                            <br />
                            <h:outputText value="direccionamiento a minSalud" style="text-align: center; font-size: 16px;" />
                            <br />
                            <p:column colspan="6" style="text-align: center">                                   
                                <p:commandButton value="Direccionar" rendered="#{mipresBean.mostrarBotonDireccionamiento and mipresBean.accionAdicional3}" action="#{mipresBean.direcciona(mipresBean.objeto)}" 
                                                 onclick="PF('dlgGestion').hide()" style="text-align: center; width: 50%;margin-top: 30px" />
                            </p:column>
                        </p:panel>

                        <p:panel header="No Direccionar" style="margin-bottom: 20px; height: 200px; width: 100%; text-align: center">
                            <h:outputText value="" style="text-align: center; font-size: 24px; font-weight: bold;" />
                            <br />
                            <h:outputText value="Esta opción registra" style="text-align: center; font-size: 16px;" />
                            <br />
                            <h:outputText value="el no  direccionamiento a minSalud" style="text-align: center; font-size: 16px;" />
                            <br />
                            <p:commandButton value="No Direccionar" rendered="#{mipresBean.mostrarBotonNoDireccionamiento and mipresBean.accionAdicional4}" action="#{mipresBean.noDireccionar(mipresBean.objeto)}"
                                             onclick="PF('dlgGestion').hide()" style="text-align: center; width: 50%;margin-top: 30px" />
                            <p:commandButton value="Anular" rendered="#{mipresBean.objeto.estadoItem eq 2 and mipresBean.accionAdicional4}" action="#{mipresBean.anularNoDireccionado()}"
                                             onclick="PF('dlgGestion').hide()" style="text-align: center; width: 50%;margin-top: 30px" >
                                <p:confirm header="Confirmación" message="Esta seguro de anular el no direccionamiento?" icon="pi pi-alert"/>
                            </p:commandButton>
                        </p:panel>

                    </p:panelGrid>
                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" style="left:25%"/>
                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-close" style="left:25%"/>                        
                    </p:confirmDialog>
                </h:form>

            </p:dialog>

            <!-- Auditar-->
            <p:dialog header="CREAR AUDITORIA"  widgetVar="dlgAuditar" class="modal-no-scroll" appendTo="@(body)" modal="true" height="80%" width="90%" onHide="cerrarModalGestionar()" >                          

                <p:scrollPanel mode="native" style="height:480px">
                    <h:form id="frmAuditoria">
                        <p:panel style=" height: 30px; width: 100%; " >
                            <p:outputPanel style="display: inline-block; margin-left: 20px;" rendered="#{mipresBean.numeroDeTutelas > 0}">
                                <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                                <p:outputLabel value="Paciente Cuenta Con: #{mipresBean.numeroDeTutelas} Tutela/s" style="margin-left: 20px; margin-right: 200px; margin-top: 50px"/>
                            </p:outputPanel>
                        </p:panel>
                        <p:toolbar>                           
                            <f:facet name="right">                                  
                                <p:commandButton  title="Ver" actionListener="#{mipresBean.Ver(mipresBean.objeto.idPrescripcion)}" icon="ui-icon-search" style="float: right; margin: 5px;"/>                
                            </f:facet>                            
                        </p:toolbar>
                        <p:panelGrid id="panelCrearAuditoria"> 
                            <p:row>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="Número Prescripción" for="numeropresau"  style="font-weight:bold"/>                                 
                                </p:column>
                                <p:column class="ui-g-8">
                                    <p:outputLabel id="numeropresau"  value="#{mipresBean.prescripcionAuditoria.mpPrescripcionId.numeroPrescripcion}"  style="width: 85%" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="Estado" for="estado"  style="font-weight:bold"/>                                 
                                </p:column>
                                <p:column class="ui-g-8">
                                    <p:selectOneMenu id="estado" label="estado" value="#{mipresBean.prescripcionAuditoria.estado}" style="width: 90%">
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItem itemLabel="Auditado - Direccionado" itemValue="1" />
                                        <f:selectItem itemLabel="Auditado - No direccionamiento" itemValue="2" />
                                        <f:selectItem itemLabel="Ampliación justificación no pbs insuficiente o invalida para definir el aval de la tecnologí­a" itemValue="3" />                                       
                                        <f:selectItem itemLabel="Avalado Hos_Urg" itemValue="5" />                                        

                                        <p:ajax listener="#{mipresBean.validarAnular(mipresBean.prescripcionAuditoria.estado)}" />
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="Descripción" for="descripcion" style="font-weight:bold"/>                                
                                </p:column>
                                <p:column class="ui-g-8">
                                    <p:inputTextarea id="descripcion" label="Descripción" value="#{mipresBean.prescripcionAuditoria.notaAuditoria}" cols="20" maxlength="600" style="width: 85%" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="Notificar" for="Notificar"  style="font-weight:bold"/>                                  
                                </p:column>
                                <p:column class="ui-g-8">
                                    <p:selectBooleanButton id="Notificar" value="#{mipresBean.renderizarPanelNotificar}" disabled="true" onLabel="Si" offLabel="No" style="width:6rem">
                                    </p:selectBooleanButton>
                                </p:column>
                            </p:row>
                        </p:panelGrid>  


                        <p:spacer/>
                        <p:spacer/>
                        <p:panelGrid id="panelCrearNotificacion"   rendered="#{mipresBean.renderizarPanelNotificar}" >                          
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:selectBooleanButton value="#{mipresBean.notificarPrestador}" onLabel="Prestador" offLabel="Prestador" style="width:6rem" >
                                        <p:ajax listener="#{mipresBean.notificarBtnP()}" />
                                    </p:selectBooleanButton>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:selectBooleanButton id="botonNotificarPrestadorCorreo" value="#{mipresBean.notificarCorreoPrestador}" disabled="#{!mipresBean.notificarPrestador}" onLabel="E-mail" offLabel="E-mail" style="width:6rem">
                                        <p:ajax listener="#{mipresBean.notificarPorCorreoPresta()}" />
                                    </p:selectBooleanButton>
                                </p:column>
                                <p:column class="ui-g-3">
                                    <p:inputText id="txtPrestadorCorreo" value="#{mipresBean.correoPrestador}" disabled="#{!mipresBean.notificarCorreoPrestador}" />
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:selectBooleanButton id="botonNotificarPrestadorSmss" value="#{mipresBean.notificarSmsPrestador}" disabled="#{!mipresBean.notificarPrestador}" onLabel="SMS" offLabel="SMS" style="width:6rem">
                                        <p:ajax  listener="#{mipresBean.notificarPorSmsPresta()}" />
                                    </p:selectBooleanButton>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:inputText id="txtPrestadorSms" value="#{mipresBean.telefonoPrestador}" disabled="#{!mipresBean.notificarSmsPrestador}" />   
                                </p:column>
                                <p:column class="ui-g-1">
                                    <p:outputLabel  value="" />
                                </p:column>
                            </p:row>                           

                        </p:panelGrid> 
                        <p:spacer/>
                        <p:spacer/>
                        <p:panelGrid id="panelAud222" columns="1" rendered="#{mipresBean.renderizarPanelNotificar}" >
                            <p:outputLabel value="Mensaje" style="font-weight: bold; width: 20%" rendered="#{mipresBean.renderizarPanelNotificar}"/>
                        </p:panelGrid>                
                        <p:panelGrid id="panelAud22" columns="1" rendered="#{mipresBean.renderizarPanelNotificar}" >
                            <p:inputTextarea id="txtMenCorreo" value="#{mipresBean.notificacionHistorico.mensaje}" cols="70" maxlength="2048" style="width: 95%;" />
                        </p:panelGrid>

                        <p:panelGrid style="width:100%; margin:10px 0px;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center;">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;"> 
                                            <p:commandButton value="Enviar" type="button" onclick="guardarRemoteAu()" validateClient="true"/>
                                            <p:remoteCommand name="guardarRemoteAu" action="#{mipresBean.guardarAuditoria()}" />
                                            <p:commandButton value="Cerrar" type="button" action="#{mipresBean.cerrarModalGestionar()}" onclick="PF('dlgAuditar').hide()" immediate="true" style="margin-left: 5px;"/>                                           
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel> 
            </p:dialog>

            <!--Lista No Direccionar-->
            <p:dialog header="GENERAR NO DIRECCIONAMIENTO"  
                      widgetVar="dlgNoDireccionar" 

                      appendTo="@(body)" 
                      modal="true"  
                      width="90%"  
                      height="auto"
                      dynamic="true" 
                      resizable="false"
                      onHide="cerrarModalGestionar()"><p:scrollPanel mode="native" style="height:300px">                    
                    <h:form id="frmNoDireccionar">
                        <p:panel style=" height: 30px; width: 100%; " >
                            <p:outputPanel style="display: inline-block; margin-left: 20px;" rendered="#{mipresBean.numeroDeTutelas > 0}">
                                <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                                <p:outputLabel value="Paciente Cuenta Con: #{mipresBean.numeroDeTutelas} Tutela/s" style="margin-left: 20px; margin-right: 200px; margin-top: 50px"/>
                            </p:outputPanel>
                        </p:panel>
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton  title="Ver" actionListener="#{mipresBean.Ver(mipresBean.objeto.idPrescripcion)}" icon="ui-icon-search" style="float: right; margin: 5px;"/>                
                            </f:facet>
                        </p:toolbar>
                        <p:panelGrid id="panelNoDireccionar" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;"> 


                            <p:outputLabel value="Número Prescripción" for="numeropresau" style="font-weight:bold"/> 
                            <p:outputLabel id="numeropresau"  value="#{mipresBean.objeto.numeroPrescripcion}"/>

                            <p:outputLabel value="Tipo Tecnologí­a" for="tecnologiass" style="font-weight:bold"/> 
                            <p:outputLabel id="tecnologiass"  value="#{mipresBean.obtenerTipoTecnologia(mipresBean.objeto.tipoTecnologiaItem)}" />                               

                            <p:outputLabel value="Consecutivo" style="font-weight:bold"/>  
                            <p:outputLabel  value="#{mipresBean.objeto.consecutivoItem}" />

                            <p:outputLabel value="Causas No Direccionamiento" for="estado"  style="font-weight:bold"/>  
                            <p:selectOneMenu id="estado" label="estado" value="#{mipresBean.noDireccionado.codigoNoDireccionamiento}">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{mipresBean.causasNoDireccionamiento}" />
                                <p:ajax event="change" listener="#{mipresBean.validarAsociada(mipresBean.numeroPrescripcionStr)}" />
                            </p:selectOneMenu>                                

                        </p:panelGrid> 

                        <p:panelGrid id="panelNoDireccionarAsociada" rendered="#{mipresBean.mostrarPrescripcionAsociada}" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;"> 

                            <p:outputLabel value="Número Prescripción Asociada"  style="font-weight:bold"/>
                            <p:selectOneMenu id="presAsociada" label="presAsociada" value="#{mipresBean.noDireccionado.numeroPrescripcionAsociada}">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{mipresBean.listaPrescripcionesAsociadas}" />
                                <p:ajax event="change" listener="#{mipresBean.validarPrescripcionAsociada}" />
                            </p:selectOneMenu>  

                        </p:panelGrid>
                        <p:panelGrid id="panelasociadapres2" rendered="#{mipresBean.mostrarTablaItems}" columns="1" >
                            <p:dataTable var="dtoR" value="#{mipresBean.listaPrescripcionDtoRespaldo}" emptyMessage="No se encontraron registros" id="tablaDTO"
                                         widgetVar="tablaDTOR" styleClass="myDataTableStyle" rowKey="#{dtoR.id}" reflow="false" style="width: auto;height: auto" selectionMode="single">                                    

                                <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectTecnologia}" />

                                <p:column headerText="Acciones" style="text-align: center; border: 1px solid #ddd;">
                                    <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver Item"
                                                     actionListener="#{mipresBean.verItemOrigenGestion(dtoR.id,dtoR.tipoTecnologiaId,2)}"
                                                     icon="ui-icon-search"/>
                                </p:column>

                                <p:column headerText="Consecutivo" style="text-align: center; border: 1px solid #ddd;">
                                    <p:outputLabel value="#{dtoR.consecutivo}"/>
                                </p:column>

                                <p:column headerText="Tipo Tecnologí­a" style="text-align: center; border: 1px solid #ddd;">
                                    <p:outputLabel value="#{dtoR.tipoTecnologia}"/>
                                </p:column>                               

                                <p:column headerText="Tipo Prestación" style="text-align: center; border: 1px solid #ddd;">
                                    <p:outputLabel value="#{dtoR.tipoPrestacion}"/>
                                </p:column>                               

                                <p:column headerText="Nombre" style="text-align: center; border: 1px solid #ddd;">
                                    <p:outputLabel value="#{dtoR.nombreTecnologiaPrescripta}"/>
                                </p:column>

                                <p:column headerText="Duración Tratamiento Ordenado" style="text-align: center; border: 1px solid #ddd;">
                                    <p:outputLabel value="#{dtoR.duracionTratamientoOrdenado}"/>
                                </p:column>

                                <p:column headerText="Cantidad Total Prescrita" style="text-align: center; border: 1px solid #ddd;">                                    
                                    <p:outputLabel  value="#{mipresBean.calcularDecimales(dtoR.cantidadTotalPrescrita)}"/>
                                </p:column>

                                <p:column headerText="Código Tecnologí­a" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                    <p:outputLabel value="#{dtoR.codigoTecnologia}"/>
                                </p:column>

                                <p:column headerText="Nombre Tecnologí­a" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                    <p:outputLabel value="#{dtoR.nombreTecnologia}"/>
                                </p:column>

                                <p:column headerText="Código Tecnologí­a Avalada EPS" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                    <p:outputLabel value="#{dtoR.codigoTecnologiaAvalEps}"/>
                                </p:column>

                                <p:column headerText="Nombre Tecnologí­a Avalada EPS" style="text-align: center; border: 1px solid #ddd;" visible="false">
                                    <p:outputLabel value="#{dtoR.nombreTecnologiaAvalEps}"/>
                                </p:column>                                
                            </p:dataTable>
                        </p:panelGrid>

                        <p:panelGrid id="panelNoDirec22"  columns="1"                                     
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;"> 

                            <p:outputLabel value="Justificación No Direccionamiento" for="justificacion"  style="font-weight:bold;width: 20%"/>                              
                            <p:inputTextarea id="justificacion" label="justificacion" value="#{mipresBean.noDireccionado.justificacionNoDireccionamiento}" cols="20" maxlength="500" style="width:95%" />

                        </p:panelGrid>
                        <p:panelGrid style="width:100%; margin:10px 0px;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center;">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;"> 
                                            <p:commandButton value="Enviar" type="button" onclick="guardarRemoteAuNo()" validateClient="true"/>
                                            <p:remoteCommand name="guardarRemoteAuNo" action="#{mipresBean.guardarNoDireccionar()}" />
                                            <p:commandButton value="Cerrar" type="button" action="#{mipresBean.cerrarModalGestionar()}" onclick="PF('dlgNoDireccionar').hide()" immediate="true" style="margin-left: 5px;"/>                                           
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel> 
            </p:dialog>

            <!--Lista Ma medicamento-->
            <p:dialog header="CONSULTAR MEDICAMENTO" widgetVar="dialogoMaMedicamento" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaMedicamento">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaMedicamento()}" oncomplete="PF('tablaWidgetMaMedicamento').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaMedicamento" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaMaMedicamento" widgetVar="tablaWidgetMaMedicamento" var="objMaMed" value="#{mipresBean.lazyMaMedicamento}" rowKey="#{objMaMed.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaMedicamento}" />

                                    <p:column headerText="Cum"  filterBy="#{objMaMed.cum}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="cum" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamento').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.cum}"/>
                                    </p:column>


                                    <p:column headerText="Descripción Invima"  filterBy="#{objMaMed.descripcionInvima}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="descripcionInvima" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamento').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.descripcionInvima}"/>
                                    </p:column>                                                           

                                    <p:column headerText="Descripción Estandarizada"  filterBy="#{objMaMed.descripcionEstandarizada}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="descripcionEstandarizada" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamento').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.descripcionEstandarizada}"/>
                                    </p:column>

                                    <p:column headerText="Valor Concentración"  filterBy="#{objMaMed.maeConcentracionValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeConcentracionValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamento').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.maeConcentracionValor}"/>
                                    </p:column>                                    

                                    <p:column headerText="Forma Farmaceutica"  filterBy="#{objMaMed.maeFormaFarmaceuticaValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeFormaFarmaceuticaValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamento').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.maeFormaFarmaceuticaValor}"/>
                                    </p:column>

                                    <p:column headerText="Cobertura">                                                                              
                                        <h:outputText value="#{objMaMed.maeCoberturaValor}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma tecnologia-->
            <p:dialog header="CONSULTAR TECNOLOGÍA" widgetVar="dialogoMaTecnologia" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaTecnologia">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaTecnologia()}" oncomplete="PF('tablaWidgetMaTecnologia').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaTecnologia" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaTecnologia" widgetVar="tablaWidgetMaTecnologia" var="objMatec" value="#{mipresBean.lazyMaTecnologia}" rowKey="#{objMatec.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaTecnologia}" />

                                    <p:column headerText="Cups" filterBy="#{objMatec.cups}">
                                        <f:facet name="filter">
                                            <p:inputText class="cups" label="cups" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetMaTecnologia').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objMatec.cups}"/>
                                    </p:column> 

                                    <p:column headerText="Descripción" filterBy="#{objMatec.cupsDescipcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText class="cupsDescipcion" label="cupsDescipcion" maxlength="256" style="width: 95%;" onchange="PF('tablaWidgetMaTecnologia').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMatec.cupsDescipcion}"/>
                                    </p:column>                                                  

                                    <p:column headerText="Cobertura">                                        
                                        <h:outputText value="#{objMatec.maeCoberturaValor}"/>
                                    </p:column>                                
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma insumo-->
            <p:dialog header="CONSULTAR INSUMO" widgetVar="dialogoMaInsumo" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaInsumo">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaInsumo()}" oncomplete="PF('tablaWidgetMaInsumo').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaInsumo" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaInsumo" widgetVar="tablaWidgetMaInsumo" var="objMains" value="#{mipresBean.lazyMaInsumo}" rowKey="#{objMains.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaInsumo}" />

                                    <p:column headerText="Código"  filterBy="#{objMains.codigo}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumo').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMains.codigo}"/>
                                    </p:column>

                                    <p:column headerText="Descripción" filterBy="#{objMains.descripcion}">                                        
                                        <h:outputText value="#{objMains.descripcion}"/>
                                    </p:column>                           

                                    <p:column headerText="Tipo"  filterBy="#{objMains.maeTipoValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumo').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMains.maeTipoValor}"/>
                                    </p:column>

                                    <p:column headerText="Cobertura" >                                       
                                        <h:outputText value="#{mipresBean.obtenerCobertura(objMains.cobertura)}"/>
                                    </p:column>                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma insumoMipres-->
            <p:dialog header="CONSULTAR INSUMO" widgetVar="dialogoMaInsumoMipres" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaInsumoMipres">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaInsumoMipres()}" oncomplete="PF('tablaWidgetMaInsumoMipres').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaInsumoMipres" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaInsumoMipres" widgetVar="tablaWidgetMaInsumoMipres" var="objMainsumo" value="#{mipresBean.lazyMaInsumoMipres}" rowKey="#{objMainsumo.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaInsumoMipres}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{objMainsumo.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción Mipres" filterBy="#{objMainsumo.descripcionMipres}">                                        
                                        <h:outputText value="#{objMainsumo.descripcionMipres}"/>
                                    </p:column>                           

                                    <p:column headerText="Descripcion Completa"  filterBy="#{objMainsumo.maInsumo.descripcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValordescri" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.maInsumo.descripcion}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma Paquetes Mipres-->
            <p:dialog header="CONSULTAR PAQUETE" widgetVar="dialogoMaPaqueteMipres" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaPaqueteMipres">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaPaqueteMipres()}" oncomplete="PF('tablaWidgetMaPaqueteMipres').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaPaqueteMipres" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaPaqueteMipres" widgetVar="tablaWidgetMaPaqueteMipres" var="objMaPaquete" value="#{mipresBean.lazyMaPaqueteMipres}" rowKey="#{objMaPaquete.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaPaqueteMipres}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{objMaPaquete.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaPaqueteMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaPaquete.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción Mipres" filterBy="#{objMaPaquete.descripcionMipres}">                                        
                                        <h:outputText value="#{objMaPaquete.descripcionMipres}"/>
                                    </p:column>                           

                                    <p:column headerText="Nombre Paquete"  filterBy="#{objMaPaquete.maPaquete.nombre}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValordescri" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaPaqueteMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaPaquete.maPaquete.nombre}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma tecnologias mipres-->
            <p:dialog header="CONSULTAR HOMOLOGACIONES" widgetVar="dialogoMaMipresTecnologia" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMamPMipres">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaTecnologiaMipres()}" oncomplete="PF('tablaWidgetMaMpMipres').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaMpMipres" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaMpMipres" widgetVar="tablaWidgetMaMpMipres" var="obj" value="#{mipresBean.lazyMaTecnologiaMipres}" rowKey="#{obj.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaMpMipres}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{obj.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMpMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{obj.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción Homologa" filterBy="#{objMainsumo.descripcion}">                                        
                                        <h:outputText value="#{obj.descripcion}"/>
                                    </p:column>                           

                                    <p:column headerText="Cups Descripcion"  filterBy="#{obj.maTecnologia.propioDescripcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="descripcion" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMpMipres').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{obj.maTecnologia.propioDescripcion}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma Paquetes Mipres Anulado-->
            <p:dialog header="CONSULTAR PAQUETE" widgetVar="dialogoMaPaqueteMipresAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaPaqueteMipresAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaPaqueteMipres()}" oncomplete="PF('tablaWidgetMaPaqueteMipres').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaPaqueteMipresAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="dialogoMaPaqueteMipresAnuladoa" widgetVar="dialogoMaPaqueteMipresAnuladoo" var="objMaPaquete" value="#{mipresBean.lazyMaPaqueteMipres}" rowKey="#{objMaPaquete.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaPaqueteMipresAnulado}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{objMaPaquete.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('dialogoMaPaqueteMipresAnuladoo').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaPaquete.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción Mipres" filterBy="#{objMaPaquete.descripcionMipres}">                                        
                                        <h:outputText value="#{objMaPaquete.descripcionMipres}"/>
                                    </p:column>                           

                                    <p:column headerText="Nombre Paquete"  filterBy="#{objMaPaquete.maPaquete.nombre}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValordescri" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('dialogoMaPaqueteMipresAnuladoo').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaPaquete.maPaquete.nombre}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma insumoMipres Anulado-->
            <p:dialog header="CONSULTAR INSUMO" widgetVar="dialogoMaInsumoMipresAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaInsumoMipresAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaInsumoMipres()}" oncomplete="PF('tablaWidgetMaInsumoMipresAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaInsumoMipresAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaMaInsumoMipres" widgetVar="tablaWidgetMaInsumoMipresAnulado" var="objMainsumo" value="#{mipresBean.lazyMaInsumoMipres}" rowKey="#{objMainsumo.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaInsumoMipresAnulado}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{objMainsumo.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoMipresAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción Mipres" filterBy="#{objMainsumo.descripcionMipres}">                                        
                                        <h:outputText value="#{objMainsumo.descripcionMipres}"/>
                                    </p:column>                           

                                    <p:column headerText="Descripcion Completa"  filterBy="#{objMainsumo.maInsumo.descripcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValordescri" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoMipresAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.maInsumo.descripcion}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma tecnologiaMipres Anulado-->
            <p:dialog header="CONSULTAR HOMOLOGACIÓN" widgetVar="dialogoMaMpMipresAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaMpMipresAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaTecnologiaMipres()}" oncomplete="PF('tablaWidgetMaMpMipresAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaInsumoMipresAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaMpMipresAnulado" widgetVar="tablaWidgetMaMpMipresAnulado" var="objMainsumo" value="#{mipresBean.lazyMaTecnologiaMipres}" rowKey="#{objMainsumo.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaMpAnulado}" />

                                    <p:column headerText="Código Mipres"  filterBy="#{objMainsumo.codigoMipres}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMpMipresAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.codigoMipres}"/>
                                    </p:column>

                                    <p:column headerText="Descripción" filterBy="#{objMainsumo.descripcion}">                                        
                                        <h:outputText value="#{objMainsumo.descripcion}"/>
                                    </p:column>                           

                                    <p:column headerText="Cups Descripcion"  filterBy="#{objMainsumo.maTecnologia.propioDescripcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValordescri" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMpMipresAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMainsumo.maTecnologia.propioDescripcion}"/>
                                    </p:column>                                                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog widgetVar="loadingDialog" modal="true" closable="false" draggable="false" resizable="false" showHeader="false">
                <p:panel style="text-align:center">
                    <i class="pi pi-spinner pi-spin" style="font-size:2em;"></i>

                </p:panel>
            </p:dialog>

            <p:dialog id="infoDialog" widgetVar="infoDialog" modal="true" closable="true" draggable="false" resizable="false" showEffect="fade" hideEffect="fade" styleClass="info-dialog" position="center">
                <p:panel style="background-color: #FFFFFF; color: #000000; padding: 20px;">                  
                    <p style="text-decoration: underline; color: blue;"><strong style="color: black;">Se Realizó Direccionamiento De Manera Exitosa</strong></p>
                </p:panel>
            </p:dialog>

            <!--Lista Ma medicamento-->
            <p:dialog header="CONSULTAR MEDICAMENTO" widgetVar="dialogoMaMedicamentoAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaMedicamentoAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaMedicamento()}" oncomplete="PF('tablaWidgetMaMedicamentoAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaMedicamentoAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaMaMedicamentoAnulado" widgetVar="tablaWidgetMaMedicamentoAnulado" var="objMaMed" value="#{mipresBean.lazyMaMedicamento}" rowKey="#{objMaMed.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaMedicamentoAnulado}" />

                                    <p:column headerText="Cum"  filterBy="#{objMaMed.cum}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="cum" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamentoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.cum}"/>
                                    </p:column>


                                    <p:column headerText="Descripción Invima"  filterBy="#{objMaMed.descripcionInvima}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="descripcionInvima" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamentoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.descripcionInvima}"/>
                                    </p:column>                                                           

                                    <p:column headerText="Descripción Estandarizada"  filterBy="#{objMaMed.descripcionEstandarizada}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="descripcionEstandarizada" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamentoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.descripcionEstandarizada}"/>
                                    </p:column>

                                    <p:column headerText="Valor Concentración"  filterBy="#{objMaMed.maeConcentracionValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeConcentracionValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamentoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.maeConcentracionValor}"/>
                                    </p:column>                                    

                                    <p:column headerText="Forma Farmaceutica"  filterBy="#{objMaMed.maeFormaFarmaceuticaValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeFormaFarmaceuticaValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaMedicamentoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMaMed.maeFormaFarmaceuticaValor}"/>
                                    </p:column>

                                    <p:column headerText="Cobertura">                                                                              
                                        <h:outputText value="#{objMaMed.maeCoberturaValor}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma tecnologia-->
            <p:dialog header="CONSULTAR TECNOLOGÍA" widgetVar="dialogoMaTecnologiaAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaTecnologiaAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaTecnologia()}" oncomplete="PF('tablaWidgetMaTecnologiaAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaTecnologiaAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaTecnologiaAnulado" widgetVar="tablaWidgetMaTecnologiaAnulado" var="objMatec" value="#{mipresBean.lazyMaTecnologia}" rowKey="#{objMatec.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaTecnologiaAnulado}" />

                                    <p:column headerText="Cups" filterBy="#{objMatec.cups}">
                                        <f:facet name="filter">
                                            <p:inputText class="cups" label="cups" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetMaTecnologiaAnulado').filter()"/>
                                        </f:facet>
                                        <h:outputText value="#{objMatec.cups}"/>
                                    </p:column> 

                                    <p:column headerText="Descripción" filterBy="#{objMatec.cupsDescipcion}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText class="cupsDescipcion" label="cupsDescipcion" maxlength="256" style="width: 95%;" onchange="PF('tablaWidgetMaTecnologiaAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMatec.cupsDescipcion}"/>
                                    </p:column>                                                  

                                    <p:column headerText="Cobertura">                                        
                                        <h:outputText value="#{objMatec.maeCoberturaValor}"/>
                                    </p:column>                                
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!--Lista Ma insumo-->
            <p:dialog header="CONSULTAR INSUMO" widgetVar="dialogoMaInsumoAnulado" appendTo="@(body)" modal="true" style="max-width: 100%;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmMaInsumoAnulado">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{mipresBean.refrescarMaInsumo()}" oncomplete="PF('tablaWidgetMaInsumoAnulado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelMaInsumoAnulado" style="height:auto;" columns="1">
                            <p:row>
                                <p:dataTable id="tablaWidgetMaInsumoAnulado" widgetVar="tablaWidgetMaInsumoAnulado" var="objMains" value="#{mipresBean.lazyMaInsumo}" rowKey="#{objMains.id}"
                                             rows="#{mipresBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,30,50,100" 
                                             emptyMessage= "No se encontraron registros" selectionMode="single">
                                    <p:ajax event="rowSelect" listener="#{mipresBean.onRowSelectMaInsumoAnulado}" />

                                    <p:column headerText="Código"  filterBy="#{objMains.codigo}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="Codigo" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMains.codigo}"/>
                                    </p:column>

                                    <p:column headerText="Descripción" filterBy="#{objMains.descripcion}">                                        
                                        <h:outputText value="#{objMains.descripcion}"/>
                                    </p:column>                           

                                    <p:column headerText="Tipo"  filterBy="#{objMains.maeTipoValor}" style="text-align: center; width: auto;">
                                        <f:facet name="filter">
                                            <p:inputText label="maeTipoValor" maxlength="256" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                                        onchange();
                                                        return false;
                                                    }"  onchange="PF('tablaWidgetMaInsumoAnulado').filter()" />
                                        </f:facet>
                                        <h:outputText value="#{objMains.maeTipoValor}"/>
                                    </p:column>

                                    <p:column headerText="Cobertura" >                                       
                                        <h:outputText value="#{mipresBean.obtenerCobertura(objMains.cobertura)}"/>
                                    </p:column>                                  
                                </p:dataTable>
                            </p:row>
                        </p:panelGrid>                       
                        <h:panelGroup layout="block" id="facturas" style="text-align: center;background: #f5f5f5;font-weight: bold;">                    
                        </h:panelGroup>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Direccionar -->
            <p:dialog header="DIRECCIONAR" widgetVar="dialogoDireccionarAnulado" appendTo="@(body)" modal="true" style="width: 600px;max-height: 100%;" dynamic="true" >
                <p:scrollPanel mode="native" style="height:490px">
                    <h:form id="frmanuladoDireccionar">                        

                        <p:panel id="panelCodDirecciona2" header="TECNOLOGÍA" style="margin-bottom:10px" >
                            <p:toolbar>
                                <f:facet name="right">
                                    <p:commandButton id="btnMaMedicamento" immediate="true" action="#{mipresBean.consultarMaMedicamentoAnulado()}" disabled="#{mipresBean.activarBotonMed}" icon="ui-icon-plusthick" title="Ma Medicamentos"  />
                                    <p:commandButton id="btnMatecnologia" immediate="true" action="#{mipresBean.consultarMaTecnologiaAnulado()}" disabled="#{mipresBean.activarBotonTec}" icon="ui-icon-gear" title="Ma Tecnologias"  />
                                    <p:commandButton id="btnMaMpTecnologia" immediate="true" action="#{mipresBean.consultarMpMaTecnologiaAnulado()}" disabled="#{mipresBean.activarBotonMpTec}" icon="ui-icon-flag" title="Tecnologias Homologadas"  />
                                    <p:commandButton id="btnMaInsumo" immediate="true" action="#{mipresBean.consultarMaInsumoMipresAnulado}" disabled="#{mipresBean.activarBotonIns}" icon="ui-icon-circle-arrow-n" title="Ma Insumos"  />                                                                     
                                    <p:commandButton id="btnMaPaquet" immediate="true" action="#{mipresBean.consultarMaPaqueteAnulado}" disabled="#{mipresBean.activarBotonIns}" icon="ui-icon-copy" title="Paquetes"  />
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelCodDireccionaTecnologia3" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código" for="codDireCups"  style="font-weight:bold"/>                                                                       
                                <p:outputLabel id="codDireCups"  style="width: 300px;" value="#{mipresBean.direccionamientoPorAnulacion.codigoMpEntrega}" >
                                </p:outputLabel>

                                <p:outputLabel value="Descripción" for="DesDireCups"  style="font-weight:bold"/>                                                                          
                                <p:outputLabel id="DesDireCups"  value="#{mipresBean.direccionamientoPorAnulacion.codigoMpPropio}" >
                                </p:outputLabel>                                    
                            </p:panelGrid>   
                        </p:panel>

                        <p:panel id="panelPrestador2" header="PRESTADOR" style="margin-bottom:10px" collapsed="false" toggleable="true">
                            <p:toolbar>
                                <f:facet name="right">
                                    <p:commandButton id="botonConsultarPrestadorConAnulado" immediate="true" action="#{mipresBean.consultarCntPrestadorAnulado(mipresBean.idSeleccionTecnologiaAnulada,mipresBean.tipoSeleccionTecnologiaAnulada)}" icon="ui-icon-folder-open" title="Editar Prestadores Por Contrato"  />
                                    <p:commandButton id="botonConsultarPrestadorCotizacion" immediate="true" action="#{mipresBean.asignarCotizacionAnulacion(mipresBean.objeto.idPrescripcion, mipresBean.objeto.idItem, mipresBean.objeto.tipoTecnologiaItem)}" icon="ui-icon-contact" title="Listar Cotizacion" rendered="#{mipresBean.objetoCotizacionDetalle.estado == 12 or mipresBean.objetoCotizacionDetalle.estado == 14 or mipresBean.objetoCotizacionDetalle.estado == 17 or mipresBean.objetoCotizacionDetalle.estado == 19}" />
                                </f:facet>
                            </p:toolbar>
                            <p:panelGrid id="panelDireccionamientoPrestador5" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4" 
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">  

                                <p:outputLabel value="Razón Social" for="RazonSocial"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="RazonSocial"  value="#{mipresBean.direccionamientoPorAnulacion.nombreSede}" >
                                </p:outputLabel>

                                <p:outputLabel value="Código Prestador"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="codigoprestador"  value="#{mipresBean.direccionamientoPorAnulacion.prestadorNumeroDocumento}">
                                </p:outputLabel>

                                <p:outputLabel value="Cod Habilitación Sede" for="codHSede"  style="font-weight:bold"/>                                  
                                <p:outputLabel id="codHSede"  value="#{mipresBean.direccionamientoPorAnulacion.codigoHabilitacionSede}">
                                </p:outputLabel>

                                <p:outputLabel value="Teléfono Administrativo" for="teladm"  style="font-weight:bold"/>                                   
                                <p:outputLabel id="teladm"  value="#{mipresBean.direccionamientoPorAnulacion.telefonoAdministrativoSede}">
                                </p:outputLabel>

                                <p:outputLabel value="Correo" for="Correo"  style="font-weight:bold"/>                                    
                                <p:outputLabel id="Correo" value="#{mipresBean.direccionamientoPorAnulacion.correoElectronicoSede}" >
                                </p:outputLabel>                                  
                            </p:panelGrid>   
                        </p:panel>

                        <p:panel id="panelCodDirecciona22" header="DETALLES" style="margin-bottom:10px" collapsed="false" toggleable="true">

                            <p:panelGrid id="panelCodDireccionaTecnologia31" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Nombre Sede"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.direccionamientoPorAnulacion.nombreSede}" />                                            


                                <p:outputLabel value="Justificación"  style="font-weight:bold"/> 
                                <p:inputTextarea value="#{mipresBean.direccionamientoPorAnulacion.justificacionDireccionamiento}" maxlength="800" cols="20" >
                                    <p:ajax event="change" update="@this" />
                                </p:inputTextarea>


                                <p:outputLabel value="Cantidad Max Entrega"  style="font-weight:bold"/>
                                <p:inputNumber id="valoracuerdotrans" label="valoracuerdotrans"  decimalPlaces="0"  value="#{mipresBean.direccionamientoPorAnulacion.entregaTotal}"  size="15" maxlength="13" style="width: 200px" >
                                    <p:ajax event="change" listener="#{mipresBean.validarPermisoEntrega(mipresBean.direccionamientoPorAnulacion.entregaTotal)}" />
                                </p:inputNumber>


                                <p:outputLabel value="Fecha Max Entrega" style="font-weight:bold"/> 
                                <p:calendar value="#{mipresBean.direccionamientoPorAnulacion.fechaMaxEntrega}" id="fechaMax" pattern="yyyy-MM-dd"
                                            mindate="#{mipresBean.asignarMinDate()}" maxdate="#{mipresBean.asignarMaxDate()}">
                                    <p:ajax event="dateSelect" update="@this"  />
                                </p:calendar>



                                <p:outputLabel value="No Entrega"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.direccionamientoPorAnulacion.consecutivoEntrega}" />                                           


                                <p:outputLabel value="Sub Entrega"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.direccionamientoPorAnulacion.subEntrega}" />                                

                            </p:panelGrid>   
                        </p:panel>

                        <p:panel id="pJuzgadoCrear2" header="UBICACIÓN"  style="width:auto;height:auto;"  >

                            <p:panelGrid id="panelCrearJuzgado2" columns="2"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Ubicaciones" for="ubicacionProces2" />

                                <p:selectOneMenu id="ubicacionProces2" value="#{mipresBean.direccionamientoPorAnulacion.ubicacionSedeId}"
                                                 filter="true" filterMatchMode="contains"  style="width: 300px;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="false" />
                                    <f:selectItems value="#{mipresBean.ubicaciones}" var="ubi" itemValue="#{ubi.id}" itemLabel="#{ubi.nombre}" itemDescription="#{ubi.descripcion}" />                                           
                                    <p:ajax event="change" listener="#{mipresBean.asignarUbicacionAnulado(mipresBean.direccionamientoPorAnulacion.ubicacionSedeId)}" />
                                </p:selectOneMenu>   
                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Direccionar" immediate="true" action ="#{mipresBean.guardarDireccionamientoIndividualAnulado(mipresBean.direccionamientoPorAnulacion,2)}" style="margin-right: 15px;" />                                     
                                        <p:commandButton value="Cerrar" type="button" onclick="PF('dialogoDireccionarAnulado').hide()" immediate="true" style="margin-left: 15px;"/>
                                    </p:column>
                                </p:row>

                            </f:facet>
                        </p:panelGrid>

                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Prescripcion historico-->
            <p:dialog widgetVar="dialogoVerPh" appendTo="@(body)" modal="true" style="max-width: 90%;" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Ver Historico Prescripción</b>
                </header>
                <h:form id="frmAuditoriaVerH" class="frmAuditoriaH" style="margin-top: -20px; text-align: right;">
                    <p:outputPanel style="display: inline-block; margin-left: 3%;" rendered="#{mipresBean.numeroDeTutelasH > 0}">
                        <i class="pi pi-exclamation-triangle blinking-icon naranja" style="color: orangered; font-size: 24px;"></i>
                        <p:outputLabel value="Paciente Cuenta Con: #{mipresBean.numeroDeTutelasH} Tutela/s" style="margin-left: 7px; margin-right: 600px; margin-top: 50px"/>
                    </p:outputPanel>


                    <p:outputLabel id="labelDatosAuditoriaH" style="margin-right: 2%" value="#{mipresBean.prescripcionH.asegAfiliado.datosAuditoria}"/>

                </h:form>
                <p:scrollPanel mode="native" style="height: 400px;">
                    <h:form id="frmVerH">
                        <p:panel header="Prescripción" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                              

                                <p:outputLabel value="Número Prescripción"  style="font-weight:bold"/>                             
                                <p:outputLabel value="#{mipresBean.prescripcionH.numeroPrescripcion}"/>                                   

                                <p:outputLabel value="Fecha Prescripción" style="font-weight:bold"/>                               
                                <p:outputLabel value="#{mipresBean.prescripcionH.fechaPrescripcion}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Hora Prescripción" style="font-weight:bold"/>                                    
                                <h:outputLabel value="#{mipresBean.prescripcionH.horaPrescripcion}">
                                    <f:convertDateTime type="date" pattern="HH:mm" timeZone="America/Bogota"/>
                                </h:outputLabel>

                                <p:outputLabel value="Ámbito" style="font-weight:bold"/>  
                                <p:outputLabel value="#{mipresBean.obtenerAmbito(mipresBean.prescripcionH.codAmbAte)}"/>

                                <p:outputLabel value="Enfermedad Huérfana"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.prescripcionH.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código Enfermedad Huérfana"  style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.prescripcionH.codigoEnfermedadHuerfana}"/>                                 

                                <p:outputLabel value="Código Diagnóstico Principal" style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionH.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionH.maDiagnosticoPrincipalValor}"/> 

                                <p:outputLabel value="Estado"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerTipoEstadoPrescripcion(mipresBean.prescripcionH.estado)}"/> 

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliadoH" header="Información del Paciente" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliadoH" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    


                                <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.obtenerTipoDocumentoPersona(mipresBean.prescripcionH.asegAfiliado.maeTipoDocumento)}"/>                                        

                                <p:outputLabel value="Número Documento"  style="font-weight:bold"/>                              
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.numeroDocumento}"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos"  style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>                                     
                                <h:outputText value="#{mipresBean.obtenerTipoGenero(mipresBean.prescripcionH.asegAfiliado.genero)}"/>

                                <p:outputLabel value="Fecha Nacimiento"  style="font-weight:bold"/>                                                                 
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>                                                                    
                                <h:outputText value="#{mipresBean.obtenerEdad(mipresBean.prescripcionH.asegAfiliado.fechaNacimiento)}"/>

                                <p:outputLabel value="Régimen"  style="font-weight:bold"/>                                                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.regimen == '1' ? 'Subsidiado' : mipresBean.prescripcion.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Estado Afiliación" style="font-weight:bold"/>                                                                    
                                <p:outputLabel value="#{mipresBean.obtenerEstadoAfiliacion(mipresBean.prescripcionH.asegAfiliado.maeEstadoAfiliacion)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Ubicación"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerMunicipio(mipresBean.prescripcionH.asegAfiliado.residenciaUbicacion.id)}" />

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.telefonoFijo}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.telefonoMovil}"/>

                                <p:outputLabel value="Estado Civil" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.maeEstadoCivilValor}"/>

                                <p:outputLabel value="Grupo Poblacional"  style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.maeMetodologiaGrupoPoblacionalValor}"/>

                                <p:outputLabel value="E-mail" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.email}"/>

                                <p:outputLabel value="Portabilidad"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliado.tienePortabilidadStr}"/>

                                <p:outputLabel value="Municipio Portabilidad"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.municipioPortabilidad}"/>

                                <p:outputLabel value="Derechos Verificados" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.derechosVerificados}"/>

                                <p:outputLabel value="Identificación Madre Del Paciente"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.asegAfiliadoMadreDocumento}"/>                                    

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPSH" header="Información IPS"  style="margin:10px 0px;" toggleable="true" collapsed="#{!mipresBean.prescripcion.recobrante == false}">
                            <p:panelGrid id="panelIPSH" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Nit"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.prestadorNumeroDocumento}"/>

                                <p:outputLabel value="Direccion" style="font-weight:bold"/>                                      
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntPrestadorSede.direccion}"/>


                                <p:outputLabel value="Razón Social" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.prestadorRazonSocial}"/>

                                <p:outputLabel value="Código Habilitación"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.sedeCodigoHabilitacion}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntPrestadorSede.ubicacion.nombre}"/>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntPrestadorSede.ubicacion.ubicacionPadre.nombre}"/>

                                <p:outputLabel value="Teléfono Administrativo"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntPrestadorSede.telefonoAdministrativo}"/>

                                <p:outputLabel value="Teléfono Citas"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntPrestadorSede.telefonoCitas}"/>                                   
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlProfesionalH" header="Profesional" style="margin:10px 0px;" toggleable="true" >
                            <p:panelGrid id="panelPersonaH" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Tipo Documento"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número Documento"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.documento}"  />

                                <p:outputLabel value="Primer Nombre" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.primerNombre}"/>

                                <p:outputLabel value="Segundo Nombre"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.segundoNombre}"/>

                                <p:outputLabel value="Primer Apellido"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.primerApellido}"/>

                                <p:outputLabel value="Segundo Apellido"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionH.cntProfesional.registroMedico}" style="width: 94%;"/>                                   
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlRecobranteH" header="Generalidades / Recobrante" rendered="#{mipresBean.prescripcionH.recobrante == true}" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelRecobranteH" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Fallo"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fallo}"/>

                                <p:outputLabel value="Tipo Tutela"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.tipoTutela}"/>

                                <p:outputLabel value="Fecha Fallo" style="font-weight:bold"/>                                                                   
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fechaFallo}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha 1ra Instancia"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fechaPrimeraInstancia}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha 2da Instancia"  style="font-weight:bold"/>                                                                    
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fechaSegundaInstancia}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Corte" style="font-weight:bold"/>                                                                      
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fechaCorte}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Desacatoa"  style="font-weight:bold"/>                                                                   
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.fechaDesacato}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Código Diagnostico Principal"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.maDiagnosticoMotivaPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnostico Principal"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.maDiagnosticoMotivaPrincipalValor}"/>

                                <p:outputLabel value="Diagnostico 2"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.maDiagnosticoMotiva2Valor}"/>

                                <p:outputLabel value="Diagnostico 3"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.maDiagnosticoMotiva3Valor}"/>

                                <p:outputLabel value="Criterio 1 Definido Corte Contitucional"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobranteH.criterio1Corte)}"/>

                                <p:outputLabel value="Criterio 2 Definido Corte Contitucional"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobranteH.criterio2Corte)}"/>

                                <p:outputLabel value="Criterio 3 Definido Corte Contitucional" style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobranteH.criterio3Corte)}"/>

                                <p:outputLabel value="Criterio 4 Definido Corte Contitucional" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerConfirmacion(mipresBean.prescripcionRecobranteH.criterio4Corte)}"/>
                            </p:panelGrid>
                            <p:spacer/>
                            <p:panelGrid id="panelRecobrante2H" columns="2"                                         
                                         style="border:0px none; background-color:transparent;" styleClass="ui-panelgrid-blank ui-fluid">                                 

                                <p:outputLabel value="Aclaración Fallo Tutela"  style="font-weight:bold; width: 30%"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.aclaracionFallo}"/>                               

                                <p:outputLabel value="Justificación Medica"  style="font-weight:bold; width: 30%"/>                                            
                                <p:outputLabel value="#{mipresBean.prescripcionRecobranteH.justificacionMedica}" />

                            </p:panelGrid>
                        </p:panel>
                        <p:panel header="Tecnologí­as" style="margin-bottom:10px;" >
                            <p:dataTable var="dto" value="#{mipresBean.listaPrescripcionDtoH}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDirecH"
                                         widgetVar="tablaWidgetDTOH" style="font-size:11px;"
                                         rowKey="#{dto.id}">                                
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton rendered="#{mipresBean.accionVer}" title="Ver Item" actionListener="#{mipresBean.verItem(dto.id,dto.tipoTecnologiaId,1)}" icon="ui-icon-search"/> 
                                </p:column>
                                <p:column headerText="Consecutivo" style="text-align: center;">
                                    <p:outputLabel value="#{dto.consecutivo}"/>
                                </p:column>
                                <p:column headerText="Tipo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{dto.tipoTecnologia}"/>
                                </p:column>                               
                                <p:column headerText="Tipo Prestación" style="text-align: center;">
                                    <p:outputLabel value="#{dto.tipoPrestacion}"/>
                                </p:column>                               
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <p:outputLabel value="#{dto.nombreTecnologiaPrescripta}" title="#{dto.nombreTecnologiaPrescripta}" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"/>
                                </p:column>
                                <p:column headerText="Duración Tratamiento Ordenado" style="text-align: center;">
                                    <p:outputLabel value="#{dto.duracionTratamientoOrdenado}"/>
                                </p:column>
                                <p:column headerText="Cantidad Total Prescrita" style="text-align: center;">                                    
                                    <p:outputLabel  value="#{mipresBean.calcularDecimales(dto.cantidadTotalPrescrita)}" />                                  
                                </p:column>
                                <p:column headerText="Código Tecnologí­a" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.codigoTecnologia}"/>
                                </p:column>
                                <p:column headerText="Nombre Tecnologí­a" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.nombreTecnologia}"/>
                                </p:column>
                                <p:column headerText="Código Tecnologí­a Avalada EPS" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.codigoTecnologiaAvalEps}"/>
                                </p:column>
                                <p:column headerText="Nombre Tecnologí­a Avalada EPS" style="text-align: center;" visible="false">
                                    <p:outputLabel value="#{dto.nombreTecnologiaAvalEps}"/>
                                </p:column>                                
                            </p:dataTable>
                        </p:panel>


                        <p:panelGrid id="panelCrearH" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerPh').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>                       
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver medicamento 1 gestion -->
            <p:dialog header="Detalle Medicamentos" widgetVar="dialogoVerItemMMm" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemMMm" class="frmAuditoriaMMm" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaMMm" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemMMm">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Principios Activos" style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descripcionMedicamentoPrincipioActivo}"/>

                                <p:outputLabel value="Forma Farmacéutica"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.codigoFormulaFarmaceutica , 7)}"/>

                                <p:outputLabel value="Ví­a Administración"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.codigoViaAdministracion , 3)}"/>

                                <p:outputLabel value="Dosis"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.dosis)} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.dosisUnidadMedida , 1)} "/>

                                <p:outputLabel value="Frecuencia Administración"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numeroFrecuenciaAdministracion}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionMedicamento.codigoFrecuenciaAdministracion)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                       
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cantidadTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionMedicamento.duracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Formulada"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.cantidadTotalFormulada)}  #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.unidadFarmaceuticaCantidadTotal , 2)}"/>

                                <p:outputLabel value="Indicaciones Especiales"  style="font-weight:bold"/>                                        
                                <p:outputLabel value="#{mipresBean.optenerIndicacionesEspeciales(mipresBean.prescripcionMedicamento.indicacionesEspeciales)}"/>

                            </p:panelGrid>
                            <p:panelGrid columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    

                                <p:outputLabel value="Indicaciones o recomendaciones para el paciente"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.indicacionRecibida}"/>
                            </p:panelGrid>

                        </p:panel>

                        <p:panel header="Principios activos" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tienePrincipioActivo}">
                            <p:dataTable var="dto" value="#{mipresBean.listaPrincipiosActivos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosPA"
                                         widgetVar="tablaWidgetPA" style="font-size:11px;"
                                         rowKey="#{dto.id}">                                
                                <p:column headerText="Consecutivo" style="text-align: center;">
                                    <p:outputLabel value="#{dto.consecutivoOrden}"/>
                                </p:column>
                                <p:column headerText="Código Principio Activo" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.codigoPrincipioActivo , 4 )}"/>
                                </p:column>                               
                                <p:column headerText="Consecutivo Cantidad" style="text-align: center;">
                                    <p:outputLabel value="#{dto.concecutivoCantidad}"/>
                                </p:column>                               
                                <p:column headerText="Medida Concentración" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.unidadMedidaConcentracion , 1)}"/>
                                </p:column>
                                <p:column headerText="Cantidad Contenido" style="text-align: center;">
                                    <p:outputLabel value="#{dto.cantidadContenido}"/>
                                </p:column>
                                <p:column headerText="Unidad Cantidad Contenido" style="text-align: center;">                                    
                                    <p:outputLabel value="#{mipresBean.obtenerHomologacion(dto.unidadCantidadContenido , 1)}"/>                                  
                                </p:column>                                     
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Indicacion/es UNIRS" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.listaMpIndicacionUnirs.size() > 0 }">
                            <p:dataTable var="direc1" value="#{mipresBean.listaMpIndicacionUnirs}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO78"
                                         widgetVar="tablaWidgetDirec2" style="font-size:11px;"
                                         rowKey="#{direc1.id}">    

                                <p:column headerText="Código Indicación" style="text-align: center;">
                                    <p:outputLabel value="#{direc1.codigoIndicacion}"/>
                                </p:column>                                                            
                                <p:column headerText="Indicación" style="text-align: center;">
                                    <p:outputLabel value="#{direc1.mpCodigoUnirsId.indicacion}"/>
                                </p:column>                    

                            </p:dataTable>
                        </p:panel>

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">    


                                <p:outputLabel value="Estado Junta"  style="font-weight:bold"/>   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionMedicamento.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionTecJunta}">                                   
                                </p:outputLabel>                                   

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.diagnosticoEnfermedadHuerfana? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado2Valor}"/>                                    
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                       

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionMedicamento.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Tipo Medicamento"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerTipoTecnologia(mipresBean.prescripcionMedicamento.tipoMedicamento)}"/>                                        

                                <p:outputLabel value="Estado Junta Profesionales"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>

                            <p:panelGrid id="panelJustificado2" columns="2"                                        
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No PBS"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionNoPbs}"/>  

                                <p:outputLabel value="Medicamento financiado por el PBS con cargo a la UCP?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cubiertoPbsCargoUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Medicamento se encuentra en fase experimental?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Ya utilizo  medicamento  existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Medicamento PBS utilizado"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.medPbsUtilizado}"/>                                     

                                <p:outputLabel value="Ya descarto el medicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descMedPbsUpc ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descarto porque se prevén reacciones adversas o intolerancia por el paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descartó por que existen indicaciones o contradicciones expresas?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Lo descarto porque no existe alternativa en el PBS?"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoAlternativa ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Lo descarto porque tiene mejor evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica? "  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>  

                                <p:outputLabel value="La indicación o uso previsto del medicamento está registrado/aprobado por la autoridad competente clí­nica?"  style="font-weight:bold"/>                                     
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.regAprobAutClin ? 'Si' : 'No'}"/>

                                <p:outputLabel value="El medicamento aparece en la lista de uso no indicado en el registro sanitario UNIRS?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.listaNoUsoSanitarioUnirs ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Existe evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                 

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO77"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>    
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>  
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO88"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">

                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT99"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO7"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                     
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemMMm').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver producto nutricional 4 gestion -->
            <p:dialog header="Detalle Producto Nutricional" widgetVar="dialogoVerItemMm" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemMm" class="frmAuditoriaMm" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaMm" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemMm">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Producto Nutricional"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.maeProductosNutricionalesValor}"/>

                                <p:outputLabel value="Via Administración"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerViaAdminPNutri(mipresBean.prescripcionMedicamento.codigoViaAdministracion)}"/>


                                <p:outputLabel value="Dosis"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.dosis)} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.dosisUnidadMedida , 1)} "/>

                                <p:outputLabel value="Frecuencia Administración"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numeroFrecuenciaAdministracion}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionMedicamento.codigoFrecuenciaAdministracion)}"/>

                                <p:outputLabel value="Duración Tratamiento"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cantidadTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionMedicamento.duracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Formulada"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionMedicamento.cantidadTotalFormulada)}  #{mipresBean.optenerPresentacionPNutri(mipresBean.prescripcionMedicamento.unidadFarmaceuticaCantidadTotal)}"/>

                                <p:outputLabel value="Indicaciones Especiales"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerIndicacionesEspeciales(mipresBean.prescripcionMedicamento.indicacionesEspeciales)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.indicacionRecibida}"/>

                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.diagnosticoEnfermedadHuerfana  ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcionMedicamento.mpPrescripcion.maDiagnosticoRelacionado2Valor}"/>                              
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnljunta" header="Información junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionMedicamento.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionMedicamento.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                           
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionTecJunta}" >                                   
                                </p:outputLabel>  
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No PBS"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.justificacionNoPbs}"/>

                                <p:outputLabel value="Tipo Producto Nutricional"  style="font-weight:bold"/> 
                                <p:outputLabel value="#{mipresBean.obtenerHomologacion(mipresBean.prescripcionMedicamento.tipoProductoNutricional , 5)}"/> 

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionMedicamento.tipoPrestacion)}"/>                                        

                            </p:panelGrid>

                            <p:panelGrid id="panelJustificado2" columns="2"                                         
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                      

                                <p:outputLabel value="Producto nutricional se encuentra en fase experimental?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Producto nutricional esta registrado por INVIMA?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.registroInvima ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Producto nutricional esta cubierto por el PBS con cargo a la UCP?"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.cubiertoPbsCargoUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Ya utilizo el nutricional o médicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Lo utilizó y no se obtuvieron resultados clí­nicos o paraclí­nicos satí­sfactorios en el termino previsto de sus indicaciones?"  style="font-weight:bold"/>                                 
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.resultSatisPrev ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Lo utilizó y se obtuvieron reacciones adversas o intolerancia para el paciente"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.reaccionesAdversasPaciente ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Ya descarto el medicamento existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descMedPbsUpc ? 'Si' : 'No'}"/>    

                                <p:outputLabel value="Lo descartó por que existen indicaciones o contradicciones expresas?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoReaccionesAdversas ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Lo descarto porque tiene mejor evidencia cientí­fica disponible sobre seguridad, eficacia y efectividad clí­nica? "  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                                               

                                <p:outputLabel value="Es diagnostico VIH"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoVih ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Es diagnostico Cancer"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoCancer ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico desnutrición proteico calórica en menores de 5 años?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.esDiagnosticoDesnutricion ? 'Si' : 'No'}"/>

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO779"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}">   
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>  
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO889"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">                               
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT999"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO3"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemMm').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Procedimientos 2 gestion -->
            <p:dialog header="Detalles Procedimiento" widgetVar="dialogoVerItemTt" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">
                <header style="font-size: 30px;">

                </header>
                <h:form id="frmAuditoriaVerItemTt" class="frmAuditoriaTt" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaTt" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemTt">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Cups"   style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.maTecnologiaCodigo} - #{mipresBean.prescripcionTecnologia.maTecnologiaValor}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.calcularDecimales(mipresBean.prescripcionTecnologia.cantidadFormulada)}  #{mipresBean.prescripcionMedicamento.codFormulada}"/>

                                <p:outputLabel value="Frecuencia Uso"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.frecuenciaDeUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionTecnologia.codigoUnidadTiempoFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.cantidadDuracionTratamiento}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionTecnologia.codigoPeriodoDuracionTratamiento)}"/>

                                <p:outputLabel value="Cantidad Total"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.cantidadTotal}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.indicacionesPaciente}"/>                                  
                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Código Dx Principal"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionTecnologia.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcionTecnologia.mpPrescripcion.maDiagnosticoRelacionado2Valor}"/>  

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnljunta" header="Información junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionTecnologia.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionTecnologia.modJunta)}"/>                                                  

                                <p:outputLabel value="Fecha Acta"  style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>                                 

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.justificacionTecJunta}">                                   
                                </p:outputLabel>  
                            </p:panelGrid>
                        </p:panel>


                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">

                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                        

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionTecnologia.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.obtenerEstadoJuntaProfesional(mipresBean.prescripcionTecnologia.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.justificacionNoPbs}"/> 

                                <p:outputLabel value="Tiene cups"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.tieneCups ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Es una combinación de CUPS?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.combinacionCups ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El procedimiento esta en fase experimental?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.enFaseExperimental ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="El procedimiento  esta financiado por el PBS con cargo a la UPC?"   style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.financiadoPbsUpc ? 'Si' : 'No'}"/>                                       

                                <p:outputLabel value="Utilizo lo existente en el PBS con cargo a la UPC?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionMedicamento.utilizoNutriMedExistentePbsUpc ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Procedimiento PBS utilizado?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.pbsUtilizado ? 'Si' : 'No'}"/> 

                                <p:outputLabel value="Descarto lo existente en el PBS con cargo a la UPC"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descProcedPbsCargoUpc ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Procedimiento PBS descartado"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.procePbsDescartado ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Lo descartó por que no existe alternativa en el PBS?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descartoNoExistePbs ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Lo descartó porque tiene mejor evidencia cientifica disponible sobre seguridad eficacia y efectividad clí­nica?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.descartoEvidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                 

                                <p:outputLabel value="Existe evidencia cientifica disponible sobre seguridad eficacioa y efectividad clí­nica?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                            

                                <p:outputLabel value="El procedimiento prescrito se realizará en colombia?"  style="font-weight:bold"/>
                                <p:outputLabel value="#{mipresBean.prescripcionTecnologia.procRealizaraCol ? 'Si' : 'No'}"/>   

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO778"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>  
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO888"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">                               
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT998"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO11"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                      
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemTt').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Dispositivos 3 gestion -->
            <p:dialog header="Detalle Dispositivo(s)" widgetVar="dialogoVerItemIIi" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true">

                <h:form id="frmAuditoriaVerItemIIi" class="frmAuditoriaIIi" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaIIi" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerItemIIi">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Nombre Dispositivo"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.maeDispositivosCodigo} - #{mipresBean.prescripcionInsumo.maeDispositivosNombre}"/>

                                <p:outputLabel value="Tipo De Transporte"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoTransporte(mipresBean.prescripcionInsumo.tipoTransporte)}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidadFormulada}"/>

                                <p:outputLabel value="Frecuencia De Uso"    style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.frecuenciaUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionInsumo.codFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidad}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionInsumo.codPerDurTrat)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.indicacionesRecomendaciones}"/>

                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionInsumo.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado2Valor}"/>  

                            </p:panelGrid>
                        </p:panel>   

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionInsumo.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                                  
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionTecJunta}">                                   
                                </p:outputLabel>                                    

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">                                                                       

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionInsumo.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>                                        

                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionNoPbs}"/>  


                                <p:outputLabel value="El uso del servicio es cosmético o suntuario?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.usoServCosmeticoSuntuario ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio se prestará en colombia?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servicioPrestaraColombia ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio esta registrado por la autoridad competente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servRegistradoAutCompetente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio corresponde a la condición clí­nica y diagnóstico del paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servCondicionClinDiagPaciente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="Existe evidencia disponible sobre seguridad eficacia y efectividad?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                

                            </p:panelGrid>
                        </p:panel> 

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO773"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}"> 
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO883"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">                               
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT993"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO1"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                       
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemIIi').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Complementario 5 gestion -->
            <p:dialog header="Detalle Complementarios" widgetVar="dialogoVerItemIi" class="modal-no-scroll" appendTo="@(body)" modal="true"  width="80%" dynamic="true">

                <h:form id="frmAuditoriaVerItemIi" class="frmAuditoriaIi" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoriaIi" value="#{mipresBean.prescripcion.asegAfiliado.datosAuditoria} "/>                  
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemIi">
                        <p:panel header="Indicaciones De Ordenamiento" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Servicio Complementario"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.maeServiciosComplementariosNombre}"/>

                                <p:outputLabel value="Cantidad"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.desimalConvertido(mipresBean.prescripcionInsumo.cantidadTotalEntrega)}" />

                                <p:outputLabel value="Descripción"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.descripcionServicioComplementario}"/>

                                <p:outputLabel value="Tipo De Transporte"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoTransporte(mipresBean.prescripcionInsumo.tipoTransporte)}"/>

                                <p:outputLabel value="Cantidad Formulada"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidadFormulada}"/>

                                <p:outputLabel value="Frecuencia De Uso"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.frecuenciaUso}  #{mipresBean.optenerFrecuenciaUso(mipresBean.prescripcionInsumo.codFrecuenciaUso)}"/>

                                <p:outputLabel value="Duración Tratamiento"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.cantidad}  #{mipresBean.optenerDuracionTratamiento(mipresBean.prescripcionInsumo.codPerDurTrat)}"/>

                                <p:outputLabel value="Indicaciones Recomendaciones"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.indicacionesRecomendaciones}"/>                                    
                            </p:panelGrid>
                        </p:panel>                       

                        <p:panel id="pnlDiagnostico" header="Diagnóstico" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelDiagnostico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Código Dx Principal" style="font-weight:bold"/>  
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoPrincipalCodigo}"/>

                                <p:outputLabel value="Diagnóstico Principal" style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tiene Enfermedad Huérfana?"  style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.enfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Codigo Enfermedad Huérfana"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.prescripcion.codigoEnfermedadHuerfana} #{mipresBean.obtenerHomologacion(mipresBean.prescripcionInsumo.prescripcion.codigoEnfermedadHuerfana , 6)} "/>

                                <p:outputLabel value="Enfermedad Huérfana Es Dx Principal?"  style="font-weight:bold"/>    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.diagnosticoEnfermedadHuerfana ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 1"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado1Codigo} - #{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado1Valor}"/>

                                <p:outputLabel value="Diagnóstico Relacionado 2"  style="font-weight:bold"/>                                
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado2Codigo} - #{mipresBean.prescripcionInsumo.mpPrescripcion.maDiagnosticoRelacionado2Valor}"/>  
                            </p:panelGrid>
                        </p:panel>     

                        <p:panel id="pnljunta" header="Información Junta" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="paneljunta" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Estado Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>

                                <p:outputLabel value="Número Acta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.numActaJunta}"/>

                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoJuntaTecnologia}"/>

                                <p:outputLabel value="Modalidad"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerModJunta(mipresBean.prescripcionInsumo.modJunta)}"/>

                                <p:outputLabel value="Fecha Acta"   style="font-weight:bold"/>                                                              
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.fechaActaJunta}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Justificación Junta"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionTecJunta}">                                   
                                </p:outputLabel>                                      
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlJustificado" header="Justificación" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelJustificado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 


                                <p:outputLabel value="Consecutivo"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.consecutivoOrden}"/>                                        

                                <p:outputLabel value="Tipo Prestación"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerTipoPrestacion(mipresBean.prescripcionInsumo.tipoPrestacion)}"/>                                        

                                <p:outputLabel value="Estado Junta profesionales"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.optenerEstadoJunta(mipresBean.prescripcionInsumo.estadoJuntaProfesionales)}"/>                                       


                            </p:panelGrid>
                            <p:panelGrid id="panelJustificado2" columns="2"

                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Justificación No Pbs"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.justificacionNoPbs}"/>       


                                <p:outputLabel value="El uso del servicio es cosmético o suntuario?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.usoServCosmeticoSuntuario ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio se prestará en colombia?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servicioPrestaraColombia ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio esta registrado por la autoridad competente?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servRegistradoAutCompetente ? 'Si' : 'No'}"/>                                        

                                <p:outputLabel value="El servicio corresponde a la condición clí­nica y diagnóstico del paciente?"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.servCondicionClinDiagPaciente ? 'Si' : 'No'}"/>   

                                <p:outputLabel value="Existe evidencia disponible sobre seguridad eficacia y efectividad?"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionInsumo.evidenciaEfiEfecClinica ? 'Si' : 'No'}"/>                                

                            </p:panelGrid>
                        </p:panel>  

                        <p:panel header="Direccionamiento/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneDireccionamiento}">
                            <p:dataTable var="direc" value="#{mipresBean.listadireccionamientosAux}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO772"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{direc.id}">
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Imprimir" onclick="PrimeFaces.monitorDownload(start, stop);"  icon="ui-icon-document" ajax="true" rendered="#{direc.estado == 1 or direc.estado == 2}" >
                                        <p:fileDownload value="#{mipresBean.generarPdf(direc.id)}" />
                                    </p:commandButton>
                                </p:column>   
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTipoEstado(direc.estado)}"/>
                                </p:column>   
                                <p:column headerText="Respuesta" style="text-align: center;">
                                    <p:commandButton 
                                        type="button"
                                        icon="pi pi-eye"
                                        rendered="#{not empty direc.respuestaDireccionamiento}"                                               
                                        title="#{direc.respuestaDireccionamiento}"
                                        onclick="copiarTextoConMensaje('#{direc.respuestaDireccionamiento}')"
                                        styleClass="ui-button-info" />
                                </p:column>
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{direc.justificacionDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Prestador" style="text-align: center;">
                                    <p:outputLabel value="#{direc.nombreSede}"/>
                                </p:column>                               
                                <p:column headerText="Fecha Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaDireccionamiento}"/>
                                </p:column>
                                <p:column headerText="Fecha Max Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{direc.fechaMaxEntrega}"/>
                                </p:column>
                                <p:column headerText="Número Entrega" style="text-align: center;">                                    
                                    <p:outputLabel value="#{direc.entregaCantidad}" />                                     
                                </p:column>
                                <p:column headerText="Cantidad A Entregar" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregaTotal}"/>
                                </p:column>
                                <p:column headerText="Total Entregado" style="text-align: center;">
                                    <p:outputLabel value="#{direc.entregadoNumero}"/>
                                </p:column>                                                                                             
                            </p:dataTable>
                            <p:growl id="growl" widgetVar="growlWidget" showDetail="false" life="2000" />
                            <h:outputScript>
                                function copiarTextoConMensaje(texto) {
                                if (!navigator.clipboard) {
                                const input = document.createElement('input');
                                input.value = texto;
                                document.body.appendChild(input);
                                input.select();
                                document.execCommand('copy');
                                document.body.removeChild(input);
                                } else {
                                navigator.clipboard.writeText(texto).catch(function (err) {
                                console.error('Error al copiar: ', err);
                                });
                                }

                                PF('growlWidget').show([{
                                severity: 'info',
                                summary: 'Texto copiado'
                                }]);
                                }
                            </h:outputScript>
                        </p:panel>


                        <p:panel header="Entrega/s" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneEntregas}">
                            <p:dataTable var="entre" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO882"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{entre.id}">                               
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.numeroEntrega}"/>
                                </p:column>                               
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entre.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Copago" style="text-align: center;">                                   
                                    <h:outputText value="#{entre.copago}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Valor Unit Facturado" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorReportado}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Valor Total" style="text-align: center;">
                                    <p:outputLabel value="#{entre.valorTotal}">
                                        <f:convertNumber pattern="$ #,###"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Ultima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.ultimaEntrega ? 'Si' : 'No'}"/>  
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entre.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="No Direccionamiento" style="margin-bottom:10px;" toggleable="true" rendered="#{mipresBean.tieneNoDireccionamientos}">
                            <p:dataTable var="noDire" value="#{mipresBean.listanoDireccionados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDT992"
                                         widgetVar="tablaWidgetDirec" style="font-size:11px;"
                                         rowKey="#{noDire.id}">                               
                                <p:column headerText="Justificación" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.justificacionNoDireccionamiento}"/>
                                </p:column>  
                                <p:column headerText="Número Prescripción" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.mpPrescripcionesId.numeroPrescripcion}"/>
                                </p:column>  
                                <p:column headerText="Consecutivo Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.consecutivoTecnologia}"/>
                                </p:column>  
                                <p:column headerText="Prescripcion Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.numeroPrescripcionAsociada}"/>
                                </p:column> 
                                <p:column headerText="Consecutivo Tecnologí­a Asociada" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.conTecAsociada}"/>
                                </p:column>
                                <p:column headerText="Estado No direcionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstadoNoDir(noDire.codigoNoDireccionamiento)}"/>
                                </p:column>
                                <p:column headerText="Fecha No Direccionamiento" style="text-align: center;">
                                    <p:outputLabel value="#{noDire.fechaHoraCrea}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Historico Item" style="margin-bottom:10px;" toggleable="true" >
                            <p:dataTable var="dt" value="#{mipresBean.listaPrescripcionHistoricos}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTO5"
                                         widgetVar="tablaWidgetH" style="font-size:11px;"
                                         rowKey="#{dt.id}">                               
                                <p:column headerText="Tecnologí­a" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerTecno(dt.tipoTecnologia)}"/>
                                </p:column>
                                <p:column headerText="Estado" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.obtenerEstado(dt.estado)}"/>
                                </p:column>                               
                                <p:column headerText="Responsable" style="text-align: center;">
                                    <p:outputLabel value="#{dt.usuarioCrea}"/>
                                </p:column>                               
                                <p:column headerText="Fecha" style="text-align: center;">
                                    <p:outputLabel value="#{dt.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>                                                                                      
                            </p:dataTable>
                        </p:panel>                      

                        <p:panelGrid id="panelCrear" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerItemIi').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Entrega factura-->
            <p:dialog header="Gestion Suministro" widgetVar="dialogoVerEntrega" class="modal-no-scroll" appendTo="@(body)" modal="true"  height="100%" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemEntrega">
                        <p:panel header="Información Entrega" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4" id="panelDialogoSuministroRegistro"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Numero De La Prescripción"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.numeroPrescripcion}"/>

                                <p:outputLabel value="Ambito"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerAmbitoHis(mipresBean.prescripcionSuministro.codigoAmbitoAtencion)}" />

                                <p:outputLabel value="Nombre Paciente"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.primerNombreAfiliado} - #{mipresBean.prescripcionSuministro.segundoNombreAfiliado}"/>

                                <p:outputLabel value="Apellido  Paciente"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.primerApellidoAfiliado} - #{mipresBean.prescripcionSuministro.segundoApellidoAfiliado}"/>

                                <p:outputLabel value="Numero Documento"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.numeroDocumentoAfiliado}"/>

                                <p:outputLabel value="Regimen AFiliado"  style="font-weight:bold"/>                                 
                                <h:outputText value="#{mipresBean.obtenerRegimen(mipresBean.prescripcionSuministro.regimenAfiliado)}"/>                               

                                <p:outputLabel value="Tipo Tecnologia"  style="font-weight:bold"/>                                    
                                <h:outputText value="#{mipresBean.obtenerTipoTecnologia(mipresBean.prescripcionSuministro.tipoTecnologiaItem)}"/>


                                <p:outputLabel value="Tecnologia Prescrita"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.nombreItem}"/>   

                                <p:outputLabel value="Ips Direcciona"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.ipsDirecciona}"/> 

                                <p:outputLabel value="Dx"  style="font-weight:bold"/>                                    
                                <h:outputText value="#{mipresBean.prescripcionSuministro.maDiagnosticoPrincipalCodigo} - #{mipresBean.prescripcionSuministro.maDiagnosticoPrincipalValor}"/>

                                <p:outputLabel value="Tecnologia Entregada" style="font-weight:bold"/>
                                <p:outputLabel 
                                    value="#{mipresBean.prescripcionSuministro.entrega.codTecEntregado} - #{mipresBean.prescripcionSuministro.entrega.descTecEntregado}"
                                    style="word-wrap: break-word; white-space: normal;"/>

                                <p:outputLabel value="Cantidad Ordenada"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.cantidadOrdenada}"/> 

                                <p:outputLabel value="Cantidad Direccionada"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.cantidadDireccionada}"/> 

                                <p:outputLabel value="Nota Auditoria"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.notaAuditoria}"/> 

                                <p:outputLabel value="Id Reporte Entrega"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.idReporteEntrega}" />

                                <p:outputLabel value="Fecha Entrega"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.fechaEntrega}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reporte Factura"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.fechaReporteFactura}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Cantidad Total Entregada"   style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.cantidadEntrega}"/>

                                <p:outputLabel value="Valor Entregado"  style="font-weight:bold"/>                                 
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.valorTotal}">
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <p:outputLabel value="Numero De Entrega"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.numeroEntrega}"/>                                  

                                <p:outputLabel value="Justificación No PBS"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.justificacionDireccionamiento}"/>

                                <p:outputLabel value="Causa De No Entrega"  style="font-weight:bold"/>                                    
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.entrega.causaNoEntrega}"/>

                                <p:outputLabel value="Entrega Completa"  style="font-weight:bold"/>  
                                <p:selectBooleanButton id="entregacomp" disabled="#{mipresBean.desactivarBotonEntregaCompleta}" value="#{mipresBean.direccionamientoEntregado.entregaCompleta}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick">
                                    <p:ajax event="change" listener="#{mipresBean.ActualizarCompletaUltima(mipresBean.direccionamientoEntregado.entregaCompleta,2,mipresBean.direccionamientoEntregado.id)}" />
                                </p:selectBooleanButton>
                            </p:panelGrid>
                        </p:panel> 

                        <p:panel header="Suministro" rendered="#{mipresBean.mostrarPanelSuministro}" id="panelSuministroRegistro" > 
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">  

                                <p:outputLabel value="Id Suministro"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.prescripcionSuministro.idSuministro}"/>

                                <p:outputLabel value="Ultima Entrega"  style="font-weight:bold"/>  
                                <p:selectBooleanButton id="entregasumultima" disabled="#{mipresBean.desactivarBotonUltimaEntrega}" value="#{mipresBean.mpEntregaSuministro.ultimaEntrega}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick">
                                    <p:ajax  update="panelSuministroRegistro" />
                                </p:selectBooleanButton>

                                <p:outputLabel value="Entrega Completa"  style="font-weight:bold"/>  
                                <p:selectBooleanButton id="entregacomplet" disabled="true" value="#{mipresBean.direccionamientoEntregado.entregaCompleta}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick">
                                </p:selectBooleanButton>

                                <p:outputLabel value="Causa No Entrega"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.causaNoEntrega}"/>

                                <p:outputLabel value="Numero De Prescripción Asociada"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.numeroPrescripcionAsociada}"/>

                                <p:outputLabel value="Consecutivo Tecnologia"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.consecutivo}"/>

                                <p:outputLabel value="Cantidad Entregada"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.cantidadEntrega}"/>

                                <p:outputLabel value="Numero Lote"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.numeroLote}"/>

                                <p:outputLabel value="Valor Entregado"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.mpEntregaSuministro.valorEntregado}">
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <f:facet name="footer">
                                    <p:row>
                                        <p:column colspan="6" style="text-align: center">                                   
                                            <p:commandButton value="Guardar" immediate="true" disabled="#{mipresBean.desactivarBotonGuardar}" action ="#{mipresBean.guardarSuministro(mipresBean.mpEntregaSuministro)}" style="margin-left: 5px;width: 100px"/>   
                                            <p:commandButton value="Anular" immediate="true" disabled="#{mipresBean.desactivarBotonAnular}" rendered="#{mipresBean.mpEntregaSuministro.idSuministro != null}" action ="#{mipresBean.anularSuministro(mipresBean.mpEntregaSuministro.id,mipresBean.mpEntregaSuministro.mpDireccionamientoEntregadoId.id)}" style="margin-left: 5px;width: 100px"/>                           
                                        </p:column>
                                    </p:row>
                                </f:facet>

                            </p:panelGrid>                        
                        </p:panel>

                        <p:panel rendered="#{mipresBean.mostrarPanelSuministroBotonera}" >
                            <p:panelGrid columns="2" 
                                         styleClass="ui-panelgrid-blank ui-fluid" 
                                         style="border:0px none; background-color:transparent;">

                                <p:column style="text-align: center; width: 50%;">
                                    <p:commandButton disabled="#{mipresBean.desactivarBotonCrear}" value="Crear Suministro" title="Crear Suministro" actionListener="#{mipresBean.crearSuministro(mipresBean.direccionamientoEntregado)}" icon=" ui-icon-clipboard"/> 
                                </p:column>

                                <p:column style="text-align: center; width: 50%;">
                                    <p:commandButton disabled="false" value="Cancelar" title="Cancelar" actionListener="#{mipresBean.cancelarSuministro()}" icon="ui-icon-arrow-4-diag"/> 
                                </p:column>

                            </p:panelGrid>                        
                        </p:panel>


                        <p:panelGrid id="panelCerrarSum" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerEntrega').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet> 
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Entrega suministros -->
            <p:dialog header="Reporte Suministros" widgetVar="dialogoVerEntregas" class="modal-no-scroll" appendTo="@(body)" modal="true" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemEntregas">
                        <p:panel header="Suministros" style="margin-bottom:10px;" toggleable="true">
                            <p:dataTable var="entrega" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOo"
                                         widgetVar="tablaWidgetDirecc" style="font-size:11px;"
                                         rowKey="#{entrega.id}">   
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Gestionar" actionListener="#{mipresBean.verEntregaSuministroD(entrega.id)}" icon="ui-icon-folder-collapsed" /> 
                                </p:column>
                                <p:column headerText="Transaccion" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.idTransaccion}"/>
                                </p:column> 
                                <p:column headerText="Id Reporte Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.idReporteEntrega}"/>
                                </p:column>  
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.numeroEntrega}"/>
                                </p:column>  
                                <p:column headerText="Entrega Completa" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.entregaCompleta ? 'si' : 'no'}"/>
                                </p:column>

                                <p:column headerText="Estado Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entrega.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel> 
                                </p:column>
                                <p:column headerText="Fecha Maxima Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.mpDireccionamientoId.fechaMaxEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel> 
                                </p:column>
                                <p:column headerText="Estado Reporte Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoReporteEntrega(entrega.estRepEntrega)}"/>
                                </p:column>
                                <p:column headerText="Ciclo Estado Suministro" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoReporteCiclo(entrega.estRepEntrega)}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrearEntrega" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerEntregas').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Confirmar Ultima Entrega -->
            <p:dialog header="Reportar Último Direccionamiento" widgetVar="dialogoUltimaEntrega" appendTo="@(body)" modal="true" width="400" closable="false">
                <p:scrollPanel mode="native">
                    <h:form id="frmRepoReposos">
                        <p:panel id="pSedes" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p style="margin-top: 0px; font-size: 14px; line-height: 1.6;">
                                Actualmente se encuentra enviando reporte al ministerio, de un direccionamiento, el cual no se encuentra marcado como último direccionamiento.
                            </p>
                        </p:panel>
                        <!-- Acciones -->
                        <p:panelGrid id="panelAccionesSedes" style="width:100%; margin: 10px 0;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center;">
                                        <p:commandButton value="Ajustar Último Direccionamiento" type="button" onclick="PF('dialogoUltimaEntrega').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver Entregas para factura -->
            <p:dialog header="Reporte Facturas" widgetVar="dialogoVerEntregasFacturadas" class="modal-no-scroll" appendTo="@(body)" modal="true" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemEntregasFacturadas">
                        <p:panel header="Entrega Facturas" style="margin-bottom:10px;" toggleable="true">
                            <p:dataTable var="entrega" value="#{mipresBean.listaDireccionamientosEntregados}"
                                         emptyMessage="No se encontraron registros" id="tablaRegistrosDTOo"
                                         widgetVar="tablaWidgetDirecc" style="font-size:11px;"
                                         rowKey="#{entrega.id}">   
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton title="Gestionar" actionListener="#{mipresBean.verFactura(entrega.id)}" icon="ui-icon-folder-collapsed" /> 
                                </p:column>
                                <p:column headerText="Transaccion" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.idTransaccion}"/>
                                </p:column> 
                                <p:column headerText="Id Reporte Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.idReporteEntrega}"/>
                                </p:column>  
                                <p:column headerText="Cantidad Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.cantidadEntrega}"/>
                                </p:column>                                                            
                                <p:column headerText="Número Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.numeroEntrega}"/>
                                </p:column>  
                                <p:column headerText="Entrega Completa" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.entregaCompleta ? 'si' : 'no'}"/>
                                </p:column>

                                <p:column headerText="Estado Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoEntre(entrega.estadoEntrega)}"/>
                                </p:column>
                                <p:column headerText="Fecha Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{entrega.fechaEntrega}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel> 
                                </p:column>
                                <p:column headerText="Estado Reporte Entrega" style="text-align: center;">
                                    <p:outputLabel value="#{mipresBean.validarEstadoReporteEntrega(entrega.estRepEntrega)}"/>
                                </p:column> 

                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelCrearEntrega" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerEntregasFacturadas').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Ver factura -->
            <p:dialog header="Gestion Facturación" widgetVar="dialogoVerEntregaFacturada" class="modal-no-scroll" appendTo="@(body)" modal="true"  height="100%" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmVerItemEntregaFacturada">
                        <p:panel header="Factura" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Estado"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.valorEstadoF(mipresBean.entregaFactura.estado)}"/>

                                <p:outputLabel value="Fecha Facturación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.fechaFacturacion}" />

                                <p:outputLabel value="Cufe" style="font-weight:bold" rendered="#{not empty mipresBean.entregaFactura.cufe}" />

                                <p:outputLabel 
                                    value="#{mipresBean.entregaFactura.cufe}" 
                                    rendered="#{not empty mipresBean.entregaFactura.cufe}" 
                                    style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 200px; display: inline-block;" 
                                    title="#{mipresBean.entregaFactura.cufe}" />

                                <p:outputLabel value="No Factura" style="font-weight:bold" rendered="#{not empty mipresBean.entregaFactura.noFactura}" />
                                <p:outputLabel value="#{mipresBean.entregaFactura.noFactura}" rendered="#{not empty mipresBean.entregaFactura.noFactura}" />

                                <p:outputLabel value="Id Facturación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.idFacturacion}" />

                                <p:outputLabel value="Transacción"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.idTransaccion}" />

                                <p:outputLabel value="Codigo Facturado"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.codigoFacturado}" />

                                <p:outputLabel value="Cantidad Unitaria" style="font-weight:bold" />
                                <p:outputLabel value="#{mipresBean.entregaFactura.cantUnitaria}">
                                    <f:convertNumber maxFractionDigits="0" />
                                </p:outputLabel>

                                <p:outputLabel value="Valor Unitario"  style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.entregaFactura.valorUnitario}" >
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <p:outputLabel value="Copago"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.copago}" >
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <p:outputLabel value="Cuota Moderadora"  style="font-weight:bold"/>                                 
                                <p:outputLabel value="#{mipresBean.entregaFactura.cuotaModeradora}" >
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <p:outputLabel value="Valor Total"  style="font-weight:bold"/>                                  
                                <p:outputLabel value="#{mipresBean.entregaFactura.valorTotal}" >
                                    <f:convertNumber pattern="$ #,###"/>
                                </p:outputLabel>

                                <p:outputLabel value="No Sub Entrega"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.noSubEntrega}" />  

                                <p:outputLabel value="Afecta Presupuesto Maximo"  style="font-weight:bold"/>  
                                <p:selectBooleanButton id="afectaPRes" value="#{mipresBean.entregaFactura.confirmaAfectaPresupuesto}" offLabel="No" onLabel="Sí" onIcon="ui-icon-check" offIcon="ui-icon-closethick">
                                    <p:ajax event="valueChange" listener="#{mipresBean.actualizarAfectaPresupuesto(mipresBean.entregaFactura.confirmaAfectaPresupuesto, mipresBean.entregaFactura.id)}" />

                                </p:selectBooleanButton>

                            </p:panelGrid>
                            <p:panelGrid columns="4" rendered="#{mipresBean.entregaFactura.confirmaCierreCiclo}"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;"> 

                                <p:outputLabel value="Id Dato Facturado"   style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.idCicloFacturacion}"/>

                                <p:outputLabel value="Tipo Comparador"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.obtenerTipoComparador(mipresBean.entregaFactura.confirmaTipoComparador)}" />

                                <p:outputLabel value="Cierre Ciclo" style="font-weight:bold" />
                                <p:outputLabel value="#{mipresBean.entregaFactura.confirmaCierreCiclo ? 'Sí' : 'No'}" />

                                <p:outputLabel value="Fecha Cierre Facturación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.confirmaFhCierreCiclo}" /> 

                                <p:outputLabel value="Fecha Envio Cierre Facturación"  style="font-weight:bold"/>                                   
                                <p:outputLabel value="#{mipresBean.entregaFactura.confirmaFecha}" /> 

                            </p:panelGrid>
                        </p:panel>                        

                        <p:panelGrid id="panelCerrarSum" style="width:99%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">                                   
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVerEntregaFacturada').hide()" immediate="true" style="margin-left: 5px;"/>
                                        <p:commandButton value="Cierre Ciclo Facturación" immediate="true" disabled="#{mipresBean.validarDesactivar(mipresBean.entregaFactura.estado)}" rendered="#{mipresBean.validarRender(mipresBean.entregaFactura.mpDireccionamientoEntregadoId.estRepEntrega)}" action ="#{mipresBean.cierreCiloFactura(mipresBean.entregaFactura.id,mipresBean.entregaFactura.mpDireccionamientoEntregadoId.id)}" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet> 
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

        </center>

        <h:form id="exit">            
            <p:remoteCommand name="cerrarModalGestionar" action="#{mipresBean.cerrarModalGestionar()}" />
        </h:form>

    </ui:define>    
</ui:composition>
