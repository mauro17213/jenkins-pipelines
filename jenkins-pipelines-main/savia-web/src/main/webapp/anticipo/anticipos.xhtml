<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR">

        <style>
            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }
            .ui-g > div {
                border: 1px solid #e5e2e2;
            }
            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }
        </style>
        <script type="text/javascript">
            function mayus(e) {
                e.value = e.value.toUpperCase();
            }
            ;
        </script>
        <script>
            //<![CDATA[
            function stop() {
                location.reload();
            }
            //]]>
        </script>
        <center>
            <!-- Listar -->
            <h:form id="frmAnticipos">
                <p:remoteCommand name="cerrarDialogoTecnologia" action="#{anticipoBean.cerrarDialogoTecnologia()}"/>
                <p:remoteCommand name="cerrarDialogoMedicamento" action="#{anticipoBean.cerrarDialogoMedicamento()}"/>
                <p:remoteCommand name="cerrarDialogoInsumo" action="#{anticipoBean.cerrarDialogoInsumo()}"/>
                <p:remoteCommand name="cerrarDialogoPaquete" action="#{anticipoBean.cerrarDialogoPaquete()}"/>
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{anticipoBean.cerrarDialogoDiagnostico()}"/>
                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{anticipoBean.modulo.descripcion}">#{anticipoBean.modulo.nombre}</span>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{anticipoBean.accionListar}" title="Refrescar" ajax="true" actionListener="#{anticipoBean.listar}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{anticipoBean.accionCrear}" title="Crear" actionListener="#{anticipoBean.crear}" icon="ui-icon-document"/>
                    </f:facet>
                </p:toolbar>
                <p:dataTable id="tablaRegistros" widgetVar="tablaWidget" var="obj" value="#{anticipoBean.lazyAnticipo}" rowKey="#{obj.id}"
                             rows="#{anticipoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" 
                             emptyMessage="No se encontraron registros">
                    <p:column style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="Acciones"/>
                        </f:facet>
                        <p:commandButton rendered="#{anticipoBean.accionVer}" title="Ver" actionListener="#{anticipoBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{anticipoBean.accionEditar and  anticipoBean.habilitarEditarPorEstado(obj.estado)}" title="Editar" actionListener="#{anticipoBean.editar(obj.id)}" icon="ui-icon-pencil"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional1}" title="Gestionar" actionListener="#{anticipoBean.ventanaGestionar(obj.id)}" icon="ui-icon-clipboard"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional2 and anticipoBean.habilitarDescargaAnticipoPorEstado(obj.estado)}" title="Descargar Anticipo" actionListener="#{anticipoBean.ventanaDescargaAnticipo(obj.id)}" icon="ui-icon-arrowthickstop-1-s"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional3 and anticipoBean.habilitarDevolverPorEstado(obj.estado)}" title="Devolver" actionListener="#{anticipoBean.ventanaDevolver(obj.id)}" icon="ui-icon-transferthick-e-w"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional4 and anticipoBean.habilitarAutorizarPorEstado(obj.estado)}" title="Autorizar" actionListener="#{anticipoBean.ventanaAutorizacion(obj.id)}" icon="ui-icon-circle-check"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional5 and anticipoBean.habilitarCancelarPorEstado(obj.estado)}" title="Cancelar" actionListener="#{anticipoBean.ventanaCancelar(obj.id)}" icon="ui-icon-cancel"/>
                        <p:commandButton rendered="#{anticipoBean.accionAdicional6 and anticipoBean.habilitarPagoPorEstado(obj.estado)}" title="Pago" actionListener="#{anticipoBean.ventanaPago(obj.id)}" icon="ui-icon-cart"/>
                    </p:column>
                    <p:column headerText="Número Anticipo" sortBy="#{obj.id}" filterBy="#{obj.id}" style="width: 50px;">
                        <f:facet name="filter">
                            <p:inputText label="Id" maxlength="128" style="width: 80%;" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.id}"/>
                    </p:column>
                    <p:column headerText="Tipo" filterBy="#{obj.tipo}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 80%;">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel=" Individual " itemValue="1" />
                                <f:selectItem itemLabel=" Paquete " itemValue="2" />
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.getTipoStr()}"/>
                    </p:column>
                    <p:column headerText="Estado" filterBy="#{obj.estado}" style="width: 55px; text-align: center">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 80%;">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel=" Pendiente Cotización " itemValue="1"/>
                                <f:selectItem itemLabel=" Con Cotizacion " itemValue="2"/>
                                <f:selectItem itemLabel=" Gestion Firmas " itemValue="3"/>
                                <f:selectItem itemLabel=" Autorizado " itemValue="4"/>
                                <f:selectItem itemLabel=" Gestion Tesorería " itemValue="5"/>
                                <f:selectItem itemLabel=" Pagado " itemValue="6"/>
                                <f:selectItem itemLabel=" Devuelto " itemValue="7"/>
                                <f:selectItem itemLabel=" Cancelado " itemValue="8"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.getEstadoStr()}" title="#{obj.getEstadoStr()}"/>
                    </p:column>
                    
                    <p:column headerText="Clase" filterBy="#{obj.maeClasificacionId}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 80%;">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{anticipoBean.listaClasificacion}" var="clase" itemValue="#{clase.id}" itemLabel="#{clase.nombre}" itemDescription="#{clase.descripcion}" />
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.maeClasificacionValor}"/>
                    </p:column>
                    
                    <p:column headerText="Prestador" filterBy="#{obj.cntPrestadoresId.razonSocial}">
                        <f:facet name="filter">
                            <p:inputText label="IPS" maxlength="64" style="width: 80%;" onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }"  onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.cntPrestadoresId.razonSocial}"/>
                    </p:column>
                    
                    <p:column headerText="Valor Cotizado" sortBy="#{obj.valorCotizado}" >
                        <h:outputText title="#{obj.valorCotizado}" value="#{obj.valorCotizado}" >
                           <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                        </h:outputText>
                    </p:column>
                    
                    <p:column headerText="Valor Pagado" sortBy="#{obj.valorPagado}" >
                        <h:outputText value="#{obj.valorPagado}" >
                           <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                        </h:outputText>
                    </p:column>
                    
                    <p:column headerText="Valor Disponible" sortBy="#{obj.valorDisponible}" >
                        <h:outputText value="#{obj.valorDisponible}" >
                           <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                        </h:outputText>
                    </p:column>
                    
                    <p:column headerText="F.H. Crea" sortBy="#{obj.fechaHoraCrea}">                        
                        <h:outputText value="#{obj.fechaHoraCrea}">
                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Responsable" filterBy="#{obj.usuarioCrea}" style="width: 10%;">
                        <f:facet name="filter">
                            <p:inputText label="Responsable" maxlength="64" style="width: 95%;" onkeypress="if (event.keyCode === 13) {
                                            onchange();
                                            return false;
                                        }" onchange="PF('tablaWidget').filter()"/>
                        </f:facet>
                        <h:outputText value="#{obj.usuarioCrea}" title="#{obj.usuarioCrea}"/>
                    </p:column>
                </p:dataTable>
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>

            <!-- Ver -->
            <p:dialog header="Ver" widgetVar="dialogoVer" appendTo="@(body)" modal="true" position="center" width="80%" height="80%" dynamic="true">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{anticipoBean.getAuditoria(anticipoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmVer">
                        <p:panel id="pAnticipoVer" header="INFORMACIÓN ANTICIPO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelVer">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Anticipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getTipoStr()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getEstadoStr()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getPbsStr()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Clase" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maeClasificacionValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solicitante" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.nombre}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solicitante Area" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.maeAreaValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solicitante Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.maeCargoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Valor Pagado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber  value="#{anticipoBean.objeto.valorPagado}" symbol="$" readonly="true"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Valor Disponible" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber  value="#{anticipoBean.objeto.valorDisponible}" symbol="$" readonly="true"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Compensación SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoCompensacionSap}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Contabilización SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoContabilizacionSap}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- observacion clasificacion -->
                        <p:panel id="pAnticipoObservacioClasificacionVer" header="OBSERVACIÓN CLASE" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoObservacioClasificacionVer">
                                <p:row>
                                    <p:column class="ui-g-12">
                                        <p:inputTextarea value="#{anticipoBean.objeto.clasificacionObservacion}" maxlength="2048" rows="5" style="width: 100%" readonly="true"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Afiliado -->
                        <p:panel id="pAfiliadoVer" header="AFILIADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAfiliadoVer" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeTipoDocumentoValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.numeroDocumento}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombres"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.nombres}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Apellidos"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.apellidos}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Fecha Nacimiento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.convertirFecha(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Edad"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="edadCrear" value="#{anticipoBean.calcularEdad(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Regimen"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeRegimenValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.direccionResidencia}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Genero" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeGeneroValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Estado" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeEstadoAfiliacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.email}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Prestador -->
                        <p:panel id="pPrestadorVer" header="PRESTADOR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelPrestadorVer">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.numeroDocumento}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Razón Social"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Departamento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerDepartamento(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Municipio"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerMunicipio(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.direccion}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Código Habilitación" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.codigoHabilitacionSede}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombre Sede" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.nombreSede}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- diagnotico -->
                        <p:panel id="pDiagnosticoAntcipoVer" header="DIAGNOSTICO" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelDiagnosticoAntcipoVer"> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Codigo" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoCodigo}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Diagnostico" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Justificación -->
                        <p:panel id="pAnticipoJustificacionVer" header="JUSTIFICACIÓN" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoJustificacionVer">
                                <p:row>
                                    <p:column class="ui-g-12">
                                        <p:inputTextarea value="#{anticipoBean.objeto.justificacion}" maxlength="2048" rows="5" readonly="true" style="width: 100%"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- cotizar -->
                        <p:panel id="pCotizacionVer" header="COTIZAR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCotizacionVer">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Valor Cotizado"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber  value="#{anticipoBean.objeto.valorCotizado}" symbol="$" readonly="true"/>
                                    </p:column>
                                     <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Aplica Retención" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.aplicaRetencionStr}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Retención Sugerida" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber value="#{anticipoBean.objeto.retencionSugerida}" symbol="%" symbolPosition="s" readonly="true"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Retención Aplicada" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber value="#{anticipoBean.objeto.retencionAplicada}" symbol="%" symbolPosition="s" readonly="true"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Item -->
                        <p:panel id="pItemVer" header="Item" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objU" value="#{anticipoBean.objeto.antAnticipoItemsList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosItemVer"
                                    widgetVar="listaItemVer"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objU.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" actionListener="#{anticipoBean.verItem(objU.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Tecnologia">
                                    <h:outputText value="#{objU.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia">
                                    <h:outputText value="#{objU.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnologia" sortBy="#{objU.maTecnologiaId}">
                                    <h:outputText value="#{objU.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Cantidad" sortBy="#{objU.cantidad}">
                                    <h:outputText value="#{objU.cantidad}"/>
                                </p:column>
                                <p:column headerText="Valor Cotizado">
                                    <h:outputText value="#{objU.valorTecnologiaCotizada}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column headerText="Valor Pagado">
                                    <h:outputText value="#{objU.valorTecnologiaPagada}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>  
                            </p:dataTable>
                        </p:panel>
                        <!-- gestiones -->
                        <p:panel id="pGestionVer" header="Gestiones" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objGV" value="#{anticipoBean.objeto.antAnticipoGestionesList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosGestionVer"
                                    widgetVar="listaGestionVer"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objGV.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verGestion(objGV.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Gestión">
                                    <h:outputText value="#{objGV.getTipoStr()}"/>
                                </p:column>
                                <p:column headerText="Estado">
                                    <h:outputText value="#{objGV.estadoStr}" />
                                </p:column>   
                                <p:column headerText="Descripción">
                                    <h:outputText value="#{objGV.descripcionCorto}" />
                                    <p:commandButton rendered="#{objGV.descripcionCorto.length() > 0 }" immediate="true" action="#{anticipoBean.mostrarMensaje(objGV.descripcion)}" icon="ui-icon-comment"/>
                                </p:column>   
                                <p:column headerText="Usuario"  >
                                    <h:outputText value="#{objGV.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objGV.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>  
                        <!-- Valor -->
                        <p:panel id="pValorVer" header="Valores" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objVV" value="#{anticipoBean.objeto.antAnticipoValoresList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosValorVer"
                                    widgetVar="listaValorVer"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objVV.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verVentanaValores(objVV.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVV.antAnticipoItemsId.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVV.antAnticipoItemsId.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVV.antAnticipoItemsId.maTecnologiaValor}"/>
                                </p:column> 
                                <p:column headerText="Devolución" style="text-align: center;">
                                    <h:outputText value="#{objVV.devolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Tipo Devolución" style="text-align: center;">
                                    <h:outputText value="#{objVV.tipoDevolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Valor" style="text-align: center; #{objVV.colorValorDevolucion()}">
                                    <h:outputText value="#{objVV.valor}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column> 
                                <p:column headerText="Usuario" style="text-align: center;">
                                    <h:outputText value="#{objVV.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga" style="text-align: center;">
                                    <h:outputText value="#{objVV.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel> 
                        <!-- Adjunto -->
                        <p:panel id="pAdjuntoVer" header="Adjuntos" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objAV" value="#{anticipoBean.objeto.antAnticipoAdjuntosList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaAnticipoAdjuntoVer"
                                    widgetVar="listaAdjuntoVer"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objAV.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     action="#{anticipoBean.descargarAnticipoAdjunto(objAV)}" 
                                                     ajax="false" 
                                                     process="@this"/> 
                                </p:column>
                                <p:column headerText="Tipo Archivo">
                                    <h:outputText value="#{objAV.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{objAV.nombre}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objAV.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>                  
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>                        
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Crear -->
            <p:dialog header="Crear" widgetVar="dialogoCrear" appendTo="@(body)" modal="true" width="80%" dynamic="true">
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmCrear">
                        <p:panel id="pAnticipoCrear" header="INFORMACIÓN" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCrear">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo" for="tipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="tipo" value="#{anticipoBean.objeto.tipo}" filter="true" required="true" requiredMessage="Tipo: Este campo es obligatorio" style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Individual" itemValue="1" />
                                            <f:selectItem itemLabel="Paquete" itemValue="2" />
                                            <p:ajax  listener="#{anticipoBean.limpiarCaposAfiliado()}" update="pAfiliadoCrear"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" for="pbs" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="pbs" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{anticipoBean.objeto.pbs}" required="true" requiredMessage="PBS: Este campo es obligatorio" />
                                    </p:column>
                                </p:row> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Clase" for="clase" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="clase" value="#{anticipoBean.objeto.maeClasificacionId}" filter="true" filterMatchMode="startsWith" required="true" requiredMessage="Clase: Este campo es obligatorio" style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                             <f:selectItems value="#{anticipoBean.listaClasificacion}" var="clas" itemValue="#{clas.id}" itemLabel="#{clas.nombre}" itemDescription="#{clas.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solicitante" for="solicitante" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="solicitante" label="Solicitante" editable="fase" value="#{anticipoBean.objeto.gnUsuariosId.id}" filter="true" filterMatchMode="contains" requiredMessage="Solicitante: Este campo es obligatorio." required="true" style="width: 90%">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{anticipoBean.listaUsuarios}" var="tipEst" itemValue="#{tipEst.id}" itemLabel="#{tipEst.nombre}" itemDescription="#{tipEst.nombre}"/>                                    
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel> 
                        <!-- observacion clasificacion -->
                        <p:panel id="pAnticipoObservacioClasificacionCrear" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoObservacioClasificacionCrear">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Observación Clase" for="anticipoObservacionClasificacion"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                         <p:inputTextarea id="anticipoObservacionClasificacion" value="#{anticipoBean.objeto.clasificacionObservacion}" maxlength="1000" rows="5" style="width: 100%" required="true" requiredMessage="Observación Clase: Este campo es obligatorio"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Afiliado -->
                        <p:panel id="pAfiliadoCrear" header="AFILIADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton id="btnCrearAfiliado" immediate="true" action="#{anticipoBean.consultarAfiliado()}" disabled="#{anticipoBean.eventoBloqueBotonAfiliado()}" icon="ui-icon-person" title="Agregar Afiliado"/>
                            </div>
                            <p:panelGrid id="panelAfiliadoCrear" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeTipoDocumentoValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.numeroDocumento}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombres"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.nombres}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Apellidos"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.apellidos}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Fecha Nacimiento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.convertirFecha(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Edad"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="edadCrear" value="#{anticipoBean.calcularEdad(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Regimen"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeRegimenValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.direccionResidencia}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Genero" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeGeneroValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Estado" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeEstadoAfiliacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.email}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Prestador -->
                        <p:panel id="pPrestadorCrear" header="PRESTADOR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{anticipoBean.consultarPrestador()}" icon="ui-icon-home" title="Agregar IPS"/>
                            </div>
                            <p:panelGrid id="panelPrestadorCrear">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.numeroDocumento}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Razón Social"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Departamento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerDepartamento(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Municipio"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerMunicipio(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.direccion}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Código Habilitación" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.codigoHabilitacionSede}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombre Sede" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.nombreSede}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- diagnotico -->
                        <p:panel id="pDiagnosticoAntcipoCrear" header="DIAGNOSTICO" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelDiagnosticoAntcipoCrear"> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:commandButton rendered="#{anticipoBean.accionListar}" immediate="true" action="#{anticipoBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Agregar Diagnostico" />
                                        <p:commandButton rendered="#{anticipoBean.objeto.maDiagnosticoId != null}" title="Borrar" immediate="true" action="#{anticipoBean.borrarDiagnostico()}" icon="ui-icon-trash" >
                                            <p:confirm header="Confirmación" message="¿Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                    </p:column>
                                    <p:column class="ui-g-2"> 
                                        <p:outputLabel value="Codigo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoCodigo}"/>
                                    </p:column>
                                    <p:column class="ui-g-2"> 
                                        <p:outputLabel value="Valor" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Justificación -->
                        <p:panel id="pAnticipoJustificacionCrear" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoJustificacionCrear">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Justificación" for="anticipoObservacion"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                         <p:inputTextarea id="anticipoObservacion" value="#{anticipoBean.objeto.justificacion}" maxlength="2000" rows="5" style="width: 100%" required="true" requiredMessage="Justificación: Este campo es obligatorio"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" onclick="guardarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarRemote" action ="#{anticipoBean.guardar}" update="frmCrear"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <!-- Editar -->
            <p:dialog header="Editar" widgetVar="dialogoEditar" appendTo="@(body)" modal="true" position="center" width="80%" height="80%" dynamic="true">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{anticipoBean.getAuditoria(anticipoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmEditar">
                        <p:panel id="pAAnticipoEditar" header="INFORMACIÓN ANTICIPO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelEditar">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Anticipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo" for="tipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="tipo" value="#{anticipoBean.objeto.tipo}" filter="true" required="true" requiredMessage="Tipo: Este campo es obligatorio" style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItem itemLabel="Individual" itemValue="1" />
                                            <f:selectItem itemLabel="Paquete" itemValue="2" />
                                            <p:ajax listener="#{anticipoBean.limpiarCaposAfiliado()}" update="pAfiliadoEditar"/>
                                        </p:selectOneMenu>
                                    </p:column> 
                                </p:row> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado" style="font-weight:bold"/>
                                    </p:column>
                                     <p:column class="ui-g-4">
                                         <p:outputLabel value="#{anticipoBean.objeto.estadoStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" for="pbs" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="pbs" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{anticipoBean.objeto.pbs}" required="true" requiredMessage="PBS: Este campo es obligatorio" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Clase" for="clase" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="clase" value="#{anticipoBean.objeto.maeClasificacionId}" filter="true" filterMatchMode="startsWith" required="true" requiredMessage="Clase: Este campo es obligatorio" style="width: 90%">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                             <f:selectItems value="#{anticipoBean.listaClasificacion}" var="clas" itemValue="#{clas.id}" itemLabel="#{clas.nombre}" itemDescription="#{clas.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Solicitante" for="solicitante" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="solicitante" label="Solicitante" editable="fase" value="#{anticipoBean.objeto.gnUsuariosId.id}" filter="true" filterMatchMode="contains" requiredMessage="Solicitante: Este campo es obligatorio." required="true" style="width: 90%">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{anticipoBean.listaUsuarios}" var="tipEst" itemValue="#{tipEst.id}" itemLabel="#{tipEst.nombre}" itemDescription="#{tipEst.nombre}"/>                                    
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Compensación SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoCompensacionSap}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Contabilización SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoContabilizacionSap}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- observacion clasificacion -->
                        <p:panel id="pAnticipoObservacioClasificacionEditar" header="OBSERVACIÓN CLASE" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoObservacioClasificacionEditar">
                                <p:row>
                                    <p:column class="ui-g-12">
                                        <p:inputTextarea value="#{anticipoBean.objeto.clasificacionObservacion}" maxlength="1000" rows="5" style="width: 100%" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Afiliado -->
                        <p:panel id="pAfiliadoEditar" header="AFILIADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton id="btnEditarAfiliado" immediate="true" action="#{anticipoBean.consultarAfiliado()}" disabled="#{anticipoBean.eventoBloqueBotonAfiliado()}" icon="ui-icon-person" title="Agregar Afiliado"/>
                            </div>
                            <p:panelGrid id="panelAfiliadoEditar" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeTipoDocumentoValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.numeroDocumento}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombres"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.nombres}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Apellidos"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.apellidos}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Fecha Nacimiento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.convertirFecha(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Edad"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="edadCrear" value="#{anticipoBean.calcularEdad(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Regimen"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeRegimenValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.direccionResidencia}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Genero" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeGeneroValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Estado" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeEstadoAfiliacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.email}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Prestador -->
                        <p:panel id="pPrestadorEditar" header="PRESTADOR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{anticipoBean.consultarPrestador()}" icon="ui-icon-home" title="Agregar IPS"/>
                            </div>
                            <p:panelGrid id="panelPrestadorEditar">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.numeroDocumento}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Razón Social"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Departamento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerDepartamento(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Municipio"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerMunicipio(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.direccion}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Código Habilitación" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.codigoHabilitacionSede}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombre Sede" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.nombreSede}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- diagnotico -->
                        <p:panel id="pDiagnosticoAntcipoEditar" header="DIAGNOSTICO" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelDiagnosticoAntcipoEditar"> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:commandButton rendered="#{anticipoBean.accionListar}" immediate="true" action="#{anticipoBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Cambiar Diagnostico" />
                                    </p:column>
                                    <p:column class="ui-g-2"> 
                                        <p:outputLabel value="Codigo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoCodigo}"/>
                                    </p:column>
                                    <p:column class="ui-g-2"> 
                                        <p:outputLabel value="Valor" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- justificacion -->
                        <p:panel id="pAnticipoObservacionEditar" header="JUSTIFICACIÓN" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoObservacionEditar">
                                <p:row>
                                    <p:column class="ui-g-12">
                                        <p:inputTextarea value="#{anticipoBean.objeto.justificacion}" maxlength="2000" rows="5" readonly="false" style="width: 100%"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- cotizar -->
                        <p:panel id="pCotizacionEditar" header="COTIZAR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCotizacionEditar">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Valor Cotizado" for="valorCotizado"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber id="valorCotizado" value="#{anticipoBean.objeto.valorCotizado}" minValue="1" symbol="$" readonly="true" required="false" requiredMessage="Valor Cotizado: Este campo es obligatorio"/>
                                    </p:column>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Aplica Retención" for="aplicaRetencion"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="aplicaRetencion" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{anticipoBean.objeto.aplicaRetencion}" required="false" requiredMessage="Aplica Retención: Este campo es obligatorio" disabled="true">
                                            <p:ajax event="change" listener="#{anticipoBean.metodoHabilitarCampoRetencionSugerida()}" update="retencionSugerida"/>
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Retención Sugerida" for="retencionSugerida"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber id="retencionSugerida" value="#{anticipoBean.objeto.retencionSugerida}" minValue="0" symbol="%" symbolPosition="s" readonly="true" required="false" requiredMessage="Retención Sugerida: Este campo es obligatorio" disabled="#{anticipoBean.objeto.habilitarRetecionSugerida}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Retención Aplicada" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber value="#{anticipoBean.objeto.retencionAplicada}" symbol="%" symbolPosition="s" readonly="true"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- item -->
                        <p:panel id="pItemEditar" header="Item" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objU" value="#{anticipoBean.objeto.antAnticipoItemsList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosItemEditar"
                                    widgetVar="listaItemEditar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objU.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton  title="Ver" actionListener="#{anticipoBean.verItemEditar(objU.id)}" icon="ui-icon-search"/>
                                    <p:commandButton rendered="#{anticipoBean.objeto.estado == 1}" immediate="true" title="editar" action="#{anticipoBean.editarItem(objU.id)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{anticipoBean.objeto.estado == 1}" title="Borrar" immediate="true" action="#{anticipoBean.ventanaBorrarItemEditar(objU)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="¿Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Tecnologia">
                                    <h:outputText value="#{objU.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia">
                                    <h:outputText value="#{objU.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnologia" sortBy="#{objU.maTecnologiaId}" >
                                    <h:outputText value="#{objU.maTecnologiaValor}"/>
                                </p:column>
                                <p:column headerText="Cantidad" sortBy="#{objU.cantidad}" >
                                    <h:outputText value="#{objU.cantidad}"/>
                                </p:column>
                                <p:column headerText="Valor Cotizado">
                                    <h:outputText value="#{objU.valorTecnologiaCotizada}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>  
                                <p:column headerText="Valor Pagado">
                                    <h:outputText value="#{objU.valorTecnologiaPagada}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column> 
                            </p:dataTable>
                        </p:panel> 
                        <!-- gestiones -->
                        <p:panel id="pGestionEditar" header="Gestiones" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objGE" value="#{anticipoBean.objeto.antAnticipoGestionesList}" paginator="true" rows="#{anticipoBean.tamanoPagina}" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosGestionEditar"
                                    widgetVar="listaGestionEditar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objGE.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verGestionEditar(objGE.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Gestión">
                                    <h:outputText value="#{objGE.getTipoStr()}"/>
                                </p:column>
                                 <p:column headerText="Estado">
                                    <h:outputText value="#{objGE.estadoStr}" />
                                </p:column>
                                <p:column headerText="Descripción">
                                    <h:outputText value="#{objGE.descripcionCorto}" />
                                    <p:commandButton rendered="#{objGE.descripcionCorto.length() > 0 }" immediate="true" action="#{anticipoBean.mostrarMensaje(objGE.descripcion)}" icon="ui-icon-comment"/>
                                </p:column>   
                                <p:column headerText="Usuario"  >
                                    <h:outputText value="#{objGE.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objGE.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>  
                        <!-- Valor -->
                        <p:panel id="pValorEditar" header="Valores" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objVE" value="#{anticipoBean.objeto.antAnticipoValoresList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosValorEditar"
                                    widgetVar="listaValorEditar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objVE.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verVentanaValoresEditar(objVE.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVE.antAnticipoItemsId.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVE.antAnticipoItemsId.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVE.antAnticipoItemsId.maTecnologiaValor}"/>
                                </p:column> 
                                <p:column headerText="Devolución" style="text-align: center;">
                                    <h:outputText value="#{objVE.devolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Tipo Devolución" style="text-align: center; ">
                                    <h:outputText value="#{objVE.tipoDevolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Valor" style="text-align: center; #{objVE.colorValorDevolucion()}">
                                    <h:outputText value="#{objVE.valor}" >
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column> 
                                <p:column headerText="Usuario" style="text-align: center;">
                                    <h:outputText value="#{objVE.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga" style="text-align: center;">
                                    <h:outputText value="#{objVE.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <!-- Adjunto -->
                        <p:panel id="pAdjuntoEditar" header="Adjuntos" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objAE" value="#{anticipoBean.objeto.antAnticipoAdjuntosList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaAnticipoAdjuntoEditar"
                                    widgetVar="listaAdjuntoEditar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objAE.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     action="#{anticipoBean.descargarAnticipoAdjunto(objAE)}" 
                                                     ajax="false" 
                                                     process="@this"/> 
                                </p:column>
                                <p:column headerText="Tipo Archivo">
                                    <h:outputText value="#{objAE.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{objAE.nombre}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objAE.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>                  
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <p:commandButton value="Modificar" type="button" onclick="modificarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="modificarRemote" action="#{anticipoBean.modificar}" update="frmEditar" />
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            
            <!-- Gestionar -->
            <p:dialog header="Gestionar" widgetVar="dialogoGestionar" appendTo="@(body)" modal="true" position="center" width="80%" height="80%" dynamic="true" >
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{anticipoBean.getAuditoria(anticipoBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <p:scrollPanel mode="native" style="height:500px">
                    <h:form id="frmGestionar">
                        <p:panel id="pAnticipoGestionar" header="INFORMACIÓN ANTICIPO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelGestionar">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Anticipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getTipoStr()}"/>
                                    </p:column>
                                  
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Estado" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getEstadoStr()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="PBS" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.getPbsStr()}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Clase" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maeClasificacionValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.nombre}"/>
                                    </p:column>
                                     
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Area" style="font-weight:bold"/>
                                     </p:column>
                                     <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.maeAreaValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.gnUsuariosId.maeCargoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Compensación SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoCompensacionSap}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Contabilización SAP" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.codigoContabilizacionSap}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- observacion clasificacion -->
                        <p:panel id="pAnticipoObservacioClasificacionGestionar" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoObservacioClasificacionGestionar">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Observación Clase"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea value="#{anticipoBean.objeto.clasificacionObservacion}" maxlength="1000" rows="5" style="width: 100%" readonly="true"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Afiliado -->
                        <p:panel id="pAfiliadoGestionar" header="AFILIADO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAfiliadoGestionar" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeTipoDocumentoValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.numeroDocumento}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombres"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.nombres}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Apellidos"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.apellidos}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Fecha Nacimiento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.convertirFecha(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Edad"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="edadCrear" value="#{anticipoBean.calcularEdad(anticipoBean.objeto.asegAfiliadosId.fechaNacimiento)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Regimen"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeRegimenValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.direccionResidencia}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Genero" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeGeneroValor}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Estado" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeEstadoAfiliacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.email}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Prestador -->
                        <p:panel id="pPrestadorGestionar" header="PRESTADOR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <div align="right"> 
                                <p:commandButton rendered="#{anticipoBean.objeto.cntPrestadorSedesId == null and anticipoBean.habilitarGestionarPorEstado(anticipoBean.objeto.estado)}" immediate="true" action="#{anticipoBean.consultarPrestador()}" icon="ui-icon-home" title="Agregar IPS"/>
                            </div>
                            <p:panelGrid id="panelPrestadorGestionar">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Tipo Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.maeTipoDocumentoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Número Documento" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.numeroDocumento}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Razón Social"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.cntPrestador.razonSocial}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Departamento"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerDepartamento(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Municipio"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.obtenerMunicipio(anticipoBean.objeto.cntPrestadorSedesId.ubicacionId)}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Dirección" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.direccion}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Código Habilitación" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.codigoHabilitacionSede}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Nombre Sede" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.cntPrestadorSedesId.nombreSede}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- diagnotico -->
                        <p:panel id="pDiagnosticoAntcipoGestionar" header="DIAGNOSTICO" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelDiagnosticoAntcipoGestionar"> 
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Codigo" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoCodigo}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel style="font-weight:bold" value="Diagnostico" />
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objeto.maDiagnosticoValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- Justificación -->
                        <p:panel id="pAnticipoJustificacionGestionar" header="JUSTIFICACIÓN" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAnticipoJustificacionGestionar">
                                <p:row>
                                    <p:column class="ui-g-12">
                                        <p:inputTextarea value="#{anticipoBean.objeto.justificacion}" maxlength="2000" rows="5" readonly="true" style="width: 100%"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- cotizar -->
                        <p:panel id="pCotizacionGestionar" header="COTIZAR" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelCotizacionGestionar">
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Valor Cotizado" for="valorCotizado"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber id="valorCotizado" value="#{anticipoBean.objeto.valorCotizado}" minValue="1" symbol="$" required="true" requiredMessage="Valor Cotizado: Este campo es obligatorio" style="width: 50px"/>
                                    </p:column>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Aplica Retención" for="aplicaRetencion"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectBooleanButton id="aplicaRetencion" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{anticipoBean.objeto.aplicaRetencion}" required="false" requiredMessage="Aplica Retención: Este campo es obligatorio" >
                                            <p:ajax event="change" listener="#{anticipoBean.metodoHabilitarCampoRetencionSugerida()}" update="retencionSugerida"/>
                                        </p:selectBooleanButton>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">   
                                        <p:outputLabel style="font-weight:bold" value="Retención Sugerida" for="retencionSugerida"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber id="retencionSugerida" value="#{anticipoBean.objeto.retencionSugerida}" minValue="0" symbol="%" symbolPosition="s" required="true" requiredMessage="Retención Sugerida: Este campo es obligatorio" style="width: 50px" disabled="#{anticipoBean.objeto.habilitarRetecionSugerida}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Retención Aplicada" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber value="#{anticipoBean.objeto.retencionAplicada}" symbol="%" symbolPosition="s" readonly="true" style="width: 50px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- item -->
                        <p:panel id="pItemGestionar" header="Item" style="margin-bottom:10px;"  toggleable="true">
                            <div align="right"> 
                                <p:commandButton rendered="#{anticipoBean.habilitarGestionarPorEstado(anticipoBean.objeto.estado)}" immediate="true" action="#{anticipoBean.ventanaItem()}" icon="ui-icon-clipboard" title="Agregar Item"/>
                            </div>
                            <p:dataTable var="objU" value="#{anticipoBean.objeto.antAnticipoItemsList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosItemGestionar"
                                    widgetVar="listaItemGestionar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objU.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton immediate="true" title="Ver" action="#{anticipoBean.verItemGestionar(objU.id)}" icon="ui-icon-search"/>  
                                    <p:commandButton rendered="#{anticipoBean.habilitarGestionarPorEstado(anticipoBean.objeto.estado)}" immediate="true" title="editar" action="#{anticipoBean.editarItemGestionar(objU.id)}" icon="ui-icon-pencil"/>
                                    <p:commandButton rendered="#{anticipoBean.habilitarGestionarPorEstado(anticipoBean.objeto.estado)}" title="Borrar" immediate="true" action="#{anticipoBean.ventanaBorrarItem(objU)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="¿Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </p:column>
                                <p:column headerText="Tipo Tecnologia" >
                                    <h:outputText value="#{objU.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia">
                                    <h:outputText value="#{objU.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnología">
                                    <h:outputText value="#{objU.maTecnologiaValor}"/>
                                </p:column>
                                 <p:column headerText="Cantidad">
                                    <h:outputText value="#{objU.cantidad}"/>
                                </p:column>
                                <p:column headerText="Valor Cotizado">
                                    <h:outputText value="#{objU.valorTecnologiaCotizada}" >
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column headerText="Valor Pagado">
                                    <h:outputText value="#{objU.valorTecnologiaPagada}" >
                                            <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column> 
                            </p:dataTable>
                        </p:panel>
                        <!-- gestiones -->
                        <p:panel id="pGestionGestionar" header="Gestiones" style="margin-bottom:10px;"  toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{anticipoBean.ventanaGestion()}" icon="ui-icon-plusthick" title="Agregar Gestiones"/>
                            </div>
                            <p:dataTable var="objG" value="#{anticipoBean.objeto.antAnticipoGestionesList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosGestionGestionar"
                                    widgetVar="listaGestionGestionar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objG.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verGestionGestionar(objG.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Gestión" >
                                    <h:outputText value="#{objG.getTipoStr()}"/>
                                </p:column>
                                 <p:column headerText="Estado">
                                    <h:outputText value="#{objG.estadoStr}" />
                                </p:column>
                                <p:column headerText="Descripción">
                                    <h:outputText value="#{objG.descripcionCorto}" />
                                    <p:commandButton rendered="#{objG.descripcionCorto.length() > 0 }" immediate="true" action="#{anticipoBean.mostrarMensaje(objG.descripcion)}" icon="ui-icon-comment"/>
                                </p:column>   
                                <p:column headerText="Usuario"  >
                                    <h:outputText value="#{objG.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objG.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>    
                        <!-- Valor -->
                        <p:panel id="pValorGestionar" header="Valores" style="margin-bottom:10px;"  toggleable="true">
                            <p:dataTable var="objVG" value="#{anticipoBean.objeto.antAnticipoValoresList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistrosValorGestionar"
                                    widgetVar="listaValorGestionar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objVG.id}" reflow="true">
                                <p:column style="text-align: center;">
                                        <f:facet name="header">
                                            <h:outputText value="Acciones"/>
                                        </f:facet>
                                        <p:commandButton  title="Ver" immediate="true" action="#{anticipoBean.verVentanaValoresGestionar(objVG.id)}" icon="ui-icon-search"/>  
                                </p:column>
                                <p:column headerText="Tipo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVG.antAnticipoItemsId.tipoTecnologiaStr}"/>
                                </p:column>
                                <p:column headerText="Codigo Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVG.antAnticipoItemsId.maTecnologiaCodigo}"/>
                                </p:column>
                                <p:column headerText="Tecnologia" style="text-align: center;">
                                    <h:outputText value="#{objVG.antAnticipoItemsId.maTecnologiaValor}"/>
                                </p:column> 
                                <p:column headerText="Devolución" style="text-align: center;">
                                    <h:outputText value="#{objVG.devolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Tipo Devolución" style="text-align: center;">
                                    <h:outputText value="#{objVG.tipoDevolucionStr}"/>
                                </p:column> 
                                <p:column headerText="Valor">
                                    <h:outputText value="#{objVG.valor}" style="text-align: center; #{objVG.colorValorDevolucion()}">
                                        <f:convertNumber locale="es_CO" currencySymbol="$" type="currency" maxFractionDigits="4"/>
                                    </h:outputText>
                                </p:column> 
                                <p:column headerText="Usuario" style="text-align: center;">
                                    <h:outputText value="#{objVG.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Carga" style="text-align: center;">
                                    <h:outputText value="#{objVG.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <!-- Adjunto -->
                        <p:panel id="pAdjuntoGestionar" header="Adjuntos" style="margin-bottom:10px;"  toggleable="true">
                            <div align="right"> 
                                <p:commandButton rendered="#{anticipoBean.accionAdicional1 and anticipoBean.habilitarGestionarPorEstadoAdjunto(anticipoBean.objeto.estado)}" immediate="true" action="#{anticipoBean.ventanaAdjunto()}" icon="ui-icon-folder-open" title="Agregar Adjunto"/>
                            </div>
                            <p:dataTable var="objA" value="#{anticipoBean.objeto.antAnticipoAdjuntosList}" paginator="true" rows="5" 
                                    emptyMessage="No se encontraron registros"
                                    currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                    rowsPerPageTemplate="5,10,30,50,100" id="tablaAnticipoAdjuntoGestionar"
                                    widgetVar="listaAdjuntoGestionar"
                                    style="font-size:11px;"
                                    scrollable="true"
                                    rowKey="#{objA.id}" reflow="true">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     action="#{anticipoBean.descargarAnticipoAdjunto(objA)}" 
                                                     ajax="false" 
                                                     process="@this"/> 
                                </p:column>
                                <p:column headerText="Tipo Archivo">
                                    <h:outputText value="#{objA.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{objA.nombre}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{objA.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>                  
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Gestionar" type="button" rendered="#{anticipoBean.objeto.habilitarGestionar}" onclick="guardarGestionarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarGestionarRemote" action="#{anticipoBean.guardarGestionar}" update="frmGestionar" />
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoGestionar').hide()" immediate="true"/>
                                    </p:column>
                                </p:row>
                            </f:facet>                        
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--Lista Afiliados Crear-->
            <p:dialog header="Consultar Afiliados" widgetVar="dialogoAfiliadoLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" >
                <p:scrollPanel mode="native" style="max-height: 520px; padding-bottom: 0px !important;">
                    <h:form id="frmAfiliadoLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{anticipoBean.refrescarAfiliado()}" oncomplete="PF('tablaWidgetAfiliado').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelAfiliadoLista" columns="1" style="height:auto;">
                            <p:dataTable id="tablaRegistrosAfiliados" widgetVar="tablaWidgetAfiliado" var="afiliado" value="#{anticipoBean.lazyAfiliados}" rowKey="#{afiliado.id}"
                                         rows="#{anticipoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{anticipoBean.onRowSelectAfiliado}" />
                                <p:column headerText="Tipo Documento" sortBy="#{afiliado.maeTipoDocumento}" filterBy="#{afiliado.maeTipoDocumento}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetAfiliado').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaTipoDocumentoPersona}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Número Documento" sortBy="#{afiliado.numeroDocumento}" filterBy="#{afiliado.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Número Documento" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Código Único" sortBy="#{afiliado.idAfiliado}" filterBy="#{afiliado.idAfiliado}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Único" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.idAfiliado}"/>
                                </p:column>
                                <p:column headerText="Primer Nombre" sortBy="#{afiliado.primerNombre}" filterBy="#{afiliado.primerNombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Primer nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.primerNombre}"/>
                                </p:column>
                                <p:column headerText="Segundo Nombre" sortBy="#{afiliado.segundoNombre}" filterBy="#{afiliado.segundoNombre}">
                                    <f:facet name="filter">
                                        <p:inputText label="Segundo nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.segundoNombre}"/>
                                </p:column>
                                <p:column headerText="Primer Apellido" sortBy="#{afiliado.primerApellido}" filterBy="#{afiliado.primerApellido}">
                                    <f:facet name="filter">
                                        <p:inputText label="Primer Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.primerApellido}"/>
                                </p:column>
                                <p:column headerText="Segundo Apellido" sortBy="#{afiliado.segundoApellido}" filterBy="#{afiliado.segundoApellido}">
                                    <f:facet name="filter">
                                        <p:inputText label="Segundo Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetAfiliado').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.segundoApellido}"/>
                                </p:column>
                                <p:column headerText="Genero" sortBy="#{afiliado.genero}" filterBy="#{afiliado.genero}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetAfiliado').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaGeneroAfiliado}" var="tipoGe" itemValue="#{tipoGe.id}" itemLabel="#{tipoGe.nombre}" itemDescription="#{tipoGe.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.maeGeneroValor}"/>
                                </p:column>
                                <p:column headerText="Estado" sortBy="#{afiliado.maeEstadoAfiliacion}" filterBy="#{afiliado.maeEstadoAfiliacion}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetAfiliado').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaEstadosAfiliado}" var="tipoAfi" itemValue="#{tipoAfi.id}" itemLabel="#{tipoAfi.nombre}" itemDescription="#{tipoAfi.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.maeEstadoAfiliacionValor}"/>
                                </p:column>
                                <p:column headerText="Regimen" sortBy="#{afiliado.maeRegimenValor}" filterBy="#{afiliado.maeRegimenId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetAfiliado').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaRegimenAfiliado}" var="regimen" itemValue="#{regimen.id}" itemLabel="#{regimen.nombre}" itemDescription="#{regimen.descripcion}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{afiliado.maeRegimenValor}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
             <!--Lista Sedes-->
            <p:dialog header="Consultar Ips" widgetVar="dialogoIpsLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <p:scrollPanel mode="native" style="max-height: 520px; padding-bottom: 0px !important;" >
                    <h:form id="frmIpsLista">
                        <div align="right">
                            <p:commandButton rendered="#{anticipoBean.accionListar}" title="Refrescar" actionListener="#{anticipoBean.refrescarPrestador()}" oncomplete="PF('tablaWidgetIps').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelIpsLista" style="height:auto;" columns="1">
                            <p:dataTable id="tablaRegistrosIps" widgetVar="tablaWidgetIps" var="objPrestador" value="#{anticipoBean.lazyPrestadores}" rowKey="#{objPrestador.id}"
                                         rows="#{anticipoBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{anticipoBean.onRowSelectPrestador}"/>
                                <p:column headerText="Código Habilitación" filterBy="#{objPrestador.codigoHabilitacionSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Tipo Documento" filterBy="#{objPrestador.cntPrestador.maeTipoDocumentoId}" style="width: 20%;">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetIps').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaTipoDocumentoEmpresa}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.cntPrestador.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Número Documento" filterBy="#{objPrestador.cntPrestador.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Número Documento" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Razón Social" filterBy="#{objPrestador.cntPrestador.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.cntPrestador.razonSocial}"/>
                                </p:column>                                    
                                <p:column headerText="Nombre Sede" filterBy="#{objPrestador.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Nombre Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Departamento">
                                    <h:outputText value="#{anticipoBean.obtenerDepartamento(objPrestador.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Municipio" filterBy="#{objPrestador.ubicacion.id}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetIps').filter()" style="width: 95%;">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{anticipoBean.listaCiudades}" var="tipoUbi" itemValue="#{tipoUbi.id}" itemLabel="#{tipoUbi.descripcion}" itemDescription="#{tipoUbi.descripcion}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{anticipoBean.obtenerMunicipio(objPrestador.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Dirección">
                                    <f:facet name="filter">
                                        <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetIps').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objPrestador.direccion}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- descripciones genericas -->
            <p:dialog header="Descripción" widgetVar="dlgMsg" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmObservacion">
                        <p:panelGrid id="panelObservacion">
                            <p:row>
                                <p:column class="ui-g-12">   
                                    <p:inputTextarea  value="#{anticipoBean.descripcionGenerica}" readonly="true" style="width: 100%"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- agregar gestion descripciones -->
            <p:dialog header="Gestiones" widgetVar="dlgGestionObservacion" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmGestionObservacion">
                        <p:panelGrid id="panelGestionObservacion" columns="1" layout="grid" styleClass="showcase-text-align-center">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Observación" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:inputTextarea value="#{anticipoBean.antAnticipoGestion.descripcion}" maxlength="2048" rows="5" style="width: 100%"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Guardar" type="button" onclick="guardarGestionDescripcionRemote()" validateClient="true"/>
                                            <p:remoteCommand name="guardarGestionDescripcionRemote" action ="#{anticipoBean.guardarGestion}" update="frmGestionObservacion"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgGestionObservacion').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- gestion descripciones -->
            <p:dialog header="Ver Gestiones" widgetVar="dlgVerGestiones" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmVerGestiones">
                        <p:panelGrid id="panelVerGestiones">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tipo" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:outputLabel value="#{anticipoBean.antAnticipoGestion.getTipoStr()}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Estado" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:outputLabel value="#{anticipoBean.antAnticipoGestion.estadoStr}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Observación" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:inputTextarea value="#{anticipoBean.antAnticipoGestion.descripcion}" maxlength="2048" rows="5" readonly="true" style="width: 100%"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgVerGestiones').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- agregar item -->
            <p:dialog header="Item" widgetVar="dlgItemGestionar" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmItemGestionar">
                        <p:panelGrid id="panelItemGestionar">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Prescripciones" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarTecnologia()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                                </p:column>
                            </p:row>
                            <p:row id="grupoTecnologia">
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tipo Tecnologia" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTipoTecnologia" value="#{anticipoBean.objetoItem.tipoTecnologiaStr}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Tecnología" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTecnologiaCodigo"  value="#{anticipoBean.objetoItem.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Medicamento" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idMaMedicamentoCodigo"  value="#{anticipoBean.objetoItem.maMedicamentoCodigo}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tecnología" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:outputLabel id="idTecnologiaValor" value="#{anticipoBean.objetoItem.maTecnologiaValor}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Valor Tecnología" for="valorTecnologia"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="valorTecnologia" value="#{anticipoBean.objetoItem.valorTecnologiaCotizada}" minValue="1" symbol="$" required="true" requiredMessage="Valor Tecnología: Este campo es obligatorio" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Cantidad" for="cantidad"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="cantidad" value="#{anticipoBean.objetoItem.cantidad}" minValue="1" required="true" requiredMessage="Cantidad: Este campo es obligatorio" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Guardar" type="button" onclick="guardarItemGestionar()" validateClient="true"/>
                                            <p:remoteCommand name="guardarItemGestionar" action ="#{anticipoBean.guardarItem}" update="frmItemGestionar"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgItemGestionar').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- ver Item -->
            <p:dialog header="Item" widgetVar="dlgItemVer" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmItemVer">
                        <p:panelGrid id="panelItemVer">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tipo Tecnologia" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:outputLabel id="idTipoTecnologia" value="#{anticipoBean.objetoItem.tipoTecnologiaStr}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Tecnología" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:outputLabel id="idTecnologiaCodigo"  value="#{anticipoBean.objetoItem.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Medicamento" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:outputLabel value="#{anticipoBean.objetoItem.maMedicamentoCodigo}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tecnología" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:outputLabel value="#{anticipoBean.objetoItem.maTecnologiaValor}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Valor Tecnología" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber  value="#{anticipoBean.objetoItem.valorTecnologiaCotizada}" symbol="$" readonly="true" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Cantidad" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber  value="#{anticipoBean.objetoItem.cantidad}" readonly="true" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Valor Tecnología Pagada" />
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber  value="#{anticipoBean.objetoItem.valorTecnologiaPagada}" symbol="$" readonly="true" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgItemVer').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- editar item gestionar-->
            <p:dialog header="Item" widgetVar="dlgEditarItemGestionar" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmEditarItemGestionar">
                        <p:panelGrid id="panelEditarItemGestionar">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Prescripciones" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarTecnologia()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                                </p:column>
                            </p:row>
                            <p:row id="grupoTecnologia">
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tipo Tecnologia" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTipoTecnologia" value="#{anticipoBean.objetoItem.tipoTecnologiaStr}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Tecnología" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTecnologiaCodigo"  value="#{anticipoBean.objetoItem.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Medicamento" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idMaMedicamentoCodigo"  value="#{anticipoBean.objetoItem.maMedicamentoCodigo}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tecnología" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:outputLabel id="idTecnologiaValor" value="#{anticipoBean.objetoItem.maTecnologiaValor}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Valor Tecnología" for="valorTecnologia"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="valorTecnologia" value="#{anticipoBean.objetoItem.valorTecnologiaCotizada}" minValue="1" symbol="$"  required="true" requiredMessage="Valor Tecnología: Este campo es obligatorio" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Cantidad" for="cantidad"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="cantidad" value="#{anticipoBean.objetoItem.cantidad}" minValue="1" required="true" requiredMessage="Cantidad: Este campo es obligatorio" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Modificar" type="button" onclick="guardarEditarItemGestionar()" validateClient="true"/>
                                            <p:remoteCommand name="guardarEditarItemGestionar" action ="#{anticipoBean.modificarItemGestionar}" update="frmEditarItemGestionar"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgEditarItemGestionar').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- editar item -->
            <p:dialog header="Item" widgetVar="dlgEditarItem" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:200px">
                    <h:form id="frmEditarItem">
                        <p:panelGrid id="panelEditarItem">
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Prescripciones" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarTecnologia()}" icon="ui-icon-clipboard" title="Agregar Procedimiento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarMedicamento()}" icon="ui-icon-heart" title="Agregar Medicamento"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarInsumo()}" icon="ui-icon-tag" title="Agregar Insumo"/>
                                    <p:commandButton immediate="true" action="#{anticipoBean.consultarPaquete()}" icon="ui-icon-cart" title="Agregar Paquete"/>
                                </p:column>
                            </p:row>
                            <p:row id="grupoTecnologia">
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tipo Tecnologia" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTipoTecnologia" value="#{anticipoBean.objetoItem.tipoTecnologiaStr}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Tecnología" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idTecnologiaCodigo"  value="#{anticipoBean.objetoItem.maTecnologiaCodigo}" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Codigo Medicamento" />
                                </p:column>
                                <p:column class="ui-g-2"> 
                                    <p:outputLabel id="idMaMedicamentoCodigo"  value="#{anticipoBean.objetoItem.maMedicamentoCodigo}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Tecnología" />
                                </p:column>
                                <p:column class="ui-g-10"> 
                                    <p:outputLabel id="idTecnologiaValor" value="#{anticipoBean.objetoItem.maTecnologiaValor}" />
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Valor Tecnología" for="valorTecnologia"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="valorTecnologia" value="#{anticipoBean.objetoItem.valorTecnologiaCotizada}" minValue="1" symbol="$" required="true" requiredMessage="Valor Tecnología: Este campo es obligatorio" />
                                </p:column>
                                <p:column class="ui-g-2">   
                                    <p:outputLabel style="font-weight:bold" value="Cantidad" for="cantidad"/>
                                </p:column>
                                <p:column class="ui-g-4"> 
                                    <p:inputNumber id="cantidad" value="#{anticipoBean.objetoItem.cantidad}" minValue="1" required="true" requiredMessage="Cantidad: Este campo es obligatorio" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Modificar" type="button" onclick="guardarEditarItem()" validateClient="true"/>
                                            <p:remoteCommand name="guardarEditarItem" action ="#{anticipoBean.modificarItem}" update="frmEditarItem"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgEditarItem').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- agregar Adjuntos anticipos -->
            <p:dialog  widgetVar="dialogoAdjuntos"  appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Adjuntos</b>
                </header>
                <h:form id="frmAuditoriaAdjuntoProgramas" class="frmAuditoria" style="margin-top: -15px; margin-bottom: 15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{anticipoBean.objeto.asegAfiliadosId.datosAuditoria}"/>
                    <p:commandButton id="btnauditoria" class="btnAuditoria" action="#{anticipoBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height:400px;" >
                    <h:form id="frmAdjunto">
                        <p:panel id="pnlSubir" header="Datos afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAdjuntos" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo" style="font-weight:bold"/> 
                                <p:selectOneMenu id="somTipo" value="#{anticipoBean.objectoAdjunto.maeTipoArchivoId}" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{0}" noSelectionOption="true" />
                                    <f:selectItems value="#{anticipoBean.listaTiposAdjuntos}" var ="tiad" itemLabel="#{tiad.descripcionCorta}" itemValue="#{tiad.id}"/>
                                    <p:ajax event="change" update="somTipo"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Archivo" for="adjuntoArchivo" style="font-weight:bold"/> 
                                <p:fileUpload id="adjuntoArchivo" label="Adjunto" mode="advanced"
                                              skinSimple="true"
                                              value="#{anticipoBean.archivoAdjunto}"
                                              listener="#{anticipoBean.cargarArchivoDocumento}"
                                              multiple="false"
                                              auto="true"                                              
                                              invalidFileMessage="Tipo inválido de archivo"
                                              fileLimitMessage="Máximo número de archivos excedido."
                                              uploadLabel="Subir"  cancelLabel="Cancelar"
                                              allowTypes="/(\.|\/)(pdf|PDF)$/"
                                              widgetVar="subirManual" />                                    

                            </p:panelGrid>
                            <br/>
                            <p:dataTable var="adj" widgetVar="tablaArchivo" value="#{anticipoBean.listaAntAdjuntos}">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-closethick" title="Borrar Adjunto" action="#{anticipoBean.borrarAnticiposAdjunto(adj.nombre)}"/>
                        
                                </p:column>
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlAdjuntosEx" header="Adjuntos" style="margin-bottom:10px;" toggleable="true">
                            <br/>
                            <p:dataTable var="adj" widgetVar="tablaArchivo" value="#{anticipoBean.objeto.antAnticipoAdjuntosList}">
                                <p:column style="text-align: center;">
                                    <p:commandButton icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto" 
                                                     action="#{anticipoBean.descargarAnticipoAdjunto(adj)}" 
                                                     ajax="false" 
                                                     process="@this"/>
                                </p:column>
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                                <p:column headerText="Usuario Crea">
                                    <h:outputText value="#{adj.usuarioCrea}" />
                                </p:column>
                                <p:column headerText="Fecha Hora Carga">
                                    <h:outputText value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid id="panelCrearAdjuntar" style="width: 100%;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Guardar" type="button" onclick="GuardarAdjuntoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="GuardarAdjuntoRemote" action="#{anticipoBean.guardarAnticipoAdjunto()}" />
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAdjuntos').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>                
            </p:dialog>
            <!-- agregar Adjuntos autorizar anticipos -->
            <p:dialog  widgetVar="dialogoAutorizarAdjuntos"  appendTo="@(body)" modal="true"  width="90%" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Autorizar</b>
                </header>
                <h:form id="frmAuditoriaAutorizarAdjunto" class="frmAuditoria" style="margin-top: -15px; margin-bottom: 15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{anticipoBean.objeto.asegAfiliadosId.datosAuditoria}"/>
                    <p:commandButton id="btnauditoria" class="btnAuditoria" action="#{anticipoBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="height:400px;" >
                    <h:form id="frmAutorizarAdjunto">
                        <p:panel id="pAutorizarObservacion" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelAutorizarObservacion">
                                <p:row>
                                    <p:column class="ui-g-2">
                                       <p:outputLabel style="font-weight:bold" value="Observación" for="observacionAutorizar"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="observacionAutorizar" value="#{anticipoBean.objeto.observacionAutorizar}" maxlength="2048" rows="5" style="width: 100%" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlSubir" header="Datos afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAutorizarAdjuntos" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:outputLabel value="Tipo" style="font-weight:bold"/> 
                                <p:selectOneMenu id="somTipo" value="#{anticipoBean.objectoAdjunto.maeTipoArchivoId}" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{0}" noSelectionOption="true" />
                                    <f:selectItems value="#{anticipoBean.listaTiposAutorizarAdjuntos}" var ="tiad" itemLabel="#{tiad.descripcionCorta}" itemValue="#{tiad.id}"/>
                                    <p:ajax event="change" update="somTipo"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Archivo" for="adjuntoArchivo" style="font-weight:bold"/> 
                                <p:fileUpload id="adjuntoArchivo" label="Adjunto" mode="advanced"
                                              skinSimple="true"
                                              value="#{anticipoBean.archivoAutorizarAdjunto}"
                                              listener="#{anticipoBean.cargarAutorizarArchivoDocumento}"
                                              multiple="false"
                                              auto="true"                                              
                                              invalidFileMessage="Tipo inválido de archivo"
                                              fileLimitMessage="Máximo número de archivos excedido."
                                              uploadLabel="Subir"  cancelLabel="Cancelar"
                                              allowTypes="/(\.|\/)(pdf|PDF)$/"
                                              widgetVar="subirManual" 
                                              sizeLimit="20000000"/>                                    

                            </p:panelGrid>
                            <br/>
                            <p:dataTable var="adj" widgetVar="tablaArchivo" value="#{anticipoBean.listaAutorizarAntAdjuntos}">
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="Acciones"/>
                                    </f:facet>
                                    <p:commandButton icon="ui-icon-closethick" title="Borrar Adjunto" action="#{anticipoBean.borrarAnticiposAutorizarAdjunto(adj.nombre)}"/>
                        
                                </p:column>
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        
                        <p:panelGrid id="panelCrearAdjuntar" style="width: 100%;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Guardar" type="button" onclick="GuardarAutorizarAdjuntoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="GuardarAutorizarAdjuntoRemote" action="#{anticipoBean.guardarAutorizarAdjuntoAnticipo()}" update="frmAutorizarAdjunto"/>
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAutorizarAdjuntos').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>                
            </p:dialog>
            <!-- descripciones afiliado genericas -->
            <p:dialog header="Afiliado" widgetVar="dlgInfoAfiliado" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAfiliadoGeneral">
                        <p:panelGrid id="panelAfiliadoGeneral" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid" >
                            <p:outputLabel value="Estado" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeEstadoAfiliacionValor}" />
                            <p:outputLabel value="Nombres" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.nombres}" />
                            <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.apellidos}" />
                                
                            <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeTipoDocumentoCodigo}" />
                            <p:outputLabel value="Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.numeroDocumento}" />
                            <p:outputLabel value="Correo" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.email}" />
                               
                            <p:outputLabel value="Dirección" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.direccionResidencia}" />
                            <p:outputLabel value="Ubicación" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.obtenerUbicacion(anticipoBean.objeto.asegAfiliadosId.afiliacionUbicacion.id)}" />
                            <p:outputLabel value="Regimen" style="font-weight:bold"/>
                            <p:outputLabel value="#{anticipoBean.objeto.asegAfiliadosId.maeRegimenValor}" />  
                        </p:panelGrid>
                        <p:panel header="Contactos Aseguramiento" toggleable="true" style="height:auto;">
                            <p:scrollPanel mode="native">
                                <p:dataTable id="tablaContactosGeneralAseg" lazy="false" var="contacto" value="#{anticipoBean.objeto.asegAfiliadosId.listaAsegAfiliadoContacto}" widgetVar="tablaContactosGestionarAseg" scrollable="true" emptyMessage="No se encontraron registros">
                                    <p:column headerText="Número Contacto">
                                        <h:outputText value="#{contacto.numeroContacto}"/>
                                    </p:column>
                                    <p:column headerText="Tipo">
                                        <h:outputText value="#{contacto.maeTipoContactoValor}"/>
                                    </p:column>
                                    <p:column headerText="Observación">
                                        <h:outputText value="#{contacto.observacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgInfoAfiliado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- borrar Item-->
            <p:dialog header="Borrar Item" widgetVar="dialogoBorrarItem" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmBorrarItem">
                    <p:panelGrid id="panelBorrarItem" style="height:auto;">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioAnulacionItem" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioAnulacionItem" rows="5" cols="100" value="#{anticipoBean.objetoItem.borradoObservacion}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Borrar" actionListener="#{anticipoBean.borrarItem()}"/>                                       
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoBorrarItem').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- borrar Item editar-->
            <p:dialog header="Borrar Item" widgetVar="dialogoBorrarItemEditar" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmBorrarItemEditar">
                    <p:panelGrid id="frmBorrarItemEditar" style="height:auto;">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioAnulacionItem" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioAnulacionItem" rows="5" cols="100" value="#{anticipoBean.objetoItem.borradoObservacion}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Borrar" actionListener="#{anticipoBean.borrarItemEditar()}"/>                                       
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoBorrarItemEditar').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- Delvolver anticipo-->
            <p:dialog header="Devolver Anticipo" widgetVar="dialogoDevolverAnticipo" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmDevolverAnticipo">
                    <p:panelGrid id="panelDevolverAnticipo" style="height:auto;">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioAnulacionItem" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioAnulacionItem" rows="5" cols="100" value="#{anticipoBean.objeto.observacionDevolver}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Guardar" type="button" onclick="guardarDevolverAnticipoRemote()" validateClient="true"/>
                                    <p:remoteCommand name="guardarDevolverAnticipoRemote" action ="#{anticipoBean.guardarDevolverAnticipo}" update="frmDevolverAnticipo"/>                         
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoDevolverAnticipo').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- cancelar anticipo-->
            <p:dialog header="Cancelar Anticipo" widgetVar="dialogoCancelarAnticipo" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmCancelarAnticipo">
                    <p:panelGrid id="panelCancelarAnticipo" style="height:auto;">
                   
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioPagoItem" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioPagoItem" rows="5" cols="100" value="#{anticipoBean.objeto.observacionCancelar}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Guardar" type="button" onclick="guardarCancelarAnticipoRemote()" validateClient="true"/>
                                    <p:remoteCommand name="guardarCancelarAnticipoRemote" action ="#{anticipoBean.guardarCancelarAnticipo}" update="frmCancelarAnticipo"/>                                  
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCancelarAnticipo').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- pago anticipo-->
            <p:dialog header="Realizar Pago" widgetVar="dialogoPagoAnticipo" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmPagoAnticipo">
                    <p:panelGrid id="panelPagoAnticipo" style="height:auto;">
                         <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Valor a Cotizado"  style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputNumber id="valorCotizado" value="#{anticipoBean.objeto.valorCotizado}" symbol="$" readonly="true"/>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Retención Sugerida"  style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputNumber id="retencionSugerida" value="#{anticipoBean.objeto.retencionAplicada}" symbol="%" symbolPosition="s" readonly="true" />
                            </p:column> 
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Código Contabilización SAP" for="codigoContabilizacionSap" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputText id="codigoContabilizacionSap" value="#{anticipoBean.objeto.codigoContabilizacionSap}" maxlength="32" required="true" requiredMessage="Código Contabilización Sap: Este campo es obligatorio"/>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Código Compensación SAP" for="codigoCompesacionSap" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputText id="codigoCompesacionSap" value="#{anticipoBean.objeto.codigoCompensacionSap}" maxlength="32" required="true" requiredMessage="Código Compesación Sap: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Retención Aplicar" for="retencionAplicar" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputNumber id="retencionAplicar" value="#{anticipoBean.objeto.retencionAplicada}" symbol="%" symbolPosition="s" required="true" requiredMessage="Retención Aplicar: Este campo es obligatorio">
                                     <p:ajax event="change" listener="#{anticipoBean.metodoRecalculoValorApagar()}" update="valorApagar"/>
                                </p:inputNumber>     
                            </p:column>
                             <p:column class="ui-g-2">
                                <p:outputLabel value="Valor a Pagar" for="valorApagar" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:inputNumber id="valorApagar" value="#{anticipoBean.objeto.valorPagado}" symbol="$" required="true" requiredMessage="Valor a Pagar: Este campo es obligatorio" readonly="true"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioPagoItem" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioPagoItem" rows="5" cols="100" value="#{anticipoBean.objeto.observacionPago}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Guardar" type="button" onclick="guardarPagoAnticipoRemote()" validateClient="true"/>
                                    <p:remoteCommand name="guardarPagoAnticipoRemote" action ="#{anticipoBean.guardarPagoAnticipo}" update="frmPagoAnticipo"/>                                  
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoPagoAnticipo').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- ver valores -->
            <p:dialog header="Ver" widgetVar="dialogoValoresVer" appendTo="@(body)" modal="true" width="90%" dynamic="true">
                <p:scrollPanel mode="native" style="height:400px">
                    <h:form id="frmValoresVer">
                        <p:panel id="pAnticipoVer" header="INFORMACIÓN ANTICIPO" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="frmBorrarItemEditar" style="height:auto;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo Tecnología"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.antAnticipoItemsId.tipoTecnologiaStr}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Código Tecnología"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.antAnticipoItemsId.maTecnologiaCodigo}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tecnología"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.antAnticipoItemsId.maTecnologiaValor}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Devolución"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.devolucionStr}" style="#{anticipoBean.objetoAnticipoValor.colorValorDevolucion()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo devolución"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.tipoDevolucionStr}" />
                                    </p:column>
                                     <p:column class="ui-g-2">
                                        <p:outputLabel value="Valor"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber value="#{anticipoBean.objetoAnticipoValor.valor}" symbol="$"  readonly="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Solicitud"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.auCotizacionesId.auAnexo3Id.id}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Cotización"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.auCotizacionesId.id}" />
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Autorización"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{anticipoBean.objetoAnticipoValor.auAnexo4.id}" />
                                    </p:column> 
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="2" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoValoresVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>  
                </p:scrollPanel>
            </p:dialog>
            <!-- descargar anticipo-->
            <h:form id="exit">
                <p:remoteCommand name="actualizarPorocesoDescargarArchivo" action="#{anticipoBean.actualizarEstadoDescargarArchivo()}" />
            </h:form>
            <p:dialog header="Descargar Anticipo" widgetVar="dialogoDescargarAnticipo" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onHide="actualizarPorocesoDescargarArchivo()">
                <h:form id="frmDescargarAnticipo">
                    <p:panel id="pDescargarAnticipo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                        <p:panelGrid id="panelDescargarAnticipo" style="height:auto;">
                            <p:row>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="Descargar"  style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-8" style="text-align: center;">
                                    <p:commandButton  title="Descargar Anticipo" icon="ui-icon-arrowthickstop-1-s" ajax="true" onclick="PrimeFaces.monitorDownload(start, stop);">
                                        <p:fileDownload value="#{anticipoBean.descargarAnticipo()}"/>
                                    </p:commandButton>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                    </p:panel>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Salir" type="button" onclick="PF('dialogoDescargarAnticipo').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <ui:include src="../maestro/seleccion/sel_tecnologias.xhtml" />
            <ui:include src="../maestro/seleccion/sel_medicamentos.xhtml" />
            <ui:include src="../maestro/seleccion/sel_insumos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_paquetes.xhtml" />
            <ui:include src="../maestro/seleccion/sel_diagnosticos.xhtml" />
        </center>
    </ui:define>
</ui:composition>