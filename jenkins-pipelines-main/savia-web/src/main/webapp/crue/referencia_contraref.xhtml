<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/home.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="bodyJR">
        <style type="text/css">

            .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
                border: 1px solid #e5e2e2;
            }

            .ui-panelgrid .ui-panelgrid-footer {
                text-align: center;
                padding: 2px 5px;
            }

            circulo {
                width: 10px;
                height: 10px;
                -moz-border-radius: 50%;
                -webkit-border-radius: 50%;
                border-radius: 50%;
                background: #5cb85c;
            }

            .ui-dialog .ui-dialog-content {
                position: relative;
                border: 0;
                padding: .5em 1em;
                background: 0;
                -moz-transform: scale(1);
                -o-transform: scale(1);
                -webkit-transform: scale(1);
                transform: scale(1);
                overflow: hidden;
            }
            @media (max-height: 768px) {
                .ui-inputfield {
                    width: 95%;
                }
            }
            .ui-g-10 {
                display: grid;
            }
            button#frmTransporteVer\:j_idt1602 {
                margin-right: 12px;
            }
            button#frmVer\:j_idt127, button#frmTransporteVer\:j_idt1329 {
                position: relative;
                margin-top: 10px;
                bottom: 5px;
                left: 20px;
            }
            .ui-datepicker {
                min-width: 200px!important;
            }

        </style>
        <script type="text/javascript">
            //<![CDATA[
            window.onload = function () {
                inhabilitarEnter();
            };

            function inhabilitarEnter() {
                $("input").keypress(function (e) {
                    var key;
                    if (window.event)
                        key = window.event.keyCode;
                    else
                        key = e.which;
                    return (key != 13);
                });
            }
            ;

            function validarRango(elemento) {
                var numero = parseInt(elemento.value, 10);
                //Validamos que se cumpla el rango
                if (numero < 3 || numero > 15) {
                    alert('Solo se permite el siguiente rango: 3 - 15');
                    elemento.value = '';
                    elemento.focus();
                    return false;
                }
                return true;
            }
            ;
            //]]>
        </script>
        <center>
            <h:form id="frmReferencia">
                <p:remoteCommand name="cerrarDialogoDiagnostico" action="#{referenciaContraRefBean.cerrarDialogoDiagnostico()}"/>
                <p:remoteCommand name="cerrarDialogoEspecialidad" action="#{referenciaContraRefBean.cerrarDialogoEspecialidad()}"/>
                <p:remoteCommand name="cerrarDialogoSedeTransporte" action="#{referenciaContraRefBean.cerrarDialogoSedeTransporte()}"/>
                <p:remoteCommand name="cerrarDialogoServiciosHabilitacion" action="#{referenciaContraRefBean.cerrarDialogoServicios()}"/>
                <p:remoteCommand name="cerrarDialogoTecnologia" action="#{referenciaContraRefBean.cerrarDialogoTecnologia()}"/>
                <p:remoteCommand name="actualizarFiltroMotivo" action="#{referenciaContraRefBean.filtrarMotivoByEstado()}" update="frmReferencia:tablaRegistros:filtroMotivo"/>
                <p:remoteCommand name="resetMotivo" resetValues="true" update="frmReferencia:tablaRegistros:filtroMotivo"/>
                <p:remoteCommand name="refrescarListar" update=":frmReferencia"/>
                <!--<p:poll interval="360" listener="# {referenciaContraRefBean.refrescar()}" update="frmReferencia" />--> 

                <p:toolbar>
                    <f:facet name="left" >
                        <span title="#{referenciaContraRefBean.modulo.descripcion}">#{referenciaContraRefBean.modulo.nombre}</span>
                        <p:spacer width="30"/>
                        <p:outputLabel value="Fecha de Ref y ContraRef " rendered="#{referenciaContraRefBean.conexion.empresa.administradora}"/>     
                        <p:spacer width="5"/>
                        <p:outputLabel value="Desde" rendered="#{referenciaContraRefBean.conexion.empresa.administradora}"/>
                        <p:spacer width="5"/>
                        <p:calendar id="fInicial" value="#{referenciaContraRefBean.fechaInicio}" rendered="#{referenciaContraRefBean.conexion.empresa.administradora}" style="width: 180px;" pattern="yyyy-MM-dd"  yearRange="c-100:c" type="localDate" navigator="true"  maxdate="#{referenciaContraRefBean.fechaMaximaCalendario}">
                            <p:ajax event="dateSelect" />
                            <f:convertDateTime pattern="yyyy-MM-dd" type="both" timeZone="America/Bogota"/>
                        </p:calendar>
                        <p:spacer width="10"/>                        
                        <p:outputLabel value="Hasta" rendered="#{referenciaContraRefBean.conexion.empresa.administradora}"/>
                        <p:spacer width="5"/>
                        <p:calendar id="fFinal" value="#{referenciaContraRefBean.fechaFin}" rendered="#{referenciaContraRefBean.conexion.empresa.administradora}" style="width: 115px;" pattern="yyyy-MM-dd"  yearRange="c-100:c"  type="localDate" navigator="true" maxdate="#{referenciaContraRefBean.fechaMaximaCalendario}">
                            <p:ajax event="dateSelect" />
                            <f:convertDateTime pattern="yyyy-MM-dd" type="both" timeZone="America/Bogota"/>
                        </p:calendar>
                        <p:spacer width="10"/>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton rendered="#{referenciaContraRefBean.accionListar}" ajax="true" title="Refrescar" actionListener="#{referenciaContraRefBean.listar}" icon="ui-icon-refresh"/>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionCrear}" ajax="true" title="Crear" actionListener="#{referenciaContraRefBean.crear}" icon="ui-icon-document"/>
                    </f:facet>
                </p:toolbar>

                <p:dataTable var="obj" value="#{referenciaContraRefBean.lazyRegistros}" paginator="true" rows="#{referenciaContraRefBean.tamanoPagina}" 
                             emptyMessage="No se encontraron registros"
                             currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,30,50,100" id="tablaRegistros" lazy="true"
                             widgetVar="tablaWidget"
                             style="font-size:11px;"
                             scrollable="false"
                             scrollWidth="100%"
                             rowKey="#{obj.id}" reflow="true">

                    <p:column headerText="Acciones" style="text-align: center;">
                        <p:commandButton rendered="#{referenciaContraRefBean.accionVer}" title="Ver" actionListener="#{referenciaContraRefBean.ver(obj.id)}" icon="ui-icon-search"/>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionEditar}" title="Editar" actionListener="#{referenciaContraRefBean.editar(obj.id)}" icon="ui-icon-pencil" disabled="#{referenciaContraRefBean.validarEstadoEditar(obj.maeEstadoId)}"/>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionAdicional2}" title="Gestionar" actionListener="#{referenciaContraRefBean.gestionar(obj.id)}" icon="ui-icon-script" disabled="#{referenciaContraRefBean.validarEstadoGestonar(obj.maeEstadoId)}"/>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionAdicional3}" title="Gestionar Transporte" actionListener="#{referenciaContraRefBean.transporte(obj.id)}" icon=" ui-icon-circle-plus" disabled="#{referenciaContraRefBean.validarEstadoTransporte(obj.maeEstadoId)}"/>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionBorrar}" title="Borrar" action="#{referenciaContraRefBean.borrar(obj.id)}" icon="ui-icon-trash" >
                            <p:confirm header="Confirmación" message="Está seguro que desea eliminar?" icon="ui-icon-alert" />
                        </p:commandButton>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionAdicional4}" title="Generar Formulario Referencia o Contrareferencia" ajax="true" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-document">
                            <p:fileDownload value="#{referenciaContraRefBean.generarReporte(obj.id, obj.version)}" />
                        </p:commandButton>
                        <p:commandButton rendered="#{referenciaContraRefBean.accionAdicional5}" title="Descargar Referencia o Contrareferencia" ajax="true" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthickstop-1-s">
                            <p:fileDownload value="#{referenciaContraRefBean.generarReporteContraReferencia(obj.id)}" />
                        </p:commandButton>
                    </p:column>

                    <p:column headerText="Tipo Solicitud" sortBy="#{obj.tipo}" filterBy="#{obj.tipo}" style="text-align: center;">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel="Referencia" itemValue="9"/>
                                <f:selectItem itemLabel="ContraReferencia" itemValue="10"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <div style="#{referenciaContraRefBean.semaforo(obj.tiempoCrea)}" ></div>
                        <p:outputLabel value="#{obj.tipoStr}"/>
                    </p:column>

                    <p:column headerText="Número Solicitud" sortBy="#{obj.id}" filterBy="#{obj.id}" style="text-align: center;">
                        <f:facet name="filter">                            
                            <p:inputText label="Nro. Solicitud" maxlength="64" style="width: 95%;" onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.id}"/>
                    </p:column>

                    <p:column headerText="Fuente Origen" filterBy="#{obj.fuenteOrigen}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 80%;">
                                <f:selectItem itemLabel=" - - " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItem itemLabel="Manual" itemValue="1"  />
                                <f:selectItem itemLabel="Interoperabilidad" itemValue="3"  />
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.fuenteOrigenStr}"/>
                    </p:column>

                    <p:column headerText="Emergente" style="text-align: center;" sortBy="#{obj.diagnosticoEmergente}">
                        <i class="pi pi-circle-on" style="color: #{referenciaContraRefBean.obtenerColorEmergente(obj.maeEstadoId,obj.diagnosticoEmergente)}"/>
                    </p:column>
                    
                    <p:column headerText="Dias Gestión" style="text-align: center;" sortBy="#{obj.diasGestion}">
                       <h:outputText value="#{obj.calcularDiasGestion()}"/>
                    </p:column>
                    
                    <p:column headerText="Semaforo Gestión" style="text-align: center;">
                        <i class="pi pi-circle-on" style="color: #{referenciaContraRefBean.colorGestion(obj.maeEstadoId, obj.fechaHoraUltimaGestion)}" title="Gestión"/>
                        <i class="pi pi-circle-on" style="color: #{referenciaContraRefBean.colorEvolucion(obj.maeEstadoId, obj.fechaHoraUltimaGestion, obj.fechaHoraAdjuntoEvolucion )}" title="Evolución"/>
                        <i class="pi pi-circle-on" style="color: #{referenciaContraRefBean.colorMaternoPerinatal(obj.maeEstadoId, obj.maeMaternoPerinatalCodigo, obj.refAnexo9Gestion.maeMotivoCodigo )}" title="Materno-Perinatal"/>
                    </p:column>
                    
                    <p:column headerText="Estado Solicitud" sortBy="#{obj.maeEstadoId}" filterBy="#{obj.maeEstadoId}" style="text-align: center;">
                        <f:facet name="filter">
                            <p:selectOneMenu  onchange="resetMotivo()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{referenciaContraRefBean.listaEstadoSolicitud}" var="est" itemLabel="#{est.nombre}" itemValue="#{est.id}"/>
                                <p:ajax onstart="PF('tablaWidget').filter();" oncomplete="actualizarFiltroMotivo()"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <p:outputLabel value="#{obj.maeEstadoValor}"/>
                    </p:column>

                    <p:column headerText="Motivo" filterBy="#{obj.refAnexo9Gestion.maeMotivoValor}" style="text-align: center;">
                        <f:facet name="filter">
                            <p:selectOneMenu id="filtroMotivo" onchange="PF('tablaWidget').filter();" style="width: 90%;" filter="true" filterMatchMode="contains">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{referenciaContraRefBean.listaMotivoGestionFiltro}" var="mot" itemLabel="#{mot.nombre}" itemValue="#{mot.nombre}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <p:outputLabel value="#{obj.refAnexo9Gestion.maeMotivoValor}"/>
                    </p:column>

                    <p:column headerText="Fecha Solicitud" sortBy="#{obj.fechaHoraSolicitud}">  
                        <h:outputText value="#{obj.fechaHoraSolicitud}">
                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                        </h:outputText>
                    </p:column>

                    <p:column headerText="Triage" style="text-align: center;" filterBy="#{obj.refAnexo9DatoClinico.triage}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{referenciaContraRefBean.listaTriage}" var="tri" itemValue="#{tri.id}" itemLabel="#{tri.descripcion}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <img style="visibility: #{obj.refAnexo9DatoClinico.triage == 0 ? 'hidden' : 'visibility'};" 
                             src="#{referenciaContraRefBean.obtenerTriage(obj.refAnexo9DatoClinico.triage)}" width="20" 
                             title="Triage Nivel #{obj.refAnexo9DatoClinico.triage}"/>
                    </p:column>

                    <p:column headerText="Servicios Gestionados" style="text-align: center">
                        <p:panel rendered="#{referenciaContraRefBean.validarSemaforoServicioGestionados(obj)}" style="border: none; box-shadow: none; background-color: inherit;">
                            <i class="pi pi-circle-on" title="Agendamiento" style="#{obj.semaforoAgendamiento eq 0 ? 'color: grey;' : 'color: #c0c0c0;'}"/>
                            <h:outputText value="#{obj.semaforoAgendamiento}"/>
                            <br/>
                            <i class="pi pi-circle-on" title="Efectividad" style="#{obj.semaforoEfectividad eq 0 ? 'color: grey;' : 'color: #c0c0c0;'}"/>
                            <h:outputText value="#{obj.semaforoEfectividad}"/>
                        </p:panel>
                    </p:column>
                    
                    <p:column headerText="Servicio solicitado" style="text-align: center;" filterBy="#{obj.maServicioSolicitaId}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" filter="true" filterMatchMode="contains">
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{referenciaContraRefBean.listaMaServicioHabilitacion}" var="serh" itemValue="#{serh.id}" itemLabel="#{serh.nombreCorto}" itemDescription="#{serh.nombre}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <p:outputLabel value="#{obj.maServicioSolicitaValor}"/>
                    </p:column>                    

                    <p:column headerText="Tipo Doc. Afiliado" filterBy="#{obj.asegAfiliado.maeTipoDocumento}">
                        <f:facet name="filter">
                            <p:selectOneMenu onchange="PF('tablaWidget').filter()" style="width: 90%;" >
                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                <f:selectItems value="#{referenciaContraRefBean.listaTiposDocumentoPersona}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}"/>
                            </p:selectOneMenu>
                        </f:facet>
                        <h:outputText value="#{obj.asegAfiliado.maeTipoDocumentoValor}" title="#{obj.asegAfiliado.maeTipoDocumentoValor}"/>
                    </p:column>

                    <p:column headerText="Nro. Doc. Afiliado" filterBy="#{obj.asegAfiliado.numeroDocumento}">
                        <f:facet name="filter">
                            <p:inputText label="Documento" maxlength="64" style="width: 95%;" onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.asegAfiliado.numeroDocumento}"/>
                    </p:column>

                    <p:column headerText="Nombre Completo Afiliado" filterBy="#{obj.asegAfiliado.nombres}">
                        <f:facet name="filter">
                            <p:inputText label="Nombres" maxlength="64" style="width: 95%;" onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.asegAfiliado.nombreCompleto}"/>
                    </p:column>
                    
                    <p:column headerText="Nro. Doc. IPS" filterBy="#{obj.cntPrestadorSede.cntPrestador.numeroDocumento}">
                        <p:outputLabel value="#{obj.cntPrestadorSede.cntPrestador.numeroDocumento}"/>
                    </p:column>

                    <p:column headerText="Nombre IPS" filterBy="#{obj.cntPrestadorSede.nombreSede}">
                        <f:facet name="filter">
                            <p:inputText label="Nombres" maxlength="64" style="width: 95%;" onchange="PF('tablaWidget').filter()" />
                        </f:facet>
                        <p:outputLabel value="#{obj.cntPrestadorSede.nombreSede}"/>
                    </p:column>
                </p:dataTable>
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%"/>
                </p:confirmDialog>
            </h:form>
            <!-- ver -->
            <p:dialog widgetVar="dialogoVer" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true">
                <header style="font-size: 30px;">
                    <b>Ver</b>
                </header>
                <h:form id="frmAuditoriaVer" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{referenciaContraRefBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{referenciaContraRefBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmVer">
                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:outputPanel id="panelBotonesVer" style="margin-top: 2px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(referenciaContraRefBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.tipoSolicitudStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeEstadoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Canal Comunicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCanalComunicacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.usuarioCrea}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraCrea}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Consecutivo" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.consecutivo}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Incio Gestion" style="font-weight:bold;"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraInicioGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Fin Gestion" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraFinGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Dias" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularDiasGestion()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Horas" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularHorasGestion()}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : referenciaContraRefBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{referenciaContraRefBean.colorEstadoAfiliado}" value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}"/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.cntPrestador.razonSocial}"/>

                                <p:outputLabel value="Sede IPS Primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tiene Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.tienePortabilidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Sede Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Municipio Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}"/>
                                                       
                            </p:panelGrid>
                        </p:panel>
                        <p:panel style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid style="width:100%;margin:10px 0px" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Dirección Alternativa" style="font-weight:bold; "/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.afiliadoDireccionAlternativa}"/>
                                
                                <p:outputLabel value="Nombre contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.nombreContactoEmergencia}"/>
                                
                                <p:outputLabel value="Telefono contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.telefonoContactoEmergencia}"/>

                            </p:panelGrid>
                        </p:panel>
                        <!--Programa especial-->
                        <p:panel id="pProgramaEspecialVer" header="Programa Especiales - Gestión del Riesgo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="listaProgrmaEspecialVer" var="varV" value="#{referenciaContraRefBean.listaAfiliadoPrograma}" widgetVar="listaProgrmaEspecialVer" resizableColumns="true" emptyMessage="No se encontraron registros" >
                                <p:column headerText="Programa">
                                    <h:outputText value="#{varV.pePrograma.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="IPS-Programa">
                                    <h:outputText value="#{varV.cntPrestadorSede.nombreSede}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <p:panel id="pnlAcompanante" header="Información acompañante" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAcompanante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeAcompananteTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDocumento}"/>

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteTelefono}" style="width: 94%;"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDireccion}" style="width: 94%;"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteMunicipio}" style="width: 94%;"/>     

                                <p:outputLabel value="Departamento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDepartamento}" style="width: 94%;"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPS" header="Información IPS" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                              

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlPersona" header="Profesional que solicita la referencia" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.profesionalSolicitaTelefono}" />

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlServicios" header="Servicio al cual se remite" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelServicios" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio refiere" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio solicita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!--se oculta la inrmacion mientras hablitan la resolucion 2335-->
                        <p:panel id="pnlCausaMotivaaAtenciónVer" header="Información de la atención" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelCausaMotivaaAtenciónVer" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Causa que motiva la atención" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCausaExternaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Prioridad de la atención" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.prioridadStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Tipo de atencion solicitada" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeTipoAtencionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Grupo de servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeUbicacionValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Modalidad de realizacion de la tecnologia de salud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeModalidadTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Codigo CUPS del procedimiento requerido " style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.maTecnologiaValor}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Cantidad"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.cantidadTecnologiaSolicitada}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere contraste" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.requiereContrasteStr}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere sedación"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.requiereSedacionStr}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Examen BAG (Bajo anestesia general)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.examenBagStr}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere Aislamiento"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeTipoAislamientoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Condicion y destino de la persona" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCondicionDestinoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Materno-Perinatal" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeMaternoPerinatalValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        
                        <p:panel id="pnlInformante" header="Informante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteNombre}"/>
                                    </p:column>
                                </p:row>


                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteCargo}"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteTelefono}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>
                        <p:panel id="pnlClinica" header="Información clinica relevante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelClinica" columns="2">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Resumen enfermedad Actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaEnfermedad" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.resumenClinico}" />
                                    </p:column> 
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntecedentes" header="Antecedentes" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntecedentes" columns="2">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.antecedentes}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlSignosVitales" header="Signos vitales" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelSignosVitales" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Temperatura °C" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.temperatura}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia cardiaca" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaCardiaca}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia respiratoria" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaRespiratoria}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial S" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArterialSistole}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial D" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArtedialDiastole}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Saturación de oxigeno" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.saturacionOxigeno}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntrometricos" header="Datos antropométricos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntropometricos" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Peso (kg)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.peso}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Talla (cm)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.talla}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="IMC" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.imc}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlExamenFisico" header="Hallazgos del examen físico" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelExamenFisico" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Escala de glasglow (3-15)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.escalaGlasgow}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaDescrip" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.hallazgosExamenFisico}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:dataTable id="tablaDiagnosticos" style="margin: 10px;" value="#{referenciaContraRefBean.objeto.listaRefAnexo9Diagnostico}" var="diag" widgetVar="tablaDiagnosticos">
                                <p:column headerText="Código" style="text-align: center;">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Es Principal" style="text-align: center;">
                                    <h:outputText value="#{diag.principal ? 'Si' : 'No'}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlTriage" header="Triage" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriage" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Triage Nivel" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display:flex">
                                        <p:outputLabel value="Triage Nivel #{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                        <p:spacer width="10"/>
                                        <img style="visibility: #{referenciaContraRefBean.objetoDatosClinicos.triage == 0 ? 'hidden' : 'visibility'};" 
                                             src="#{referenciaContraRefBean.obtenerTriage(referenciaContraRefBean.objetoDatosClinicos.triage)}" width="20" 
                                             title="Triage Nivel #{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlMotivos" header="Motivos de la remisión" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivos" columns="4" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.motivoRemision}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel header="Gestionar" style="margin-bottom:10px;" toggleable="true">
                            <p:dataTable id="tablaGestion" style="margin: 10px;" value="#{referenciaContraRefBean.lazyGestion}" var="gest" widgetVar="tablaGestion"
                                         rowKey="#{obj.id}" rows="10" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros"
                                         sortBy="#{gest.fechaHoraCrea}">                                
                                <p:column headerText="Tipo Gestión (Estado)" filterBy="#{gest.maeTipoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaGestion').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoGestion}" var="gestt" itemLabel="#{gestt.descripcionCorta}" itemValue="#{gestt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{gest.maeTipoValor}"/>
                                </p:column>
                                <p:column headerText="Motivos" filterBy="#{gest.maeMotivoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaGestion').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaMotivoGestion}" var="moti" itemLabel="#{moti.descripcionCorta}" itemValue="#{moti.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{gest.maeMotivoValor}"/>
                                </p:column>
                                <p:column headerText="IPS o prestador" filterBy="#{gest.cntPrestadorSede.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="IPS" maxlength="128" style="width: 95%;" onchange="PF('tablaGestion').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{gest.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{gest.observacion}">
                                    <h:outputText value="#{gest.observacion}"/>
                                    <!--<p:commandButton actionListener="{referenciaContraRefBean.mostrarMensaje(gest.observacion)}" icon="ui-icon-comment"/>-->
                                </p:column>
                                <p:column headerText="Fecha Aceptación" sortBy="#{gest.fechaHoraAceptacion}">
                                    <h:outputText value="#{gest.fechaHoraAceptacion}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Egreso" sortBy="#{gest.fechaHoraEgreso}">
                                    <h:outputText value="#{gest.fechaHoraEgreso}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Gestión" filterBy="#{gest.fechaHoraCrea}">
                                    <h:outputText value="#{gest.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Usuario Gestiona" filterBy="#{gest.usuarioCrea}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario Gestiona" maxlength="128" style="width: 95%;" onchange="PF('tablaGestion').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{gest.usuarioCrea}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel header="Asignar Tipo Transporte" style="margin-bottom:10px;" toggleable="true">
                            <p:dataTable id="tablaTransporte" style="margin: 10px;" value="#{referenciaContraRefBean.lazyTransporte}" var="trans" widgetVar="tablaTransporte"
                                         rowKey="#{obj.id}" rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros">                                
                                <p:column headerText="Tipo Transporte" filterBy="#{trans.maeTipoTransporteId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoTransporte}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeTipoTransporteValor}"/>
                                </p:column>
                                <p:column headerText="Clase Transporte" filterBy="#{trans.maeClaseTransporteId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaClaseTransporteFiltro}" var="clast" itemLabel="#{clast.descripcionCorta}" itemValue="#{clast.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeClaseTransporteValor}"/>
                                </p:column>
                                <p:column headerText="Proveedor">
                                    <h:outputText value="#{trans.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Descripción" >
                                    <h:outputText value="#{trans.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Origen" filterBy="#{trans.fechaHoraOrigen}">
                                    <f:facet name="filter">
                                        <p:inputText label="Fecha Hora Origen" maxlength="19" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.fechaHoraOrigen}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Hora Destino" filterBy="#{trans.fechaHoraDestino}">
                                    <f:facet name="filter">
                                        <p:inputText label="Fecha Hora Destino" maxlength="19" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.fechaHoraDestino}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Gestión Transporte" filterBy="#{trans.maeTransporteLiquidacionId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTransporteLiquidacion}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeTransporteLiquidacionValor}"/>
                                </p:column>
                                <p:column headerText="Usuario Gestiona" filterBy="#{trans.usuarioCrea}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario Gestiona" maxlength="128" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Acciones">
                                    <p:commandButton immediate="true" icon="ui-icon-search" actionListener="#{referenciaContraRefBean.verSeguimiento(trans.id)}" title="Ver Transporte Seguimiento"/>
                                    <p:commandButton immediate="true" icon="ui-icon-script" actionListener="#{referenciaContraRefBean.crearSeguimiento(trans.id)}" title="Transporte Seguimiento" disabled="true"/>
                                </p:column>                                    
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="width:100%;margin:10px 0px" toggleable="true">
                            <br/>
                            <p:dataTable var="adj" value="#{referenciaContraRefBean.listaRefAnexo9Adjuntos}" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.nombre}#{adj.extension}"/>
                                </p:column>
                                <p:column headerText="Fecha crea" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton rendered="#{adj.borrado == 0}" icon="ui-icon-arrowstop-1-s" 
                                                     title="Descargar Adjunto"
                                                     action="#{referenciaContraRefBean.descargarAdjunto(adj)}"
                                                     ajax="false" 
                                                     process="@this"/>
                                    <p:commandButton  class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(adj.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    <p:commandButton rendered="#{adj.borrado == 1}" class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoriaBorrado(adj)}" icon="ui-icon-info" title="Auditoría Borrado" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Salir" type="button" onclick="PF('dialogoVer').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- crear -->
            <p:dialog header="Crear" widgetVar="dialogoCrear" appendTo="@(body)" modal="true" style="max-width: 90%; max-height: 90%" dynamic="true" onShow="inhabilitarEnter()">
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmCrearAfiliado">
                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo solicitud" for="sorTipoSolicitud" style="font-weight:bold"/>
                                <p:selectOneRadio id="sorTipoSolicitud" required="true" value="#{referenciaContraRefBean.objeto.tipo}"  layout="grid" columns="2">
                                    <f:selectItem itemLabel="Referencia" itemValue="9" />
                                    <f:selectItem itemLabel="Contra-Referencia" itemValue="10" />
                                </p:selectOneRadio>

                                <p:outputLabel value="Canal Comunicación" for="somCanal" style="font-weight:bold"/>
                                <p:selectOneMenu id="somCanal" required="true" value="#{referenciaContraRefBean.objeto.maeCanalComunicacionId}" disabled="#{referenciaContraRefBean.deshabilitadoCanal}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaCanalComunicacion}" var="can" itemValue="#{can.id}" itemLabel="#{can.nombre}" itemDescription="#{can.descripcion}"/>
                                </p:selectOneMenu>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarAfiliado()}" icon="ui-icon-person" title="Afiliado"/>
                            </div>
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : referenciaContraRefBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerSiNo(referenciaContraRefBean.objeto.asegAfiliado.discapacidad)}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{referenciaContraRefBean.colorEstadoAfiliado}" value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerSiNo(referenciaContraRefBean.objeto.asegAfiliado.registroBdua)}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}"/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.cntPrestador.razonSocial}"/>

                                <p:outputLabel value="Sede IPS Primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tiene Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerSiNo(referenciaContraRefBean.objeto.asegAfiliado.tienePortabilidad)}"/>

                                <p:outputLabel value="Sede Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Municipio Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}"/>
                                
                                <p:outputLabel value="Dirección Alternativa" style="font-weight:bold;"/>
                                <p:inputText id="dirAlterna" label="Dirección Alternativa" value="#{referenciaContraRefBean.objeto.afiliadoDireccionAlternativa}" maxlength="62" disabled="#{referenciaContraRefBean.objeto.habilitarDireccionAlternativa}"/> 
                                
                                <p:outputLabel value="Nombre contacto de emergencia" style="font-weight:bold;" />
                                <p:inputText id="nombreContactoEmer" label="Nombre contacto de emergencia" value="#{referenciaContraRefBean.objeto.nombreContactoEmergencia}" maxlength="62" disabled="#{referenciaContraRefBean.objeto.habilitarNombreContactoEmergencia}"/>
                                
                                <p:outputLabel value="Telefono contacto de emergencia" style="font-weight:bold;"/>
                                <p:inputText id="telContactoEmer" label="Telefono contacto de emergencia" value="#{referenciaContraRefBean.objeto.telefonoContactoEmergencia}" maxlength="10" disabled="#{referenciaContraRefBean.objeto.habilitarTelefonoContactoEmergencia}"/>
                            </p:panelGrid>
                        </p:panel>
                        <!--Programa especial-->
                        <p:panel id="pProgramaEspecialCrear" header="Programa Especiales - Gestión del Riesgo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="listaProgrmaEspecialCrear" var="var" value="#{referenciaContraRefBean.listaAfiliadoPrograma}" widgetVar="listaProgrmaEspecial" resizableColumns="true" emptyMessage="No se encontraron registros" >
                                <p:column headerText="Programa">
                                    <h:outputText value="#{var.pePrograma.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="IPS-Programa">
                                    <h:outputText value="#{var.cntPrestadorSede.nombreSede}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <p:panel id="pnlAcompanante" header="Información acompañante" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAcompanante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" for="somTipoDocumento" style="font-weight:bold"/>
                                <p:selectOneMenu id="somTipoDocumento" value="#{referenciaContraRefBean.objeto.maeAcompananteTipoDocumentoId}" style="width: 90%;" required="true" requiredMessage="Tipo documento acompañante: Este campo es obligatorio">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaTiposDocumento}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}"/>
                                    <p:ajax event="itemSelect" update="frmCrearAfiliado:pnlDocumentoAcomp"/>
                                    <p:ajax event="change" listener="#{referenciaContraRefBean.consultarAcompañante()}" />
                                </p:selectOneMenu>
                                <p:outputLabel value="Número documento" for="numeroDocumento" style="font-weight:bold"/>
                                <h:panelGroup id="pnlDocumentoAcomp">
                                    <p:inputText id="numeroDocumento" value="#{referenciaContraRefBean.objeto.acompananteDocumento}" maxlength="16" autocomplete="off" required="true" requiredMessage="Número documento acompañante: Este campo es obligatorio">
                                        <p:ajax event="change" listener="#{referenciaContraRefBean.consultarAcompañante()}" />
                                    </p:inputText>
                                    <p:keyFilter id="numeroDocumentoFilter" mask="pint" for="numeroDocumento" rendered="#{referenciaContraRefBean.validarTipoDocumentoAcomp()}"/>
                                </h:panelGroup>
                                <p:outputLabel value="Primer nombre" for="nombreP" style="font-weight:bold" />
                                <h:panelGroup id="pnlPrimerNombreAcomp">
                                    <p:inputText id="nombreP" value="#{referenciaContraRefBean.objeto.acompanantePrimerNombre}" style="width: 94%;" maxlength="64" autocomplete="off" required="true" requiredMessage="Primer nombre acompañante: Este campo es obligatorio"/>
                                    <p:keyFilter id="nombrePFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="nombreP"/>
                                </h:panelGroup>
                                
                                <p:outputLabel value="Segundo nombre" for="nombreS" style="font-weight:bold"/>
                                <h:panelGroup id="pnlSegundoNombreAcomp">
                                    <p:inputText id="nombreS" value="#{referenciaContraRefBean.objeto.acompananteSegundoNombre}" style="width: 94%;" maxlength="64" autocomplete="off"/>
                                    <p:keyFilter id="nombreSFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="nombreS"/>
                                </h:panelGroup>
                                
                                <p:outputLabel value="Primer apellido" for="apellidoP" style="font-weight:bold" />
                                <h:panelGroup id="pnlPrimerApellidoAcomp">
                                    <p:inputText id="apellidoP" value="#{referenciaContraRefBean.objeto.acompanantePrimerApellido}" style="width: 94%;" maxlength="64" autocomplete="off" required="true" requiredMessage="Primer apellido acompañante: Este campo es obligatorio"/>
                                    <p:keyFilter id="apellidoPFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="apellidoP"/>
                                </h:panelGroup>
                                
                                <p:outputLabel value="Segundo apellido" for="apellidoS" style="font-weight:bold"/>
                                <h:panelGroup id="pnlSegundoApellidoAcomp">
                                    <p:inputText id="apellidoS" value="#{referenciaContraRefBean.objeto.acompananteSegundoApellido}" style="width: 94%;" maxlength="64" autocomplete="off"/>
                                    <p:keyFilter id="apellidoSFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="apellidoS"/>
                                </h:panelGroup>
                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:inputNumber minValue="0" decimalPlaces="0" maxValue="999999999999" thousandSeparator="&#160;"
                                               value="#{referenciaContraRefBean.objeto.acompananteTelefono}" style="width: 98%;" />

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:inputText value="#{referenciaContraRefBean.objeto.acompananteDireccion}" style="width: 94%;" maxlength="256"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:autoComplete id="municipioAfiliacion" dropdown="false" value="#{referenciaContraRefBean.objetoUbicacionAcomp}" completeMethod="#{referenciaContraRefBean.completarUbicacion}"
                                                var="ubica" itemLabel="#{referenciaContraRefBean.getUbicacionRecursiva(ubica.id)}" itemValue="#{ubica}" 
                                                converter="ubicacionConverterReferencia" forceSelection="true" size="30" required="true" requiredMessage="Ciudad/Municipio acompañante: Este campo es obligatorio"> 
                                    <p:ajax event="itemSelect" listener="#{referenciaContraRefBean.actualizarDepartamentoAcomp}" update="olDepartamento"/>
                                    <p:ajax event="change" update="olDepartamento"/>
                                </p:autoComplete>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>
                                <p:outputLabel id="olDepartamento" value="#{referenciaContraRefBean.objetoUbicacionAcomp.ubicacionPadre.nombre}" style="width: 94%;"/>    
                                <!--<p:inputText value="#{referenciaContraRefBean.objeto.acompananteDepartamento}" style="width: 94%;"/>-->
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPS" header="Información IPS" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarIPS()}" icon="ui-icon-home" title="IPS"/>
                            </div>
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                     

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlPersona" header="Profesional que solicita la referencia" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo documento" for="somTipoDocumentoPersona" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:selectOneMenu id="somTipoDocumentoPersona" style="width: 90%;" value="#{referenciaContraRefBean.objeto.cntProfesionales.maeTipoCodumentoId}" required="true" requiredMessage="El tipo de documento profesional: Este campo es obligatorio." >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTiposDocumentoProfesional}" var="tipo" itemValue="#{tipo.id}" itemLabel="#{tipo.nombre}" itemDescription="#{tipo.descripcion}"/>
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.consultarProfesional()}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número documento" for="txtDocumentoPro" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="txtDocumentoPro" label="Número Documento" value="#{referenciaContraRefBean.objeto.cntProfesionales.documento}" size="30" maxlength="62" required="true" requiredMessage="Número Documento Profesional: Este campo es obligatorio">
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.consultarProfesional()}" />
                                        </p:inputText>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Primer nombre" for="txtPrimerNombrePro" style="font-weight:bold"/>
                                    </p:column>
                                    <h:panelGroup id="pnlPrimerNombreProfe">
                                        <p:column class="ui-g-4">
                                            <p:inputText id="txtPrimerNombrePro" 
                                                     value="#{referenciaContraRefBean.objeto.cntProfesionales.primerNombre}" style="width: 94%;" 
                                                     maxlength="64" disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}" required="true" requiredMessage="El primer nombre profesional: Este campo es obligatorio."/>
                                            <p:keyFilter id="nombrePProFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtPrimerNombrePro"/>
                                        </p:column>
                                    </h:panelGroup>
                                    
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Segundo nombre" for="txtSegundoNombrePro" style="font-weight:bold"/>
                                    </p:column>
                                    <h:panelGroup id="pnlSegundoNombreProfe">
                                        <p:column class="ui-g-4">
                                            <p:inputText id="txtSegundoNombrePro" value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoNombre}" 
                                                     style="width: 94%;" maxlength="64"
                                                     disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}"/>
                                            <p:keyFilter id="nombreSProFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtSegundoNombrePro"/>
                                        </p:column>
                                    </h:panelGroup>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Primer apellido" for="txtPrimerApellidoPro" style="font-weight:bold"/>
                                    </p:column>
                                    <h:panelGroup id="pnlPrimerApellidoProfe">
                                        <p:column class="ui-g-4">
                                            <p:inputText id="txtPrimerApellidoPro" value="#{referenciaContraRefBean.objeto.cntProfesionales.primerApellido}" 
                                                         style="width: 94%;" maxlength="64"
                                                         disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}" required="true" requiredMessage="El primer apellido profesional: Este campo es obligatorio."/>
                                             <p:keyFilter id="apellidoPProFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtPrimerApellidoPro"/>
                                        </p:column>
                                    </h:panelGroup>
                                    
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Segundo apellido" for="txtSegundoApellidoPro" style="font-weight:bold"/>
                                    </p:column>
                                    <h:panelGroup id="pnlSegundoApellidoProfe">
                                        <p:column class="ui-g-4">
                                            <p:inputText id="txtSegundoApellidoPro" value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoApellido}" style="width: 94%;" 
                                                     maxlength="64" disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}"/>
                                            <p:keyFilter id="apellidoSProFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtSegundoApellidoPro"/>
                                        </p:column>
                                    </h:panelGroup>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Registro Médico" for="txtRegMed" style="font-weight:bold"/>
                                    </p:column> 
                                    <p:column class="ui-g-4">
                                        <p:inputText id="txtRegMed" value="#{referenciaContraRefBean.objeto.cntProfesionales.registroMedico}" maxlength="16"
                                                     style="width: 94%;" disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}"  required="true" requiredMessage="El registro Médico profesional: Este campo es obligatorio."/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="labelEspecialidad" value="#{referenciaContraRefBean.objetoProfesionalPrestador.maEspecialidadValor}" style="width: 70%;"/>
                                        <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarEspecialidad()}" style="width: 34px" icon="ui-icon-person" title="Especilidades" disabled="#{referenciaContraRefBean.objeto.newProfesional}"/>
                                    </p:column>
                                </p:row>
                                <p:outputLabel value="Teléfono" for="telProfesonal" style="font-weight:bold"/>
                                <p:inputNumber id="telProfesonal" value="#{referenciaContraRefBean.objeto.profesionalSolicitaTelefono}" 
                                               disabled="#{!referenciaContraRefBean.objeto.cntProfesionales.guardar}"
                                               minValue="0" decimalPlaces="0" maxlength="16" style="width: 98%;" thousandSeparator="&#160;"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlServicios" header="Servicio al cual se remite" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelServicios" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio refiere  " style="font-weight:bold"/>
                                        <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarServicioHabilitacion(2)}" icon="ui-icon-home" title="Servicio Habilitación"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel id="olServicioRemite" value="#{referenciaContraRefBean.objeto.maServicioRemiteValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo"  style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio solicita " for="itServicioSolicita" style="font-weight:bold"/>
                                        <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarServicioHabilitacion(1)}" icon="ui-icon-home" title="Servicio Habilitación"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputText id="itServicioSolicita" value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}" required="true" style="display:none;" /> 
                                        <p:outputLabel id="olServicioSolicita" value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!--se oculta este panel mientras hablitan la resolucion 2335-->
                        <p:panel id="pnlCausaMotivaaAtención" header="Información de la atención" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelCausaMotivaaAtención" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Causa que motiva la atención" for="causaExternaMedicamento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:selectOneMenu id="causaExternaMedicamento" label="Causa externa" value="#{referenciaContraRefBean.objeto.maeCausaExternaId}" required="true" requiredMessage="Causa que motiva la atención: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeCausaExternaId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaCausaExterna}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Prioridad de la atención" for="prioridad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="prioridad" label="Prioridad de la atención" value="#{referenciaContraRefBean.objeto.prioridad}" required="true" requiredMessage="Prioridad de la atención: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarPrioridad}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItem itemLabel=" No Prioridad " itemValue="false"/>
                                            <f:selectItem itemLabel=" Prioridad " itemValue="true"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Tipo de atencion solicitada" for="tipoAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="tipoAtencion" label="Tipo de atencion solicitada" value="#{referenciaContraRefBean.objeto.maeTipoAtencionId}" required="true" requiredMessage="Tipo de atencion solicitada: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeTipoAtencionId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoAtencion}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Grupo de servicio" for="grupoServicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="grupoServicio" label="grupoServicio" value="#{referenciaContraRefBean.objeto.maeUbicacionId}" required="true" requiredMessage="Grupo de servicio: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarGrupoServicio}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaGrupoServicio}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Modalidad de realizacion de la tecnologia de salud" for="modalidadTecnologia" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="modalidadTecnologia" label="Modalidad de realizacion de la tecnologia de salud" value="#{referenciaContraRefBean.objeto.maeModalidadTecnologiaId}" required="true" requiredMessage="Modalidad de realizacion de la tecnologia de salud: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeModalidadTecnologiaId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaModalidadTecnologia}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Codigo CUPS del procedimiento requerido " style="font-weight:bold"/>
                                        <p:commandButton id="btnCups"  immediate="true" action="#{referenciaContraRefBean.consultarProcedimiento()}" icon="ui-icon-clipboard" title="Agregar Precedimiento" disabled="#{referenciaContraRefBean.objeto.habilitarCups}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel id="labelTecnologia" value="#{referenciaContraRefBean.objeto.maTecnologiaValor}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Cantidad"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel id="labelCantidad" value="#{referenciaContraRefBean.objeto.cantidadTecnologiaSolicitada}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere contraste" for="requiereContraste" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="requiereContraste" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.requiereContraste}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere contraste: Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere sedación" for="requiereSedacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="requiereSedacion" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.requiereSedacion}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere sedación: Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Examen BAG (Bajo anestesia general)" for="examenBAG" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="examenBAG" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.examenBag}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Examen BAG (Bajo anestesia general): Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere Aislamiento" for="requiereAislamiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:selectOneMenu id="requiereAislamiento" label="Requiere Aislamiento" value="#{referenciaContraRefBean.objeto.maeTipoAislamientoId}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere Aislamiento: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoAislamiento}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Condicion y destino de la persona" for="CondicionDestino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="CondicionDestino" label="Condicion y destino de la persona" value="#{referenciaContraRefBean.objeto.maeCondicionDestinoId}" required="true" requiredMessage="Condicion y destino de la persona: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeCondicionDestinoId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaCondicionDestino}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Materno-Perinatal" for="maternoPerinatal" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="maternoPerinatal" label="Materno-Perinatal" value="#{referenciaContraRefBean.objeto.maeMaternoPerinatalId}" required="true" requiredMessage="Materno-Perinatal: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeMaternoPerinatalId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaMaternoPerinata}" var="maPe" itemValue="#{maPe.id}" itemLabel="#{maPe.nombre}" itemDescription="#{maPe.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlInformante" header="Informante" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" for="txtNombreInf" style="font-weight:bold"/>
                                    </p:column>
                                    <h:panelGroup id="pnlNombreInformanteAcomp" style="width: 100%;">
                                        <p:column class="ui-g-10">
                                            <p:inputText id="txtNombreInf" value="#{referenciaContraRefBean.objeto.informanteNombre}" style="width: 100%;" maxlength="512" required="true" requiredMessage="Nombre informante: Este campo es obligatorio."/>
                                             <p:keyFilter id="NombreInformateFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtNombreInf"/>
                                        </p:column>
                                    </h:panelGroup>    
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" for="txtCargoInf" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <h:panelGroup id="pnlCargoInformateAcomp">
                                            <p:inputText id="txtCargoInf" value="#{referenciaContraRefBean.objeto.informanteCargo}" style="width: 94%;" maxlength="64" required="true" requiredMessage="Cargo informante: Este campo es obligatorio."/>  
                                            <p:keyFilter id="cargoInformanteFilter" regEx="/[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/" for="txtCargoInf"/>
                                        </h:panelGroup>
                                    </p:column>    
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" for="txtTelefonoInf" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:inputNumber id="txtTelefonoInf"  value="#{referenciaContraRefBean.objeto.informanteTelefono}"   
                                                       minValue="0" decimalPlaces="0" maxlength="16" style="width: 98%;" thousandSeparator="&#160;" required="true" requiredMessage="Teléfono informante: Este campo es obligatorio."/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>
                        <p:panel id="pnlClinica" header="Información clinica relevante" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelClinica" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Resumen enfermedad Actual" for="txtaEnfermedad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="txtaEnfermedad" style="width: 98%;" autoResize="false" rows="4" required="true" maxlength="2048"
                                                         counter="display2" counterTemplate="{0} caracteres faltantes."
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.resumenClinico}" 
                                                         validatorMessage="Resumen enfermedad: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <h:outputText id="display2" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntecedentes" header="Antecedentes" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntecedentes" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaAntecedentes" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10 " style="display: grid">
                                        <p:inputTextarea id="txtaAntecedentes" label="Descripción (Antedecentes)" maxlength="2048" style="width: 98%;" autoResize="false" rows="4" required="true"
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.antecedentes}" counter="display3" counterTemplate="{0} caracteres faltantes."
                                                         validatorMessage="Antedecentes: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>

                                        <h:outputText id="display3" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        
                        <p:panel id="pnlSignosVitales" header="Signos vitales" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelSignosVitales" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Temperatura °C" for="tnTemperatura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="tnTemperatura" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.temperatura}" style="width: 94%;" autocomplete="off"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia cardiaca" for="txtFrecCard" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtFrecCard" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaCardiaca}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia respiratoria" for="txtFrecRespi" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtFrecRespi" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaRespiratoria}" style="width: 94%;"/>
                                    </p:column> 
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial S" for="txtTensionArtS" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTensionArtS" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArterialSistole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial D" for="txtTensionArtD" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTensionArtD" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArtedialDiastole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Saturación de oxigeno" for="txtSaturacionOxi" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtSaturacionOxi" minValue="0" maxValue="1000" decimalPlaces="2" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.saturacionOxigeno}" style="width: 94%;" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlAntrometricos" header="Datos antropométricos" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntropometricos" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Peso (kg)" for="txtPeso" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtPeso" decimalPlaces="2" minValue="0" maxValue="999" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.peso}" style="width: 98%;" >
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.calcularIMC()}" />
                                        </p:inputNumber>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Talla (cm)" for="txtTalla" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTalla" minValue="0" maxValue="999" decimalPlaces="0" required="true" value="#{referenciaContraRefBean.objetoDatosClinicos.talla}" style="width: 98%;"  >
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.calcularIMC()}"/>
                                        </p:inputNumber>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="IMC" for="txtIMC" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber disabled="true" decimalPlaces="1" minValue="0" maxValue="999" id="txtIMC" value="#{referenciaContraRefBean.objetoDatosClinicos.imc}" style="width: 98%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="pnlExamenFisico" header="Hallazgos del examen físico" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelExamenFisico" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Escala de glasglow (3-15)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputNumber id="txtglasglow" decimalPlaces="0" value="#{referenciaContraRefBean.objetoDatosClinicos.escalaGlasgow}" 
                                                       style="width: 98%;" maxValue="15" onchange="validarRango(this)"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaDescrip" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="txtaDescrip" maxlength="2048"
                                                         label="Descripción (Hallazgos del examen físico)"
                                                         style="width: 98%;" 
                                                         autoResize="false" rows="4"
                                                         required="true" 
                                                         counter="display4" counterTemplate="{0} caracteres faltantes."
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.hallazgosExamenFisico}"
                                                         validatorMessage="Hallazgos: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display4" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Diagnostico"/>
                            </div>
                            <p:dataTable id="tablaDiagnosticos" 
                                         style="margin: 10px;" value="#{referenciaContraRefBean.objeto.listaRefAnexo9Diagnostico}" 
                                         var="diagC" widgetVar="tablaDiagnosticos" rowKey="#{diagC.maDiagnosticosId}">
                                <p:column headerText="Código">
                                    <h:outputText value="#{diagC.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{diagC.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Principal">
                                    <p:selectBooleanCheckbox value="#{diagC.principal}">
                                        <p:ajax listener="#{referenciaContraRefBean.diagnosticoPrincipal(diagC.maDiagnosticosId)}"/>
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center">
                                    <p:commandButton icon="ui-icon-close" immediate="true" action="#{referenciaContraRefBean.borrarDiagnostico(diagC)}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlTriage" header="Triage" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriage" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nivel Triage" for="somTriage" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:selectOneMenu id="somTriage" style="width: 20%;" required="true" var="t" value="#{referenciaContraRefBean.objectoTriage}" converter="triageConverterReferencia">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTriage}" 
                                                           var="tri" itemValue="#{tri}" 
                                                           itemLabel="#{tri.descripcion}"/>
                                            <p:column style="width:10%">
                                                <img src="#{t.url}" style="width: 20px; height: 20px"/>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Name"/>
                                                </f:facet>
                                                <h:outputText value="#{t.descripcion}"/>
                                            </p:column>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                       
                        <p:panel id="pnlMotivos" header="Motivos de la remisión" style="margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivos" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaDescripRem" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: grid">
                                        <p:inputTextarea id="txtaDescripRem" label="Descripción (Motivos de la remisión)" style="width: 98%;" autoResize="false" rows="4" required="true" maxlength="2048"
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.motivoRemision}" counter="display5" counterTemplate="{0} caracteres faltantes."
                                                         validatorMessage="Motivos: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display5" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.abrirAdjuntos()}" icon="ui-icon-plusthick" title="Crear Adjuntos"/>
                            </div>
                            <p:dataTable id="tablaAdjuntosVer" style="margin: 10px;" value="#{referenciaContraRefBean.listaRefAnexo9Adjuntos}" var="adj" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre">
                                    <p:outputLabel value="#{adj.nombre}#{adj.extension}"/>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton icon="ui-icon-close" immediate="true" action="#{referenciaContraRefBean.borrarAdjunto(adj)}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid id="panelCrear" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" onclick="guardarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarRemote" action ="#{referenciaContraRefBean.guardar()}" update="frmCrearAfiliado"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoCrear').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- editar -->
            <p:dialog widgetVar="dialogoEditar" appendTo="@(body)" modal="true" style="max-width: 95%; overflow: hidden !important;" dynamic="true" onShow="inhabilitarEnter()">
                <header style="font-size: 30px;">
                    <b>Editar</b>
                </header>
                <h:form id="frmAuditoriaEditar" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{referenciaContraRefBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{referenciaContraRefBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmEditarAfiliado">
                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:outputPanel id="panelBotonesEditar" style="margin-top: 2px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(referenciaContraRefBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.tipoSolicitudStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeEstadoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Canal Comunicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCanalComunicacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.usuarioCrea}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraCrea}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Consecutivo" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.consecutivo}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Incio Gestion" style="font-weight:bold;"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraInicioGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Fin Gestion" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraFinGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Dias" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularDiasGestion()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Horas" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularHorasGestion()}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : referenciaContraRefBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{referenciaContraRefBean.colorEstadoAfiliado}" value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}"/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.cntPrestador.razonSocial}"/>

                                <p:outputLabel value="Sede IPS Primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}" />

                                <p:outputLabel value="Departamento IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tiene Portabilidad" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.tienePortabilidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Sede Prestador Portabilidad"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Municipio Prestador Portabilidad" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS " style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}"/>
                                
                            </p:panelGrid>
                        </p:panel>
                         <!-- se culta panel mientras habilitan la resolucion 2335-->
                        <p:panel style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid style="width:100%;margin:10px 0px" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Dirección Alternativa" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.afiliadoDireccionAlternativa}"/>
                                
                                <p:outputLabel value="Nombre contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.nombreContactoEmergencia}"/>
                                
                                <p:outputLabel value="Telefono contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.telefonoContactoEmergencia}"/>

                            </p:panelGrid>
                        </p:panel>
                        <!--Programa especial-->
                        <p:panel id="pProgramaEspecialEditar" header="Programa Especiales - Gestión del Riesgo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="listaProgrmaEspecialEditar" var="varEd" value="#{referenciaContraRefBean.listaAfiliadoPrograma}" widgetVar="listaProgrmaEspecialEditar" resizableColumns="true" emptyMessage="No se encontraron registros" >
                                <p:column headerText="Programa">
                                    <h:outputText value="#{varEd.pePrograma.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="IPS-Programa">
                                    <h:outputText value="#{varEd.cntPrestadorSede.nombreSede}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <p:panel id="pnlAcompanante" header="Información acompañante" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAcompanante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeAcompananteTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDocumento}"/>

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteTelefono}" style="width: 94%;"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDireccion}" style="width: 94%;"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteMunicipio}" style="width: 94%;"/>     

                                <p:outputLabel value="Departamento" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDepartamento}" style="width: 94%;"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPS" header="Información IPS" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                              

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Razón social"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                    <h:form id="frmEditarProfes">
                        <p:panel id="pnlPersona" header="Profesional que solicita la referencia" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.profesionalSolicitaTelefono}" />

                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                    <h:form id="frmEditarDatos">
                        <p:panel id="pnlServicios" header="Servicio al cual se remite" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelServicios" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio refiere" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteValor}"/>
                                        <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarServicioHabilitacion(2)}" style="margin-left: 5px;" icon="ui-icon-home" title="Servicio Habilitación"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio solicita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}"/>
                                        <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarServicioHabilitacion(1)}" style="margin-left: 5px;" icon="ui-icon-home" title="Servicio Habilitación"/>
                                    </p:column>
                                     <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold; display: none"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaCodigo}" style="display: none"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <!-- se oculta panel hasta que habiliten la resolucion 2335-->
                        <p:panel id="pnlCausaMotivaaAtenciónEditar" header="Información de la atención" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelCausaMotivaaAtenciónEditar" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Causa que motiva la atención" for="causaExternaMedicamento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:selectOneMenu id="causaExternaMedicamento" label="Causa externa" value="#{referenciaContraRefBean.objeto.maeCausaExternaId}" required="true" requiredMessage="Causa que motiva la atención: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaCausaExterna}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Prioridad de la atención" for="prioridad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="prioridad" label="Prioridad de la atención" value="#{referenciaContraRefBean.objeto.prioridad}" required="true" requiredMessage="Prioridad de la atención: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItem itemLabel=" No Prioridad " itemValue="false"/>
                                            <f:selectItem itemLabel=" Prioridad " itemValue="true"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Tipo de atencion solicitada" for="tipoAtencion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="tipoAtencion" label="Tipo de atencion solicitada" value="#{referenciaContraRefBean.objeto.maeTipoAtencionId}" required="true" requiredMessage="Tipo de atencion solicitada: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoAtencion}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Grupo de servicio" for="grupoServicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="grupoServicio" label="grupoServicio" value="#{referenciaContraRefBean.objeto.maeUbicacionId}" required="true" requiredMessage="Grupo de servicio: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaGrupoServicio}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Modalidad de realizacion de la tecnologia de salud" for="modalidadTecnologia" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="modalidadTecnologia" label="Modalidad de realizacion de la tecnologia de salud" value="#{referenciaContraRefBean.objeto.maeModalidadTecnologiaId}" required="true" requiredMessage="Modalidad de realizacion de la tecnologia de salud: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaModalidadTecnologia}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Codigo CUPS del procedimiento requerido " style="font-weight:bold"/>
                                        <p:commandButton id="btnCups" immediate="true" action="#{referenciaContraRefBean.consultarProcedimiento()}" icon="ui-icon-clipboard" title="Agregar Precedimiento" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel id="labelTecnologia" value="#{referenciaContraRefBean.objeto.maTecnologiaValor}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Cantidad"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel id="labelCantidad" value="#{referenciaContraRefBean.objeto.cantidadTecnologiaSolicitada}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere contraste" for="requiereContraste" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="requiereContraste" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.requiereContraste}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere contraste: Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere sedación" for="requiereSedacion" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="requiereSedacion" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.requiereSedacion}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere sedación: Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Examen BAG (Bajo anestesia general)" for="examenBAG" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectBooleanButton id="examenBAG" onLabel="Sí" offLabel="No" offIcon="ui-icon-closethick" onIcon="ui-icon-check" value="#{referenciaContraRefBean.objeto.examenBag}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Examen BAG (Bajo anestesia general): Este campo es obligatorio" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere Aislamiento" for="requiereAislamiento" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:selectOneMenu id="requiereAislamiento" label="Requiere Aislamiento" value="#{referenciaContraRefBean.objeto.maeTipoAislamientoId}" required="#{!referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}" requiredMessage="Requiere Aislamiento: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarCodigoCUPSprocedimientoRequerido}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoAislamiento}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Condicion y destino de la persona" for="CondicionDestino" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="CondicionDestino" label="Condicion y destino de la persona" value="#{referenciaContraRefBean.objeto.maeCondicionDestinoId}" required="true" requiredMessage="Condicion y destino de la persona: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="true">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaCondicionDestino}" var="tipCau" itemValue="#{tipCau.id}" itemLabel="#{tipCau.nombre}" itemDescription="#{tipCau.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Materno-Perinatal" for="maternoPerinatal" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:selectOneMenu id="maternoPerinatal" label="Materno-Perinatal" value="#{referenciaContraRefBean.objeto.maeMaternoPerinatalId}" required="true" requiredMessage="Materno-Perinatal: Este campo es obligatorio." filter="true" filterMatchMode="contains" style="width:90%;" disabled="#{referenciaContraRefBean.objeto.habilitarMaeMaternoPerinatalId}">                                    
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />    
                                            <f:selectItems value="#{referenciaContraRefBean.listaMaternoPerinata}" var="maPe" itemValue="#{maPe.id}" itemLabel="#{maPe.nombre}" itemDescription="#{maPe.descripcion}"/>                                   
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlInformante" header="Informante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteNombre}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteCargo}"/>    
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteTelefono}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>
                        <p:panel id="pnlClinica" header="Información clinica relevante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelClinica" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Resumen enfermedad Actual" for="txtaEnfermedad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="txtaEnfermedad" style="width: 98%;" autoResize="false" readonly="#{referenciaContraRefBean.existeDatoClinico}" rows="4" required="true" maxlength="2048"
                                                         counter="display2" counterTemplate="{0} caracteres faltantes."
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.resumenClinico}" 
                                                         validatorMessage="Resumen enfermedad: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display2" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntecedentes" header="Antecedentes" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntecedentes" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaAntecedentes" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="txtaAntecedentes" label="Descripción (Antedecentes)" maxlength="2048" style="width: 98%;" autoResize="false" readonly="#{referenciaContraRefBean.existeDatoClinico}" rows="4" required="true"
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.antecedentes}" counter="display3" counterTemplate="{0} caracteres faltantes."
                                                         validatorMessage="Antedecentes: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display3" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlSignosVitales" header="Signos vitales" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelSignosVitales" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Temperatura °C" for="tnTemperatura" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="tnTemperatura" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.temperatura}" style="width: 94%;" autocomplete="off"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia cardiaca" for="txtFrecCard" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtFrecCard" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaCardiaca}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia respiratoria" for="txtFrecRespi" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtFrecRespi" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaRespiratoria}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial S" for="txtTensionArtS" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTensionArtS" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArterialSistole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial D" for="txtTensionArtD" style="font-weight:bold"/>
                                    </p:column> 
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTensionArtD" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArtedialDiastole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Saturación de oxigeno" for="txtSaturacionOxi" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtSaturacionOxi" minValue="0" maxValue="1000" decimalPlaces="2" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.saturacionOxigeno}" style="width: 94%;" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntrometricos" header="Datos antropométricos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntropometricos" columns="4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Peso (kg)" for="txtPeso" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtPeso" decimalPlaces="2" size="16" minValue="0" maxValue="999" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.peso}" style="max-width: 90%;" >
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.calcularIMC()}" />
                                        </p:inputNumber>  
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Talla (cm)" for="txtTalla" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber id="txtTalla" minValue="0" size="16" maxValue="999" decimalPlaces="0" required="true" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.talla}" style="width: 98%;"  >
                                            <p:ajax event="change" listener="#{referenciaContraRefBean.calcularIMC()}"/>
                                        </p:inputNumber>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="IMC" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputNumber disabled="true" decimalPlaces="1" size="16" minValue="0" maxValue="999" id="txtIMC" value="#{referenciaContraRefBean.objetoDatosClinicos.imc}" style="width: 98%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlExamenFisico" header="Hallazgos del examen físico" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelExamenFisico" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Escala de glasglow (3-15)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputNumber id="txtglasglow" decimalPlaces="0" readonly="#{referenciaContraRefBean.existeDatoClinico}" value="#{referenciaContraRefBean.objetoDatosClinicos.escalaGlasgow}" 
                                                       style="width: 98%;" maxValue="15" onchange="validarRango(this)"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaDescrip" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="txtaDescrip" maxlength="2048"
                                                         label="Descripción (Hallazgos del examen físico)"
                                                         style="width: 98%;" 
                                                         readonly="#{referenciaContraRefBean.existeDatoClinico}"
                                                         autoResize="false" rows="4"
                                                         required="true" 
                                                         counter="display4" counterTemplate="{0} caracteres faltantes."
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.hallazgosExamenFisico}"
                                                         validatorMessage="Hallazgos: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display4" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarDiagnostico()}" icon="ui-icon-clipboard" title="Diagnostico" update="frmEditarDatos:tablaDiagnosticos"/>
                            </div>
                            <p:dataTable id="tablaDiagnosticos" 
                                         value="#{referenciaContraRefBean.objeto.listaRefAnexo9Diagnostico}" 
                                         var="diagE" widgetVar="tablaDiagnosticos" rowKey="#{diagE.maDiagnosticosId}">
                                <p:column headerText="Código" style="text-align: center;">
                                    <h:outputText value="#{diagE.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <h:outputText value="#{diagE.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Es Principal" style="text-align: center;">
                                    <p:selectBooleanCheckbox value="#{diagE.principal}">
                                        <p:ajax listener="#{referenciaContraRefBean.diagnosticoPrincipal(diagE.maDiagnosticosId)}"/>
                                    </p:selectBooleanCheckbox>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton icon="ui-icon-close" immediate="true" >
                                        <p:ajax event="click" update="frmEditarDatos:tablaDiagnosticos" listener="#{referenciaContraRefBean.borrarDiagnostico(diagE)}"/>
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlTriage" header="Triage" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelTriage" columns="3" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Triage Nivel" for="somTriageEdit" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:selectOneMenu id="somTriageEdit" style="width: 20%;" required="true" var="t" value="#{referenciaContraRefBean.objectoTriage}" converter="triageConverterReferencia">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTriage}" 
                                                           var="tri" itemValue="#{tri}" 
                                                           itemLabel="#{tri.descripcion}"/>
                                            <p:column style="width:10%">
                                                <img src="#{t.url}" style="width: 20px; height: 20px"/>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Name"/>
                                                </f:facet>
                                                <h:outputText value="#{t.descripcion}"/>
                                            </p:column>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlMotivos" header="Motivos de la remisión" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelMotivos" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" for="txtaDescripRem" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:inputTextarea id="txtaDescripRem" label="Descripción (Motivos de la remisión)" style="width: 98%;" autoResize="false" rows="4" required="true" maxlength="2048"
                                                         value="#{referenciaContraRefBean.objetoDatosClinicos.motivoRemision}" counter="display5" counterTemplate="{0} caracteres faltantes."
                                                         readonly="#{referenciaContraRefBean.existeDatoClinico}"
                                                         validatorMessage="Motivos: Ingrese caracteres válidos">
                                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                                        </p:inputTextarea>
                                        <br/>
                                        <h:outputText id="display5" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="margin:10px 0px;" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.abrirAdjuntos()}" icon="ui-icon-plusthick" title="Crear Adjuntos"/>
                            </div>
                            <p:dataTable id="tablaAdjuntosEditar" style="margin: 10px;" value="#{referenciaContraRefBean.listaRefAnexo9Adjuntos}" var="adj" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.nombre}#{adj.extension}"/>
                                </p:column>
                                <p:column headerText="Fecha crea" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton icon="ui-icon-close" immediate="true"
                                                     rendered="#{adj.id == null ? true : false}"
                                                     action="#{referenciaContraRefBean.borrarAdjunto(adj)}"/>
                                    <p:commandButton icon="ui-icon-arrowstop-1-s"
                                                     rendered="#{(adj.id != null ? true : false) and adj.borrado == 0}"
                                                     title="Descargar Adjunto"
                                                     action="#{referenciaContraRefBean.descargarAdjunto(adj)}"
                                                     ajax="false" 
                                                     process="@this"/>
                                    <p:commandButton  class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(adj.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    <p:commandButton rendered="#{adj.borrado == 1}" class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoriaBorrado(adj)}" icon="ui-icon-info" title="Auditoría Borrado" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panelGrid id="panelEditar" style="width:100%;">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Modificar" type="button" onclick="modificarRemote()" validateClient="true"/>
                                        <p:remoteCommand name="modificarRemote" action="#{referenciaContraRefBean.modificar()}" process="@all" update="frmEditarDatos"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoEditar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- gestionar -->
            <p:dialog widgetVar="dialogoGestionar" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true" onHide="refrescarListar()" onShow="inhabilitarEnter()">
                <header style="font-size: 30px;">
                    <b>Gestionar</b>
                </header>
                <h:form id="frmAuditoriaGestionar" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{referenciaContraRefBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{referenciaContraRefBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmGestionarVer">
                        <p:panel header="Tipo de solicitud" style="margin-bottom:10px;" toggleable="true">
                            <p:outputPanel id="panelBotonesGestionar" style="margin-top: 2px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(referenciaContraRefBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid >

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.tipoSolicitudStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                         <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeEstadoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Número Solicitud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.id}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Canal Comunicación" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCanalComunicacionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Usuario Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.usuarioCrea}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Crea" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraCrea}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Consecutivo" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.consecutivo}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Incio Gestion" style="font-weight:bold;"/> 
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraInicioGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Fecha Fin Gestion" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraFinGestion}">
                                            <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                        </p:outputLabel>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Dias" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularDiasGestion()}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Horas" style="font-weight:bold;"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.calcularHorasGestion()}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAfiliado" header="Información del afiliado" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : referenciaContraRefBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{referenciaContraRefBean.colorEstadoAfiliado}" value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}"/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.cntPrestador.razonSocial}"/>

                                <p:outputLabel value="Sede IPS Primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tiene Portabilidad" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.tienePortabilidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Sede Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Municipio Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}"/>
                                
                            </p:panelGrid>
                        </p:panel>
                         <!-- se culta panel mientras habilitan la resolucion 2335-->
                        <p:panel style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid style="width:100%;margin:10px 0px" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid">

                                <p:outputLabel value="Dirección Alternativa" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.afiliadoDireccionAlternativa}"/>
                                
                                <p:outputLabel value="Nombre contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.nombreContactoEmergencia}"/>
                                
                                <p:outputLabel value="Telefono contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.telefonoContactoEmergencia}"/>

                            </p:panelGrid>
                        </p:panel>
                        <!--Programa especial-->
                        <p:panel id="pProgramaEspecialGestionar" header="Programa Especiales - Gestión del Riesgo" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:dataTable id="listaProgrmaEspecialGestionar" var="varGS" value="#{referenciaContraRefBean.listaAfiliadoPrograma}" widgetVar="listaProgrmaEspecialGestionar" resizableColumns="true" emptyMessage="No se encontraron registros" >
                                <p:column headerText="Programa">
                                    <h:outputText value="#{varGS.pePrograma.descripcionPrograma}" />
                                </p:column>
                                <p:column headerText="IPS-Programa">
                                    <h:outputText value="#{varGS.cntPrestadorSede.nombreSede}" />
                                </p:column>
                            </p:dataTable> 
                        </p:panel>
                        <p:panel id="pnlAcompanante" header="Información acompañante" style="margin-bottom:10px;" toggleable="true">
                            <p:panelGrid id="panelAcompanante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeAcompananteTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDocumento}"/>

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteTelefono}" style="width: 94%;"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDireccion}" style="width: 94%;"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteMunicipio}" style="width: 94%;"/>     

                                <p:outputLabel value="Departamento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDepartamento}" style="width: 94%;"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlIPS" header="Información IPS" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                              

                                <p:outputLabel value="Número documento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Razón social"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                                        

                                <p:outputLabel value="Ciudad/Municipio"   style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento"   style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlPersona" header="Profesional que solicita la referencia" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Registro Médico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.registroMedico}" style="width: 94%;"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.profesionalSolicitaTelefono}" />

                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlServicios" header="Servicio al cual se remite" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelServicios" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio refiere" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteValor}"/>
                                    </p:column>
                                     <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteCodigo}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio solicita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Codigo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaCodigo}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                         <!-- se culta pael mientras habilitan la resolucion 2335-->
                        <p:panel id="pnlCausaMotivaaAtenciónGestionar" header="Información de la atención" style="margin:10px 0px;" toggleable="true">
                            <p:panelGrid id="panelCausaMotivaaAtenciónGestionar" columns="2" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Causa que motiva la atención" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCausaExternaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Prioridad de la atención" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.prioridadStr}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Tipo de atencion solicitada" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeTipoAtencionValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Grupo de servicio" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeUbicacionValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Modalidad de realizacion de la tecnologia de salud" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeModalidadTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Codigo CUPS del procedimiento requerido " style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.maTecnologiaValor}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Cantidad"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.cantidadTecnologiaSolicitada}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Requiere contraste" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                       <p:outputLabel value="#{referenciaContraRefBean.objeto.requiereContrasteStr}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere sedación"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.requiereSedacionStr}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Examen BAG (Bajo anestesia general)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.examenBagStr}" />
                                    </p:column>
                                    <p:column class="ui-g-3">
                                         <p:outputLabel value="Requiere Aislamiento"  style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeTipoAislamientoValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Condicion y destino de la persona" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCondicionDestinoValor}"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="Materno-Perinatal" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-3">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maeMaternoPerinatalValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlInformante" header="Informante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelInformante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteNombre}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteCargo}"/> 
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteTelefono}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>
                        <p:panel id="pnlClinica" header="Información clinica relevante" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelClinica" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Resumen enfermedad Actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaEnfermedad" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.resumenClinico}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntecedentes" header="Antecedentes" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntecedentes" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.antecedentes}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlSignosVitales" header="Signos vitales" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelSignosVitales" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Temperatura °C" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.temperatura}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia cardiaca" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaCardiaca}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia respiratoria" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaRespiratoria}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial S" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArterialSistole}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial D" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArtedialDiastole}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Saturación de oxigeno" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.saturacionOxigeno}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlAntrometricos" header="Datos antropométricos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelAntropometricos" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Peso (kg)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.peso}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Talla (cm)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.talla}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="IMC" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.imc}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlExamenFisico" header="Hallazgos del examen físico" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelExamenFisico" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Escala de glasglow (3-15)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.escalaGlasgow}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaDescrip" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.hallazgosExamenFisico}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlDiagnostico" header="Diagnósticos" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:dataTable id="tablaDiagnosticos" style="margin: 10px;" value="#{referenciaContraRefBean.objeto.listaRefAnexo9Diagnostico}" var="diag" widgetVar="tablaDiagnosticos">
                                <p:column headerText="Código" style="text-align: center;">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Es Principal" style="text-align: center;">
                                    <h:outputText value="#{diag.principal ? 'Si' : 'No'}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel id="pnlTriage" header="Triage" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelTriage" columns="3" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Triage Nivel" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: flex">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                        <img style="visibility: #{referenciaContraRefBean.objetoDatosClinicos.triage == 0 ? 'hidden' : 'visibility'};" 
                                             src="#{referenciaContraRefBean.obtenerTriage(referenciaContraRefBean.objetoDatosClinicos.triage)}" width="20" 
                                             title="Triage Nivel #{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel id="pnlMotivos" header="Motivos de la remisión" style="width:100%;margin:10px 0px" toggleable="true">
                            <p:panelGrid id="panelMotivos" columns="4" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.motivoRemision}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel header="Gestionar" style="margin-bottom:10px;" toggleable="true">
                            <div align="right"> 
                                <p:commandButton rendered="#{referenciaContraRefBean.conexion.empresa.administradora}" id="btnGestionar" immediate="true" action="#{referenciaContraRefBean.crearGestion()}" icon="ui-icon-plusthick" title="Agregar Gestión" disabled="#{!referenciaContraRefBean.gestionar}"/>
                            </div>
                            <p:dataTable id="tablaGestion" style="margin: 10px;" value="#{referenciaContraRefBean.lazyGestion}" var="gest" widgetVar="tablaGestion"
                                         rowKey="#{obj.id}" rows="10" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros"
                                         sortBy="#{gest.fechaHoraCrea}">                                
                                <p:column headerText="Tipo Gestión (Estado)" filterBy="#{gest.maeTipoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaGestion').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoGestion}" var="gestt" itemLabel="#{gestt.descripcionCorta}" itemValue="#{gestt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{gest.maeTipoValor}"/>
                                </p:column>
                                <p:column headerText="Motivos" filterBy="#{gest.maeMotivoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaGestion').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaMotivoGestion}" var="moti" itemLabel="#{moti.descripcionCorta}" itemValue="#{moti.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{gest.maeMotivoValor}"/>
                                </p:column>
                                <p:column headerText="IPS o prestador" filterBy="#{gest.cntPrestadorSede.id}">
                                    <f:facet name="filter">
                                        <p:inputText label="IPS" maxlength="128" style="width: 95%;" onchange="PF('tablaGestion').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{gest.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Descripción" filterBy="#{gest.observacion}">
                                    <h:outputText value="#{gest.observacion}"/>
                                    <!--<p:commandButton actionListener="{referenciaContraRefBean.mostrarMensaje(gest.observacion)}" icon="ui-icon-comment"/>-->
                                </p:column>
                                <p:column headerText="Fecha Aceptación" sortBy="#{gest.fechaHoraAceptacion}">
                                    <h:outputText value="#{gest.fechaHoraAceptacion}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Egreso" sortBy="#{gest.fechaHoraEgreso}">
                                    <h:outputText value="#{gest.fechaHoraEgreso}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Gestión" sortBy="#{gest.fechaHoraCrea}">
                                    <h:outputText value="#{gest.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>                               
                                <p:column headerText="Usuario Gestiona" filterBy="#{gest.usuarioCrea}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario Gestiona" maxlength="128" style="width: 95%;" onchange="PF('tablaGestion').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{gest.usuarioCrea}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel id="pnlAdjuntos" header="Adjuntos" style="margin:10px 0px" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.abrirAdjuntos()}" icon="ui-icon-plusthick" title="Crear Adjuntos"/>
                            </div>
                            <p:dataTable id="tablaAdjuntosGestionar" style="margin: 10px;" value="#{referenciaContraRefBean.listaRefAnexo9Adjuntos}" var="adj" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo" style="text-align: center; #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center; #{adj.colorAdjuntoBorrado()}  ">
                                    <p:outputLabel value="#{adj.nombre}#{adj.extension}"/>
                                </p:column>
                                <p:column headerText="Fecha crea" style="text-align: center;  #{adj.colorAdjuntoBorrado()}">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton icon="ui-icon-close" immediate="true"
                                                     rendered="#{adj.id == null ? true : false}"
                                                     action="#{referenciaContraRefBean.borrarAdjunto(adj)}"/>
                                    <p:commandButton rendered="#{adj.id != null and adj.borrado == 0 and referenciaContraRefBean.conexion.empresa.administradora}" title="Borrar" immediate="true" action="#{referenciaContraRefBean.ventanaBorrarAdjunto(adj.id)}" icon="ui-icon-trash">
                                        <p:confirm header="Confirmación" message="¿Está seguro que desea eliminar?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                    <p:commandButton icon="ui-icon-arrowstop-1-s"
                                                     rendered="#{(adj.id != null ? true : false) and adj.borrado == 0}"
                                                     title="Descargar Adjunto"
                                                     action="#{referenciaContraRefBean.descargarAdjunto(adj)}"
                                                     ajax="false" 
                                                     process="@this"/>
                                    <p:commandButton  class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(adj.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                                    <p:commandButton rendered="#{adj.borrado == 1}" class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoriaBorrado(adj)}" icon="ui-icon-info" title="Auditoría Borrado" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelEditar" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Gestionar Adjuntos" type="button" onclick="guardarGestinarAdjRemote()" validateClient="true"/>
                                        <p:remoteCommand name="guardarGestinarAdjRemote" action="#{referenciaContraRefBean.guardarAdjuntoGestionar()}" process="@all"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoGestionar').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Gestionar" widgetVar="dialogoAgregarGestion" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <h:form class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(referenciaContraRefBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                </h:form>
                <h:form id="frmAgregarGestion">
                    <p:panelGrid id="panelGestion" columns="2" layout="grid" styleClass="showcase-text-align-center">

                        <p:outputLabel value="Gestion Estado" for="somGestionEstado" style="font-weight:bold"/>
                        <p:selectOneMenu id="somGestionEstado" required="true" value="#{referenciaContraRefBean.objetoGestion.maeTipoId}" style="width: 90%;" >
                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                            <f:selectItems value="#{referenciaContraRefBean.listaTipoGestion}" var="gestC" itemLabel="#{gestC.descripcionCorta}" itemValue="#{gestC.id}" itemDescription="#{gestC.descripcion}"/>
                            <p:ajax event="change" listener="#{referenciaContraRefBean.validarGestion()}" update="frmAgregarGestion"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Motivo" for="somMotivo" style="font-weight:bold"/>
                        <p:selectOneMenu id="somMotivo" required="true" value="#{referenciaContraRefBean.objetoGestion.maeMotivoId}" style="width: 90%;" disabled="#{referenciaContraRefBean.inhabilitarMotivo}" >
                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                            <f:selectItems value="#{referenciaContraRefBean.listaGestionarMotivos}" var="motiC" itemLabel="#{motiC.descripcionCorta}" itemValue="#{motiC.id}" itemDescription="#{motiC.descripcion}"/>
                        </p:selectOneMenu>
                        <p:row>
                            <p:column class="ui-g-6">
                                <p:outputLabel value="IPS*" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-6">
                                <p:outputLabel id="olPrestadorIPS" value="#{referenciaContraRefBean.objetoGestion.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.consultarIPS()}" icon="ui-icon-home" title="IPS"/>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{referenciaContraRefBean.validarFechaHoraEgresoGestion()}">
                            <p:column class="ui-g-6">
                                <p:outputLabel value="Fecha hora egreso" for="fechaHoraEgresoGestion" style="font-weight:bold" />
                            </p:column>
                            <p:column class="ui-g-6">
                                <p:datePicker id="fechaHoraEgresoGestion" yearRange="c-100:c" label="Fecha hora aceptación"
                                              style="width: 95%;"
                                              readonlyInput="true" value="#{referenciaContraRefBean.objetoGestion.fechaHoraEgreso}"
                                              locale="es" monthNavigator="true" pattern="yyyy-MM-dd HH:mm" showTime="true"
                                              size="30" maxlength="10"
                                              required="#{referenciaContraRefBean.validarCampoOblicatorioFechaHoraEgresoGestion()}" requiredMessage="Fecha hora egreso: Este campo es obligatorio" />

                            </p:column>
                        </p:row>
                        <p:row rendered="#{referenciaContraRefBean.validarFechaReferencia()}">
                            <p:column class="ui-g-6">
                                <p:outputLabel value="Fecha hora aceptación" for="fechaReferencia" style="font-weight:bold" />
                            </p:column>
                            <p:column class="ui-g-6">
                                <p:datePicker id="fechaReferencia" yearRange="c-100:c" label="Fecha hora aceptación"
                                              style="width: 95%;"
                                              readonlyInput="true" value="#{referenciaContraRefBean.objetoGestion.fechaHoraAceptacion}"
                                              locale="es" monthNavigator="true" pattern="yyyy-MM-dd HH:mm" showTime="true"
                                              size="30" maxlength="10"
                                              required="#{referenciaContraRefBean.validarCampoOblicatorioFechaHoraAceptacion()}" requiredMessage="Fecha hora aceptación: Este campo es obligatorio" />

                            </p:column>
                        </p:row>

                        <p:outputLabel value="Descripción" for="atxtDescripcion" style="font-weight:bold"/>
                        <p:inputTextarea id="atxtDescripcion" required="true" autoResize="false" value="#{referenciaContraRefBean.objetoGestion.observacion}" 
                                         maxlength="1024" style="width: 98%;" counter="display6" counterTemplate="{0} caracteres faltantes."
                                         validatorMessage="Descripción: Ingrese caracteres válidos">
                            <f:validateRegex pattern="#{referenciaContraRefBean.validadorPatter}" /> 
                        </p:inputTextarea>

                        <h:outputText id="display6" />
                        <spacer/>
                        <p:outputLabel value="Nombre Contacto IPS" style="font-weight:bold"/>
                        <p:inputText id="txtNombreIps" value="#{referenciaContraRefBean.objetoGestion.contactoNombre}" style="width: 98%;" disabled="true"/>

                        <p:outputLabel value="Telefono Contacto IPS" style="font-weight:bold"/>
                        <p:inputText id="txtTelefonoIPS" value="#{referenciaContraRefBean.objetoGestion.contactoTelefono}" style="width: 98%;" maxlength="16" disabled="true"/>

                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6" style="text-align: center">
                                    <p:commandButton value="Adicionar" type="button" onclick="gestionarRemote()" validateClient="true"/>
                                    <p:remoteCommand name="gestionarRemote" action="#{referenciaContraRefBean.guardarGestionar()}" update="frmAgregarGestion"/>
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoAgregarGestion').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>
            <p:dialog header="Advertencia" widgetVar="dialogoConfirmarTransporte" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <h:form id="frmConfirmarTransporte">
                    <p:panelGrid id="panelConfirmarTransporte" columns="1" layout="grid" style="width:100%;margin:10px 0px;background: #FFF;border: 0px solid transparent;">
                        <span icon="ui-icon-alert" styleClass="ui-widget-header" style="background: #FFF;border: 0px solid transparent;"/>
                        <p:outputLabel value="Por favor gestionar al menos un transporte antes de pasar a estado cerrado." style="font-weight: 100;" />
                        <f:facet name="footer">
                            <p:row style="background: #FFF;border: 0px solid transparent;">
                                <p:column colspan="6" style="text-align: center">
                                    <p:commandButton value="Gestionar Transporte" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" style="left:25%" onclick="agregarConfirmarTransporte()" validateClient="true"/>
                                    <p:remoteCommand name="agregarConfirmarTransporte" action="#{referenciaContraRefBean.agregarTransporteGestionCerrado()}"/>
                                    <p:commandButton value="Cancelar" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" style="left:25%" onclick="PF('dialogoConfirmarTransporte').hide()" immediate="true"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>
            <p:dialog header="Crear Adjunto" widgetVar="dialogoAdjuntoGestionar" appendTo="@(body)" modal="true" width="550" onShow="inhabilitarEnter()">
                <h:form id="frmAdjuntoG">
                    <p:panelGrid id="panelAdjuntos" columns="2" layout="grid" styleClass="showcase-text-align-center">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Tipo Adjunto" for="somTipo" style="font-weight:bold"/> 
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:selectOneMenu id="somTipo" required="true" value="#{referenciaContraRefBean.objetoAdjunto.maeTipoArchivoId}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaTipoAdjunto}" var="adju" itemValue="#{adju.id}" itemLabel="#{adju.nombre}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Archivo" for="adjuntoArchivo" style="font-weight:bold"/> 
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:fileUpload id="adjuntoArchivo" label="Adjunto" mode="advanced"
                                              skinSimple="true"
                                              value="#{referenciaContraRefBean.archivoAdjunto}"
                                              listener="#{referenciaContraRefBean.cargarArchivoDocumento}"
                                              multiple="true"
                                              auto="true"
                                              invalidFileMessage="Tipo inválido de archivo"
                                              fileLimitMessage="Máximo número de archivos excedido."
                                              update="nombreDocumento cmdnombreDocumento"
                                              uploadLabel="Subir"  cancelLabel="Cancelar"
                                              sizeLimit="7000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|PDF|jpe?g|doc|DOC|docx)$/"
                                              widgetVar="subirManual"/>
                                <br/>
                                <p:outputLabel styleClass="texto-adjuntos" id="nombreDocumento" value="#{referenciaContraRefBean.nombreDocumento}" style="font-weight:bold"/>
                                <p:commandButton id="cmdnombreDocumento" icon="ui-icon-close" action="#{referenciaContraRefBean.borrarArchivo()}"
                                                 style="#{referenciaContraRefBean.mostrarBorrarDocumento ?  'display: initial;' : 'display: none;'} width: 30px"
                                                 update="nombreDocumento cmdnombreDocumento adjuntoArchivo"  immediate="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog widgetVar="dialogoTransporte" appendTo="@(body)" modal="true" style="max-width: 95%;" dynamic="true" onShow="inhabilitarEnter()">
                <header style="font-size: 30px;">
                    <b>Gestionar Transporte</b>
                </header>
                <h:form id="frmAuditoriaTransporte" class="frmAuditoria" style="margin-top: -15px; text-align: right;">
                    <p:outputLabel id="labelDatosAuditoria" value="#{referenciaContraRefBean.objeto.asegAfiliado.datosAuditoria} "/>
                    <p:commandButton id="auditoria" class="btnAuditoria" action="#{referenciaContraRefBean.mostrarAfiliadoGeneral()}" icon="ui-icon-person" title="Afiliado" />
                </h:form>
                <p:scrollPanel mode="native" style="max-height: 450px;">
                    <h:form id="frmTransporteVer">
                        <p:panel header="Referencia y Contrareferencia" style="margin-bottom:10px;" toggleable="true">
                            <p:outputPanel id="panelBotonesTransporte" style="margin-top: -5px; text-align: right;">
                                <p:commandButton class="btnAuditoria" action="#{referenciaContraRefBean.getAuditoria(referenciaContraRefBean.objeto.auditoriaStrHTML)}" icon="ui-icon-comment" title="Auditoría" />
                            </p:outputPanel>
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.tipoSolicitudStr}"/>

                                <p:outputLabel value="Estado Solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeEstadoValor}"/>

                                <p:outputLabel value="Número Solicitud" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.id}"/>

                                <p:outputLabel value="Canal Comunicación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeCanalComunicacionValor}"/>

                                <p:outputLabel value="Usuario Crea" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.usuarioCrea}"/>

                                <p:outputLabel value="Fecha Crea" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.fechaHoraCrea}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                </p:outputLabel>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel  header="Información afiliado" style="margin-bottom:10px;">
                            <p:panelGrid id="panelAfiliado" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoValor}"/>                                        

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}" style="width: 181px;"/>

                                <p:outputLabel value="Nombres" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}"/>

                                <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}"/>

                                <p:outputLabel value="Género" style="font-weight:bold"/>
                                <h:outputText value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGeneroValor}"/>

                                <p:outputLabel value="Edad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.edad}"/>

                                <p:outputLabel value="Fecha nacimiento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaNacimiento}">
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Régimen" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.regimen == '1' ? 'Subsidiado' : referenciaContraRefBean.objeto.asegAfiliado.regimen == '2' ? 'Contributivo' : ''}"/>

                                <p:outputLabel value="Nivel sisbén" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeNivelSisbenValor}"/>

                                <p:outputLabel value="Tiene discapacidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.discapacidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Tipo afiliado" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoAfiliadoValor}"/>

                                <p:outputLabel value="Estado afiliación" style="font-weight:bold"/>
                                <p:outputLabel style="#{referenciaContraRefBean.colorEstadoAfiliado}" value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}"/>

                                <p:outputLabel value="Existe BDUA" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.registroBdua ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Código unico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}"/>

                                <p:outputLabel value="Grupo poblacional" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeGrupoPoblacionalValor}"/>

                                <p:outputLabel value="Grupo etnico" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEtniaValor}"/>

                                <p:outputLabel value="IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.cntPrestador.razonSocial}"/>

                                <p:outputLabel value="Sede IPS Primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Ciudad/Municipio IPS primaria" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento IPS primaria" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tiene Portabilidad"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.tienePortabilidad ? 'Si' : 'No'}"/>

                                <p:outputLabel value="Sede Prestador Portabilidad" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.nombreSede}"/>

                                <p:outputLabel value="Municipio Prestador Portabilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.asegAfiliado.portabilidadPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Tipo Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCfValor}" />

                                <p:outputLabel value="Número Documento CF" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumentoCf}" />

                                <p:outputLabel value="Modelo Liquidación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeModeloLiquidacionValor}" />

                                <p:outputLabel value="Fecha Movilidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaMovilidad}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Reactivación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaReactivacion}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Retiro" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaEgresoEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Fecha Afiliación EPS" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.fechaAfiliacionEps}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd" timeZone="America/Bogota"/>
                                </p:outputLabel>

                                <p:outputLabel value="Municipio Afiliación" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.afiliacionUbicacion.nombre}"/>

                                <p:outputLabel value="Municipio Residencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.nombre}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}"/>

                                <p:outputLabel value="Zona" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeZonaValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoFijoAfiliado}"/>

                                <p:outputLabel value="Celular" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.telefonoMovilAfiliado}"/>

                                <p:outputLabel value="Email" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}"/>

                                <p:outputLabel value="Sede IPS Primaria"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.primariaPrestadorSede.nombreSede}"/>
                                
                                <p:outputLabel value="Dirección Alternativa" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionAlternaContacto}"/>
                                
                                <p:outputLabel value="Nombre contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombreContactoEmergencia}"/>
                                
                                <p:outputLabel value="Telefono contacto de emergencia" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.telefonoContactoEmergencia}"/>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Información Acompañante" style="margin-bottom:10px;">
                            <p:panelGrid id="panelAcompanante" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.maeAcompananteTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDocumento}"/>

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoNombre}" style="width: 94%;"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompanantePrimerApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteSegundoApellido}" style="width: 94%;"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteTelefono}" style="width: 94%;"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDireccion}" style="width: 94%;"/>

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteMunicipio}" style="width: 94%;"/>     

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.acompananteDepartamento}" style="width: 94%;"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:panel  header="Información IPS" style="margin-bottom:10px;">
                            <p:panelGrid id="panelIPS" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.maeTipoDocumentoValor}"/>                              

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.numeroDocumento}"/>

                                <p:outputLabel value="Razón social" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.cntPrestador.razonSocial}"/>                 

                                <p:outputLabel value="Ciudad/Municipio" style="font-weight:bold" />
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerMunicipio(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Departamento"  style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.obtenerDepartamento(referenciaContraRefBean.objeto.cntPrestadorSede.ubicacionId)}"/>

                                <p:outputLabel value="Dirección" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntPrestadorSede.direccion}"/>

                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Persona que solicita la referencia" style="margin-bottom:10px;">
                            <p:panelGrid id="panelPersona" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:outputLabel value="Tipo documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.maeTipoDocumentoValor}"/>

                                <p:outputLabel value="Número documento" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.documento}" style="width: 40%;" />

                                <p:outputLabel value="Primer nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerNombre}"/>

                                <p:outputLabel value="Segundo nombre" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoNombre}"/>

                                <p:outputLabel value="Primer apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.primerApellido}"/>

                                <p:outputLabel value="Segundo apellido" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.cntProfesionales.segundoApellido}"/>

                                <p:outputLabel value="Especialidad" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objetoProfesionalPrestador.maEspecialidadValor}"/>

                                <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                <p:outputLabel value="#{referenciaContraRefBean.objeto.profesionalSolicitaTelefono}" />

                            </p:panelGrid>
                        </p:panel>
                        <p:panel  header="Servicio al cual se remite" style="margin-bottom:10px;">
                            <p:panelGrid id="panelServicios" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio refiere" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioRemiteValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Servicio solicita" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.maServicioSolicitaValor}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Informante" style="margin-bottom:10px;">
                            <p:panelGrid id="panelInformante" columns="2" layout="grid" styleClass="showcase-text-align-center">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Nombre" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteNombre}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cargo" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteCargo}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Teléfono" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-4">
                                        <p:outputLabel value="#{referenciaContraRefBean.objeto.informanteTelefono}" style="width: 40%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>    
                        </p:panel>

                        <p:panel  header="Información clínica relevante" style="margin-bottom:10px;">
                            <p:panelGrid id="panelClinica" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Resumen enfermedad Actual" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaEnfermedad" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.resumenClinico}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Antecedentes" style="margin-bottom:10px;">
                            <p:panelGrid id="panelAntecedentes" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.antecedentes}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel  header="Signos vitales" style="margin-bottom:10px;">   
                            <p:panelGrid id="panelSignosVitales" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Temperatura °C" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.temperatura}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia cardiaca" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaCardiaca}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Frecuencia respiratoria" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.frecuenciaRespiratoria}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial S" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArterialSistole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Tensión arterial D" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.tensionArtedialDiastole}" style="width: 94%;"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Saturación de oxigeno" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.saturacionOxigeno}" style="width: 94%;"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Datos antrópometricos" style="margin-bottom:10px;">   
                            <p:panelGrid id="panelAntropometricos" columns="4"
                                         columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">

                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Peso (kg)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.peso}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Talla (cm)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.talla}"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="IMC" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.imc}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Hallazgos del examen físico" style="margin-bottom:10px;">  
                            <p:panelGrid id="panelExamenFisico" columns="2" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Escala de glasglow (3-15)" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.escalaGlasgow}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="txtaDescrip" style="width: 98%;" value="#{referenciaContraRefBean.objetoDatosClinicos.hallazgosExamenFisico}" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Diagnósticos" style="margin-bottom:10px;"> 
                            <p:dataTable id="tablaDiagnosticos" style="margin: 10px;" value="#{referenciaContraRefBean.objeto.listaRefAnexo9Diagnostico}" var="diag" widgetVar="tablaDiagnosticos">                                
                                <p:column headerText="Código" filterBy="#{diag.maDiagnosticosCodigo}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosCodigo}"/>
                                </p:column>
                                <p:column headerText="Nombre" filterBy="#{diag.maDiagnosticosValor}">
                                    <f:facet name="filter">
                                        <p:inputText label="Descripción" maxlength="128" style="width: 95%;" onchange="PF('tablaWidget').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{diag.maDiagnosticosValor}"/>
                                </p:column>
                                <p:column headerText="Es Principal">
                                    <h:outputText value="#{diag.principal ? 'Si' : 'No'}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel  header="Triage" style="margin-bottom:10px;">
                            <p:panelGrid id="panelTriage" columns="3" layout="grid" styleClass="showcase-text-align-center">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Triage Nivel" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10" style="display: flex">
                                        <p:outputLabel value="#{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                        <img style="visibility: #{referenciaContraRefBean.objetoDatosClinicos.triage == 0 ? 'hidden' : 'visibility'};" 
                                             src="#{referenciaContraRefBean.obtenerTriage(referenciaContraRefBean.objetoDatosClinicos.triage)}" width="20" 
                                             title="Triage Nivel #{referenciaContraRefBean.objetoDatosClinicos.triage}"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel  header="Motivos de la remisión" style="margin-bottom:10px;">
                            <p:panelGrid id="panelMotivos" columns="4" layout="grid" styleClass="showcase-text-align-center" >
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Descripción" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objeto.motivo}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:outputLabel value="Causa externa" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionAlternaContacto}"/>

                                    <p:outputLabel value="Condicion y destino de la persona" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombreContactoEmergencia}"/>

                                    <p:outputLabel value="Tipo de atencion solicitada" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.telefonoContactoEmergencia}"/>
                                    
                                    <p:outputLabel value="Ubicacion" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionAlternaContacto}"/>

                                    <p:outputLabel value="Modalidad de realizacion de la tecnologia de salud" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombreContactoEmergencia}"/>

                                    <p:outputLabel value="Tecnologia" style="font-weight:bold"/>
                                    <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.telefonoContactoEmergencia}"/>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                        <br/>
                        <p:panel  header="Archivos Adjuntos" style="margin-bottom:10px;">
                            <p:dataTable id="tablaAdjuntostransporte" style="margin: 10px;" value="#{referenciaContraRefBean.listaRefAnexo9Adjuntos}" var="adj" widgetVar="tablaArchivo">
                                <p:column headerText="Tipo" style="text-align: center;">
                                    <p:outputLabel value="#{adj.maeTipoArchivoValor}"/>
                                </p:column>
                                <p:column headerText="Nombre" style="text-align: center;">
                                    <p:outputLabel value="#{adj.nombre}#{adj.extension}"/>
                                </p:column>
                                <p:column headerText="Fecha crea" style="text-align: center;">
                                    <p:outputLabel value="#{adj.fechaHoraCrea}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center;">
                                    <p:commandButton icon="ui-icon-arrowstop-1-s"
                                                     rendered="#{adj.id != null ? true : false}"
                                                     title="Descargar Adjunto"
                                                     action="#{referenciaContraRefBean.descargarAdjunto(adj)}"
                                                     ajax="false" 
                                                     process="@this"/>
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel header="Asignar Tipo Transporte" style="margin-bottom:10px;" toggleable="true">
                            <div align="right"> 
                                <p:commandButton immediate="true" action="#{referenciaContraRefBean.crearTransporte()}" icon="ui-icon-plusthick" title="Agregar Transporte"/>
                            </div>
                            <p:dataTable id="tablaTransporte" style="margin: 10px;" value="#{referenciaContraRefBean.lazyTransporte}" var="trans" widgetVar="tablaTransporte"
                                         rowKey="#{obj.id}" rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros">                                
                                <p:column headerText="Tipo Transporte" filterBy="#{trans.maeTipoTransporteId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTipoTransporte}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeTipoTransporteValor}"/>
                                </p:column>
                                <p:column headerText="Clase Transporte" filterBy="#{trans.maeClaseTransporteId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaClaseTransporteFiltro}" var="clast" itemLabel="#{clast.descripcionCorta}" itemValue="#{clast.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeClaseTransporteValor}"/>
                                </p:column>
                                <p:column headerText="Proveedor">
                                    <h:outputText value="#{trans.cntPrestadorSede.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Descripción" >
                                    <h:outputText value="#{trans.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Hora Origen" filterBy="#{trans.fechaHoraOrigen}">
                                    <f:facet name="filter">
                                        <p:inputText label="Fecha Hora Origen" maxlength="19" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.fechaHoraOrigen}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Fecha Hora Destino" filterBy="#{trans.fechaHoraDestino}">
                                    <f:facet name="filter">
                                        <p:inputText label="Fecha Hora Destino" maxlength="19" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.fechaHoraDestino}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Gestión Transporte" filterBy="#{trans.maeTransporteLiquidacionId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaTransporte').filter()" style="width: 90%;" >
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTransporteLiquidacion}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{trans.maeTransporteLiquidacionValor}"/>
                                </p:column>
                                <p:column headerText="Usuario Gestiona" filterBy="#{trans.usuarioCrea}">
                                    <f:facet name="filter">
                                        <p:inputText label="Usuario Gestiona" maxlength="128" style="width: 95%;" onchange="PF('tablaTransporte').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{trans.usuarioCrea}"/>
                                </p:column>
                                <p:column headerText="Acciones">
                                    <p:commandButton immediate="true" icon="ui-icon-search" actionListener="#{referenciaContraRefBean.verSeguimiento(trans.id)}" title="Ver Transporte Seguimiento"/>
                                    <p:commandButton immediate="true" icon="ui-icon-script" actionListener="#{referenciaContraRefBean.crearSeguimiento(trans.id)}" title="Transporte Seguimiento"/>
                                </p:column>                                    
                            </p:dataTable>
                        </p:panel>

                        <p:panelGrid id="panelEditar" style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoTransporte').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Agregar" widgetVar="dialogoAgregarTransporte" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <h:form id="frmAgregarTrans">
                    <p:panelGrid id="panelTransporte" columns="4"
                                 columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                 layout="grid"
                                 styleClass="ui-panelgrid-blank ui-fluid"
                                 style="border:0px none; background-color:transparent;">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Tipo Transporte" for="somTipoTransporte" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:selectOneMenu id="somTipoTransporte" value="#{referenciaContraRefBean.objetoTransporte.maeTipoTransporteId}" style="width: 90%;" required="true">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaTipoTransporte}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                    <p:ajax event="change" listener="#{referenciaContraRefBean.validarClaseTransporte()}" update="somClaseTransporte"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Clase Transporte" for="somClaseTransporte" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:selectOneMenu id="somClaseTransporte" required="true" value="#{referenciaContraRefBean.maeClaseTransporte}" style="width: 90%;"  converter="transporteClaseConverterReferencia">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaClaseTransporte}" var="clast" itemLabel="#{clast.descripcionCorta}" itemValue="#{clast}"/>
                                    <p:ajax event="change" update="lblProveedor btnTransporte olSedeTransporte"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel id="lblProveedor" value="Proveedor#{referenciaContraRefBean.validarProovedorTransporte()?'':'*'}" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4" style="display: grid; justify-content: start; align-content: center;">
                                <p:outputLabel id="olSedeTransporte" style="width: 98%;" value="#{referenciaContraRefBean.objetoTransporte.cntPrestadorSede.nombreSede}"/>

                                <p:commandButton id="btnTransporte" style="width: 34px;" immediate="true" action="#{referenciaContraRefBean.consultarSedeTransporte()}"
                                                 icon="ui-icon-home" title="Prestadores Sede" disabled="#{referenciaContraRefBean.validarProovedorTransporte()}"/>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Decripción" for="atxtDescripcion" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4" style="display: grid">
                                <p:inputTextarea id="atxtDescripcion" required="true" autoResize="false" value="#{referenciaContraRefBean.objetoTransporte.observacion}" 
                                                 maxlength="1024" style="width: 98%;" counter="display7" counterTemplate="{0} caracteres faltantes."/>
                                <br/>
                                <h:outputText id="display7" style="margin-top: -10px" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Fecha Hora Origen" for="fechaHoraOrigen" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:calendar autocomplete="off"
                                            id="fechaHoraOrigen"
                                            required="true"
                                            navigator="true"
                                            pattern="yyyy-MM-dd HH:mm"
                                            size="30" value="#{referenciaContraRefBean.objetoTransporte.fechaHoraOrigen}"
                                            maxlength="10">
                                </p:calendar>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Fecha Hora Destino" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:calendar autocomplete="off"
                                            navigator="true"
                                            pattern="yyyy-MM-dd HH:mm"
                                            size="30" value="#{referenciaContraRefBean.objetoTransporte.fechaHoraDestino}"
                                            maxlength="10">
                                </p:calendar>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Insumos" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:selectCheckboxMenu id="insumos" style="width: 120px" value="#{referenciaContraRefBean.insumosSeleccionados}" label="Seleccione..."
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
                                    <f:selectItems value="#{referenciaContraRefBean.listaInsumoTransporte}" var="ins" itemLabel="#{ins.nombre}" itemValue="#{ins.id}"/>
                                    <p:ajax event="change" listener="#{referenciaContraRefBean.obtenerInsumosSeleccionados()}" />
                                </p:selectCheckboxMenu>
                            </p:column>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Gestión transporte" for="somTransporteLiquidacion" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-4">
                                <p:selectOneMenu id="somTransporteLiquidacion" required="true" value="#{referenciaContraRefBean.objetoTransporte.maeTransporteLiquidacionId}" style="width: 90%;" >
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaTransporteLiquidacion}" var="transt" itemLabel="#{transt.descripcionCorta}" itemValue="#{transt.id}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6" style="text-align: center">
                                    <p:commandButton value="Adicionar" type="button" onclick="transporteRemote()" validateClient="true"/>
                                    <p:remoteCommand name="transporteRemote" action="#{referenciaContraRefBean.guardarTransporte()}" update="frmAgregarTrans" process="@all"/>
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoAgregarTransporte').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>
            </p:dialog>

            <p:dialog header="Seguimiento a la solicitud" widgetVar="dialogoSeguimiento" position="top" appendTo="@(body)" modal="true" style="max-width: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <p:scrollPanel mode="native" style="max-height: 470px;">
                    <h:form id="frmAgregarSeguimiento">
                        <p:panelGrid id="panelTransporte" columns="2" layout="grid" styleClass="showcase-text-align-center">

                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Motivo Seguimiento" for="somTipoSeguimiento" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:selectOneMenu id="somTipoSeguimiento" required="true" value="#{referenciaContraRefBean.objetoTransporteSeguimiento.maeTipoReporteId}" style="width: 90%;" >
                                        <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{referenciaContraRefBean.listaTipoSeguimiento}" var="segu" itemLabel="#{segu.descripcionCorta}" itemValue="#{segu.id}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Descripción" for="txtaObservacion" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:inputTextarea id="txtaObservacion" style="width: 98%;" autoResize="false" rows="4" required="true" maxlength="512" 
                                                     value="#{referenciaContraRefBean.objetoTransporteSeguimiento.observacion}" counter="display8" counterTemplate="{0} caracteres faltantes."/>
                                    <br/>
                                    <h:outputText id="display8" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid id="panelTransSeguimiento" style="height:auto;" columns="1">

                            <p:dataTable id="tablaTransporteSegui" style="margin: 10px;" value="#{referenciaContraRefBean.objetoTransporte.listaRefTransporteSeguimiento}" var="traSegui" 
                                         widgetVar="tablaTransporteSegui" rowKey="#{obj.id}" emptyMessage="No se encontraron registros"
                                         rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" >
                                <p:column headerText="Motivo de seguimiento">
                                    <h:outputText value="#{traSegui.maeTipoReporteValor}"/>
                                </p:column>
                                <p:column headerText="Detalle Seguimiento">
                                    <h:outputText value="#{traSegui.observacion}" style="overflow: auto;"/>
                                </p:column>
                                <p:column headerText="Fecha Seguimiento">
                                    <h:outputText value="#{traSegui.fechaHoraCrea}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{traSegui.usuarioCrea}"/>
                                </p:column>
                            </p:dataTable>

                        </p:panelGrid>
                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Guardar" type="button" onclick="seguimientoRemote()" validateClient="true"/>
                                        <p:remoteCommand name="seguimientoRemote" action="#{referenciaContraRefBean.guardarSeguimiento()}" update="frmAgregarSeguimiento" process="@all"/>
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Ver Transporte Seguimiento" widgetVar="dialogoVerSeguimiento" appendTo="@(body)" modal="true" style="max-width: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <p:scrollPanel mode="native" style="max-height: 500px;">
                    <h:form id="frmVerSeguimiento">
                        <p:panelGrid id="panelTransporte" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Tipo Transporte" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{referenciaContraRefBean.objetoTransporte.maeTipoTransporteValor}"/>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Clase Transporte" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{referenciaContraRefBean.objetoTransporte.maeClaseTransporteValor}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Proveedor" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel style="width: 98%;" value="#{referenciaContraRefBean.objetoTransporte.cntPrestadorSede.nombreSede}"/>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Decripción" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{referenciaContraRefBean.objetoTransporte.observacion}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Fecha Hora Origen" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <h:outputText value="#{referenciaContraRefBean.objetoTransporte.fechaHoraOrigen}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </h:outputText>
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Fecha Hora Destino" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <h:outputText value="#{referenciaContraRefBean.objetoTransporte.fechaHoraDestino}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Insumos" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:dataList value="#{referenciaContraRefBean.objetoTransporte.listaRefTransporteInsumo}" var="insumo" type="ordered">
                                        #{insumo.maInsumoCodigo} - #{insumo.maInsumoValor}
                                    </p:dataList>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid id="panelVerSeguimiento" style="height:auto;" columns="1">
                            <p:dataTable id="tablaTransporteSegui" style="margin: 10px;" value="#{referenciaContraRefBean.objetoTransporte.listaRefTransporteSeguimiento}" var="traSegui" 
                                         widgetVar="tablaTransporteSegui" rowKey="#{obj.id}" emptyMessage="No se encontraron registros"
                                         rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100">
                                <p:column headerText="Motivo de seguimiento">
                                    <h:outputText value="#{traSegui.maeTipoReporteValor}"/>
                                </p:column>
                                <p:column headerText="Detalle Seguimiento">
                                    <h:outputText value="#{traSegui.observacion}"/>
                                </p:column>
                                <p:column headerText="Fecha Seguimiento">
                                    <h:outputText value="#{traSegui.fechaHoraCrea}"/>
                                </p:column>
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{traSegui.usuarioCrea}"/>
                                </p:column>
                            </p:dataTable>
                        </p:panelGrid>
                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoVerSeguimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--seleccionar afiliado-->
            <p:dialog header="Consultar Afiliados" widgetVar="dialogoAfiliadoLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmAfiliadoLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{referenciaContraRefBean.refrescarAfiliado()}" oncomplete="PF('tablaWidgetA').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelAfiliadoLista" columns="1">
                            <p:dataTable id="tablaRegistrosAfiliados" widgetVar="tablaWidgetA" var="obj" value="#{referenciaContraRefBean.lazyAfiliados}" rowKey="#{obj.id}"
                                         rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage="No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{referenciaContraRefBean.onRowSelectAfiliado}" />
                                <p:column headerText="Tipo Documento" filterBy="#{obj.maeTipoDocumento}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetA').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTiposDocumentoPersona}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" sortBy="#{obj.numeroDocumento}" filterBy="#{obj.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Codigo Unico" sortBy="#{obj.idAfiliado}" filterBy="#{obj.idAfiliado}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.idAfiliado}"/>
                                </p:column>
                                <p:column headerText="Primer Nombre" sortBy="#{obj.primerNombre}" filterBy="#{obj.primerNombre}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Primer nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.primerNombre}"/>
                                </p:column>
                                <p:column headerText="Segundo Nombre" sortBy="#{obj.segundoNombre}" filterBy="#{obj.segundoNombre}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Segundo nombre" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.segundoNombre}"/>
                                </p:column>
                                <p:column headerText="Primer Apellido" sortBy="#{obj.primerApellido}" filterBy="#{obj.primerApellido}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Primer Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.primerApellido}"/>
                                </p:column>
                                <p:column headerText="Segundo Apellido" sortBy="#{obj.segundoApellido}" filterBy="#{obj.segundoApellido}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Segundo Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{obj.segundoApellido}"/>
                                </p:column>
                                <p:column headerText="Genero" sortBy="#{obj.maeGeneroId}" filterBy="#{obj.maeGeneroId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetA').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTiposGenero}" var="tipoGe" itemValue="#{tipoGe.id}" itemLabel="#{tipoGe.nombre}" itemDescription="#{tipoGe.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeGeneroValor}"/>
                                </p:column>
                                <p:column headerText="Estado Afiliación" sortBy="#{obj.maeEstadoAfiliacion}" filterBy="#{obj.maeEstadoAfiliacion}" >
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetA').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaEstadosAfiliado}" var="tipoAfi" itemValue="#{tipoAfi.id}" itemLabel="#{tipoAfi.nombre}" itemDescription="#{tipoAfi.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{obj.maeEstadoAfiliacionValor}"/>
                                </p:column>
                                <p:column headerText="Regimen" sortBy="#{obj.maeRegimenValor}" filterBy="#{obj.maeRegimenId}">
                                    <f:facet name="filter">
                                        <f:facet name="filter">
                                            <p:selectOneMenu onchange="PF('tablaWidgetA').filter()" style="width: 88%;" >
                                                <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                                <f:selectItems value="#{referenciaContraRefBean.listaRegimen}" var="regimen" itemValue="#{regimen.id}" itemLabel="#{regimen.nombre}" itemDescription="#{regimen.descripcion}"/>
                                            </p:selectOneMenu>
                                        </f:facet>
                                    </f:facet>
                                    <p:outputLabel value="#{obj.regimen == '1' ? 'Subsidiado' : obj.regimen == '2' ? 'Contributivo' : ''}"/>
                                </p:column>
                                <p:column headerText="Municipio" sortBy="#{obj.afiliacionUbicacion.nombre}" filterBy="#{obj.afiliacionUbicacion.nombre}">
                                    <f:facet name="filter">
                                        <p:inputText class="filtroA" label="Segundo Apellido" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetA').filter()"/>
                                    </f:facet>
                                    <p:outputLabel value="#{obj.afiliacionUbicacion.nombre}"/>
                                </p:column>

                            </p:dataTable>
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoAfiliadoLista').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--referencias activas-->
            <p:dialog header="Remisiones activas" widgetVar="dialogoRemisionesActivas" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="PF('tablaRemisiones').filter()">
                <p:scrollPanel mode="native" style="height: 500px;">
                    <h:form id="frmRemisionesActivas">
                        <p:dataTable id="tablaRemisiones" var="anexo" value="#{referenciaContraRefBean.listaAnexos9Activos}" widgetVar="tablaRemisiones" resizableColumns="true" emptyMessage="No se encontraron registros">
                            <p:column headerText="Número">
                                <h:outputText value="#{anexo.id}" />
                            </p:column>
                            <p:column headerText="Estado">
                                <h:outputText value="#{anexo.maeEstadoValor}" />
                            </p:column>
                            <p:column headerText="Tipo solicitud">
                                <h:outputText value="#{anexo.tipoSolicitudStr}" />
                            </p:column>
                            <p:column headerText="Fecha">
                                <h:outputText value="#{anexo.fechaHoraRegistro}" >
                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                </h:outputText>
                            </p:column>
                        </p:dataTable> 
                        <p:panelGrid style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Continuar" type="button" onclick="PF('dialogoRemisionesActivas').hide()" immediate="true" style="margin-left: 5px;"/>
                                        <p:commandButton value="Cancelar" onclick="PF('dialogoRemisionesActivas').hide()" 
                                                         actionListener="#{referenciaContraRefBean.cancelarCreacionAnexo9()}" 
                                                         update="frmCrearAfiliado"
                                                         style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!--seleccionar IPS-->
            <p:dialog header="Consultar Ips" widgetVar="dialogoIpsLista" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true" onShow="inhabilitarEnter()">
                <p:scrollPanel mode="native" style="max-height: 400px;">
                    <h:form id="frmIpsLista">
                        <div align="right">
                            <p:commandButton title="Refrescar" actionListener="#{referenciaContraRefBean.refrescarIps()}" oncomplete="PF('tablaWidgetI').filter()" icon="ui-icon-refresh"/>
                        </div>
                        <p:panelGrid id="panelIpsLista" columns="1">

                            <p:dataTable id="tablaRegistrosIps" widgetVar="tablaWidgetI" var="objIPS" value="#{referenciaContraRefBean.lazyIPS}" rowKey="#{objIPS.id}"
                                         rows="#{referenciaContraRefBean.tamanoPagina}" paginator="true" lazy="true" reflow="true"
                                         currentPageReportTemplate="Registros del {startRecord} al {endRecord} de {totalRecords}, Página {currentPage} de {totalPages}"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,30,50,100" 
                                         emptyMessage= "No se encontraron registros" selectionMode="single">
                                <p:ajax event="rowSelect" listener="#{referenciaContraRefBean.onRowSelectIps}" />
                                <p:column headerText="Código Habilitacion" filterBy="#{objIPS.codigoHabilitacionSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Código Habilitación" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetI').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.codigoHabilitacionSede}"/>
                                </p:column>
                                <p:column headerText="Tipo Documento" filterBy="#{objIPS.cntPrestador.maeTipoDocumentoId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetI').filter()">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaTiposDocumentoEmpresa}" var="tipoDoc" itemValue="#{tipoDoc.id}" itemLabel="#{tipoDoc.descripcion}" itemDescription="#{tipoDoc.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.maeTipoDocumentoValor}"/>
                                </p:column>
                                <p:column headerText="Numero Documento" filterBy="#{objIPS.cntPrestador.numeroDocumento}">
                                    <f:facet name="filter">
                                        <p:inputText label="Numero Documetno" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetI').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.numeroDocumento}"/>
                                </p:column>
                                <p:column headerText="Razón Social" filterBy="#{objIPS.cntPrestador.razonSocial}">
                                    <f:facet name="filter">
                                        <p:inputText label="Razón Social" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetI').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.cntPrestador.razonSocial}"/>
                                </p:column>
                                <p:column headerText="Sede" filterBy="#{objIPS.nombreSede}">
                                    <f:facet name="filter">
                                        <p:inputText label="Sede" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetI').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.nombreSede}"/>
                                </p:column>
                                <p:column headerText="Departamento">
                                    <h:outputText value="#{referenciaContraRefBean.obtenerDepartamento(objIPS.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Municipio" filterBy="#{objIPS.ubicacionId}">
                                    <f:facet name="filter">
                                        <p:selectOneMenu onchange="PF('tablaWidgetI').filter()" filter="true" filterMatchMode="startsWith">
                                            <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                            <f:selectItems value="#{referenciaContraRefBean.listaUbicacion}" var="tipoUbiC1" itemValue="#{tipoUbiC1.id}" itemLabel="#{tipoUbiC1.descripcion}" itemDescription="#{tipoUbiC1.descripcion}" />
                                        </p:selectOneMenu>
                                    </f:facet>
                                    <h:outputText value="#{referenciaContraRefBean.obtenerMunicipio(objIPS.ubicacionId)}"/>
                                </p:column>
                                <p:column headerText="Dirección">
                                    <f:facet name="filter">
                                        <p:inputText label="Dirección" maxlength="128" style="width: 95%;" onchange="PF('tablaWidgetI').filter()"/>
                                    </f:facet>
                                    <h:outputText value="#{objIPS.direccion}"/>
                                </p:column>
                            </p:dataTable>

                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="6" style="text-align: center">
                                        <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoIpsLista').hide()" immediate="true" style="margin-left: 5px;"/>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>

            <p:dialog header="Crear Adjunto" widgetVar="dialogoAdjuntos" appendTo="@(body)" modal="true" width="550px" onShow="inhabilitarEnter()">
                <h:form id="frmAdjunto">
                    <p:panelGrid id="panelAdjuntos" columns="2" layout="grid" styleClass="showcase-text-align-center">
                        <p:row>
                            <p:column class="ui-g-3">
                                <p:outputLabel value="Tipo Adjunto" for="somTipo" style="font-weight:bold"/> 
                            </p:column>
                            <p:column class="ui-g-9">
                                <p:selectOneMenu id="somTipo" required="true" value="#{referenciaContraRefBean.objetoAdjunto.maeTipoArchivoId}">
                                    <f:selectItem itemLabel=" -- " itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{referenciaContraRefBean.listaTipoAdjunto}" var="adju" itemValue="#{adju.id}" itemLabel="#{adju.nombre}" />
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column class="ui-g-3">
                                <p:outputLabel value="Archivo" for="adjuntoArchivo" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-9">
                                <p:fileUpload id="adjuntoArchivo" label="Adjunto" mode="advanced"
                                              skinSimple="true"
                                              value="#{referenciaContraRefBean.archivoAdjunto}"
                                              listener="#{referenciaContraRefBean.cargarArchivoDocumento}"
                                              multiple="true"
                                              auto="true"
                                              invalidFileMessage="Tipo inválido de archivo"
                                              fileLimitMessage="Máximo número de archivos excedido."
                                              update="nombreDocumento cmdnombreDocumento"
                                              uploadLabel="Subir"  cancelLabel="Cancelar"
                                              sizeLimit="7000000" fileLimit="1" allowTypes="/(\.|\/)(pdf|PDF|jpe?g|doc|DOC|docx)$/"
                                              widgetVar="subirManual"/>

                                <p:outputLabel styleClass="texto-adjuntos" id="nombreDocumento" value="#{referenciaContraRefBean.nombreDocumento}" style="font-weight:bold"/>
                                <p:commandButton id="cmdnombreDocumento" icon="ui-icon-close" action="#{referenciaContraRefBean.borrarArchivo()}"
                                                 style="#{referenciaContraRefBean.mostrarBorrarDocumento ?  'display: initial;' : 'display: none;'} width: 30px"
                                                 update="nombreDocumento cmdnombreDocumento adjuntoArchivo"  immediate="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6" style="text-align: center">
                                    <p:commandButton value="Agregar" action="#{referenciaContraRefBean.agregarArchivo()}" />
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoAdjuntos').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                    <h:form id="exit">
                        <p:remoteCommand  id="limpiarRender" name="limpiarRender" action="#{referenciaContraRefBean.salir()}"/>
                    </h:form>
                </h:form>
            </p:dialog>
            <!-- descripciones afiliado genericas -->
            <p:dialog header="Afiliado" widgetVar="dlgInfoAfiliado" class="modal-no-scroll" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAfiliadoGeneral">
                        <p:panelGrid id="panelAfiliadoGeneral" columns="4"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">

                            <p:outputLabel value="Estado" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeEstadoAfiliacionValor}" />

                            <p:outputLabel value="Nombres" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.nombres}" />

                            <p:outputLabel value="Apellidos" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.apellidos}" />

                            <p:outputLabel value="Tipo Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeTipoDocumentoCodigo}" />

                            <p:outputLabel value="Documento" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.numeroDocumento}" />

                            <p:outputLabel value="Correo" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.email}" />

                            <p:outputLabel value="Dirección" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.direccionResidencia}" />

                            <p:outputLabel value="Ubicación" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.obtenerUbicacion(referenciaContraRefBean.objeto.asegAfiliado.residenciaUbicacion.id)}" />

                            <p:outputLabel value="Regimen" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.maeRegimenValor}" />

                            <p:outputLabel value="Contrato" style="font-weight:bold"/>
                            <p:outputLabel value="#{referenciaContraRefBean.objeto.asegAfiliado.idAfiliado}" />

                        </p:panelGrid>
                        <p:panel header="Contactos Aseguramiento" toggleable="true" style="height:auto;">
                            <p:scrollPanel mode="native">
                                <p:dataTable id="tablaContactosGeneralAseg" var="contacto" value="#{referenciaContraRefBean.objeto.asegAfiliado.listaAsegAfiliadoContacto}" widgetVar="tablaContactosGestionarAseg" scrollable="true" emptyMessage="No se encontraron registros">
                                    <p:column headerText="Número Contacto">
                                        <h:outputText value="#{contacto.numeroContacto}"/>
                                    </p:column>
                                    <p:column headerText="Tipo">
                                        <h:outputText value="#{contacto.maeTipoContactoValor}"/>
                                    </p:column>
                                    <p:column headerText="Observación">
                                        <h:outputText value="#{contacto.observacion}"/>
                                    </p:column>
                                </p:dataTable>
                            </p:scrollPanel>
                        </p:panel>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgInfoAfiliado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <!-- descripciones genericas -->
            <p:dialog header="Observación" widgetVar="dlgMsg" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmObservacion">
                        <p:panelGrid id="panelObservacion" style="width:100%;margin:10px 0px" columns="1">
                            <p:inputTextarea  value="#{referenciaContraRefBean.observacionGenerica}" readonly="true" style="width: 100%"/>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dlgMsg').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
             <!--AGREGAR PROCEDIMIENTO-->
            <p:dialog header="Agregar Procedimiento" widgetVar="dialogoProcedimiento" appendTo="@(body)" modal="true" width="85%" dynamic="true"> 
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmProcedimiento">
                        <p:panel id="pProcedimiento" header="ITEM" style="margin-bottom:10px;" collapsed="false" toggleable="true">
                            <p:panelGrid id="panelProcedimiento">
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Procedimiento *" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-10">
                                        <p:outputLabel id="infoTegnologia" value="#{referenciaContraRefBean.objeto.maTecnologiaValor}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column class="ui-g-2">
                                        <p:outputLabel value="Cantidad" for="cantidad" style="font-weight:bold"/>
                                    </p:column>
                                    <p:column class="ui-g-2">
                                        <p:inputText id="cantidad" value="#{referenciaContraRefBean.objeto.cantidadTecnologiaSolicitada}" size="7" maxlength="7" required="true" requiredMessage="Cantidad: Este campo es obligatorio.">
                                            <p:keyFilter mask="num" />
                                        </p:inputText>
                                    </p:column>
                                </p:row>
                            </p:panelGrid> 
                        </p:panel>
                        <p:separator/>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column colspan="4" style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center; margin-top: 10px;">
                                            <p:commandButton value="Adicionar" type="button" onclick="adicionarProcedimientoRemote()" validateClient="true"/>
                                            <p:remoteCommand name="adicionarProcedimientoRemote" action ="#{referenciaContraRefBean.agregarProcedimiento}" update="frmProcedimiento"/>
                                            <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoProcedimiento').hide()" immediate="true" style="margin-left: 5px;"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form>
                </p:scrollPanel>
            </p:dialog>
            <!-- borrar adjunto-->
            <p:dialog header="Borrar Adjunto" widgetVar="dialogoBorrarAdjunto" appendTo="@(body)" modal="true" style="max-width: 90%;max-height: 90%;" dynamic="true">
                <h:form id="frmBorrarAdjunto">
                    <p:panelGrid id="panelBorrarAdjunto" style="height:auto;">
                        <p:row>
                            <p:column class="ui-g-2">
                                <p:outputLabel value="Observación" for="comentarioAnulacion" style="font-weight:bold"/>
                            </p:column>
                            <p:column class="ui-g-10">
                                <p:inputTextarea id="comentarioAnulacion" rows="5" cols="100" value="#{referenciaContraRefBean.objetoAdjunto.borradoObservacion}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" required="true" requiredMessage="Observación: Este campo es obligatorio"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:panelGrid  style="width:100%;margin:10px 0px">
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="2" style="text-align: center">
                                    <p:commandButton value="Borrar" actionListener="#{referenciaContraRefBean.borrarAdjuntoReferencia()}"/>                                       
                                    <p:commandButton value="Cancelar" type="button" onclick="PF('dialogoBorrarAdjunto').hide()" immediate="true" style="margin-left: 5px;"/>
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:form>                
            </p:dialog>
            <!-- descripciones genericas -->
            <p:dialog header="Auditoria Borrado" widgetVar="dialogoAuditoriaAjuntoBorrado" minHeight="50" appendTo="@(body)" modal="true"  width="80%" dynamic="true">           
                <p:scrollPanel mode="native" style="height:300px">
                    <h:form id="frmAuditoriaAjuntoBorrado">
                        <p:panelGrid id="panelAuditoriaAjuntoBorrado" style="width:100%;margin:10px 0px" >
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Usuario"  style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{referenciaContraRefBean.objetoAdjunto.usuarioBorra}" />
                                </p:column>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Fecha" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-4">
                                    <p:outputLabel value="#{referenciaContraRefBean.objetoAdjunto.fechaHoraBorra}">
                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd HH:mm:ss" timeZone="America/Bogota"/>
                                    </p:outputLabel>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column class="ui-g-2">
                                    <p:outputLabel value="Observación" for="comentarioAnulacion" style="font-weight:bold"/>
                                </p:column>
                                <p:column class="ui-g-10">
                                    <p:inputTextarea id="comentarioAnulacion" rows="5" cols="100" value="#{referenciaContraRefBean.objetoAdjunto.borradoObservacion}" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="true" readonly="true"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <p:panelGrid  style="width:100%;margin:10px 0px">
                            <f:facet name="footer">
                                <p:row>
                                    <p:column style="text-align: center">
                                        <h:panelGroup style="display:block; text-align:center;">
                                            <p:commandButton value="Salir" type="button" onclick="PF('dialogoAuditoriaAjuntoBorrado').hide()" immediate="true"/>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </f:facet>
                        </p:panelGrid>
                    </h:form> 
                </p:scrollPanel>
            </p:dialog>
            <ui:include src="../contratacion/seleccion/sel_prestador_sedes.xhtml" />
            <ui:include src="../maestro/seleccion/sel_diagnosticos.xhtml" /> 
            <ui:include src="../maestro/seleccion/sel_especialidades.xhtml" />
            <ui:include src="../maestro/seleccion/sel_servicios_habilitacion.xhtml" />
            <ui:include src="../maestro/seleccion/sel_tecnologias.xhtml" />
        </center>
    </ui:define>
</ui:composition>